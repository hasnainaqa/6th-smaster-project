(self.webpackChunknoadmap_web=self.webpackChunknoadmap_web||[]).push([[179],{6217:(_n,at,H)=>{"use strict";H.d(at,{nm:()=>Ei});var h=H(2122);H(4650),H(259);var Oe=H(5861),Ot=H(9681),Tt=H(4859),Wt=H(2090),qe=H(1877);const lt=new Map,Dt={activated:!1,tokenObservers:[]},pt={initialized:!1,enabled:!1};function Rt(it){return lt.get(it)||Object.assign({},Dt)}function yt(){return pt}class Nn{constructor(Je,mt,Kt,En,tr){if(this.operation=Je,this.retryPolicy=mt,this.getWaitDuration=Kt,this.lowerBound=En,this.upperBound=tr,this.pending=null,this.nextErrorWaitInterval=En,En>tr)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Je){var mt=this;return(0,Oe.Z)(function*(){mt.stop();try{mt.pending=new Wt.BH,yield function yn(it){return new Promise(Je=>{setTimeout(Je,it)})}(mt.getNextRun(Je)),mt.pending.resolve(),yield mt.pending.promise,mt.pending=new Wt.BH,yield mt.operation(),mt.pending.resolve(),yield mt.pending.promise,mt.process(!0).catch(()=>{})}catch(Kt){mt.retryPolicy(Kt)?mt.process(!1).catch(()=>{}):mt.stop()}})()}getNextRun(Je){if(Je)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const mt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),mt}}}const en=new Wt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ht(it){if(!Rt(it).activated)throw en.create("use-before-activation",{appName:it.name})}function Bn(it,Je){return Un.apply(this,arguments)}function Un(){return(Un=(0,Oe.Z)(function*({url:it,body:Je},mt){const Kt={"Content-Type":"application/json"},En=mt.getImmediate({optional:!0});if(En){const Ii=yield En.getHeartbeatsHeader();Ii&&(Kt["X-Firebase-Client"]=Ii)}const tr={method:"POST",body:JSON.stringify(Je),headers:Kt};let Tr,di;try{Tr=yield fetch(it,tr)}catch(Ii){throw en.create("fetch-network-error",{originalErrorMessage:Ii?.message})}if(200!==Tr.status)throw en.create("fetch-status-error",{httpStatus:Tr.status});try{di=yield Tr.json()}catch(Ii){throw en.create("fetch-parse-error",{originalErrorMessage:Ii?.message})}const Hr=di.ttl.match(/^([\d.]+)(s)$/);if(!Hr||!Hr[2]||isNaN(Number(Hr[1])))throw en.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${di.ttl}`});const to=1e3*Number(Hr[1]),bs=Date.now();return{token:di.token,expireTimeMillis:bs+to,issuedAtTimeMillis:bs}})).apply(this,arguments)}function Jn(it,Je){const{projectId:mt,appId:Kt,apiKey:En}=it.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${mt}/apps/${Kt}:exchangeDebugToken?key=${En}`,body:{debug_token:Je}}}const xr="firebase-app-check-store";let gi=null;function yr(){return gi||(gi=new Promise((it,Je)=>{try{const mt=indexedDB.open("firebase-app-check-database",1);mt.onsuccess=Kt=>{it(Kt.target.result)},mt.onerror=Kt=>{var En;Je(en.create("storage-open",{originalErrorMessage:null===(En=Kt.target.error)||void 0===En?void 0:En.message}))},mt.onupgradeneeded=Kt=>{0===Kt.oldVersion&&Kt.target.result.createObjectStore(xr,{keyPath:"compositeKey"})}}catch(mt){Je(en.create("storage-open",{originalErrorMessage:mt?.message}))}}),gi)}function br(){return(br=(0,Oe.Z)(function*(it,Je){const Kt=(yield yr()).transaction(xr,"readwrite"),tr=Kt.objectStore(xr).put({compositeKey:it,value:Je});return new Promise((Tr,di)=>{tr.onsuccess=Hr=>{Tr()},Kt.onerror=Hr=>{var to;di(en.create("storage-set",{originalErrorMessage:null===(to=Hr.target.error)||void 0===to?void 0:to.message}))}})})).apply(this,arguments)}const si=new qe.Yd("@firebase/app-check");function nr(it,Je){return(0,Wt.hl)()?function mi(it,Je){return function cn(it,Je){return br.apply(this,arguments)}(function ar(it){return`${it.options.appId}-${it.name}`}(it),Je)}(it,Je).catch(mt=>{si.warn(`Failed to write token to IndexedDB. Error: ${mt}`)}):Promise.resolve()}function Pn(){return yt().enabled}function Qn(){return jr.apply(this,arguments)}function jr(){return(jr=(0,Oe.Z)(function*(){const it=yt();if(it.enabled&&it.token)return it.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const vn={error:"UNKNOWN_ERROR"};function Gt(it){return Wt.US.encodeString(JSON.stringify(it),!1)}function wn(it){return sr.apply(this,arguments)}function sr(){return(sr=(0,Oe.Z)(function*(it,Je=!1){const mt=it.app;Ht(mt);const Kt=Rt(mt);let tr,En=Kt.token;if(En&&!Te(En)&&(Kt.token=void 0,En=void 0),!En){const Hr=yield Kt.cachedTokenPromise;Hr&&(Te(Hr)?En=Hr:yield nr(mt,void 0))}if(!Je&&En&&Te(En))return{token:En.token};let di,Tr=!1;if(Pn()){Kt.exchangeTokenPromise||(Kt.exchangeTokenPromise=Bn(Jn(mt,yield Qn()),it.heartbeatServiceProvider).finally(()=>{Kt.exchangeTokenPromise=void 0}),Tr=!0);const Hr=yield Kt.exchangeTokenPromise;return yield nr(mt,Hr),Kt.token=Hr,{token:Hr.token}}try{Kt.exchangeTokenPromise||(Kt.exchangeTokenPromise=Kt.provider.getToken().finally(()=>{Kt.exchangeTokenPromise=void 0}),Tr=!0),En=yield Rt(mt).exchangeTokenPromise}catch(Hr){"appCheck/throttled"===Hr.code?si.warn(Hr.message):si.error(Hr),tr=Hr}return En?tr?di=Te(En)?{token:En.token,internalError:tr}:ie(tr):(di={token:En.token},Kt.token=En,yield nr(mt,En)):di=ie(tr),Tr&&Ye(mt,di),di})).apply(this,arguments)}function zt(it,Je){const mt=Rt(it),Kt=mt.tokenObservers.filter(En=>En.next!==Je);0===Kt.length&&mt.tokenRefresher&&mt.tokenRefresher.isRunning()&&mt.tokenRefresher.stop(),mt.tokenObservers=Kt}function Le(it){const{app:Je}=it,mt=Rt(Je);let Kt=mt.tokenRefresher;Kt||(Kt=function Re(it){const{app:Je}=it;return new Nn((0,Oe.Z)(function*(){let Kt;if(Kt=Rt(Je).token?yield wn(it,!0):yield wn(it),Kt.error)throw Kt.error;if(Kt.internalError)throw Kt.internalError}),()=>!0,()=>{const mt=Rt(Je);if(mt.token){let Kt=mt.token.issuedAtTimeMillis+.5*(mt.token.expireTimeMillis-mt.token.issuedAtTimeMillis)+3e5;return Kt=Math.min(Kt,mt.token.expireTimeMillis-3e5),Math.max(0,Kt-Date.now())}return 0},3e4,96e4)}(it),mt.tokenRefresher=Kt),!Kt.isRunning()&&mt.isTokenAutoRefreshEnabled&&Kt.start()}function Ye(it,Je){const mt=Rt(it).tokenObservers;for(const Kt of mt)try{"EXTERNAL"===Kt.type&&null!=Je.error?Kt.error(Je.error):Kt.next(Je)}catch{}}function Te(it){return it.expireTimeMillis-Date.now()>0}function ie(it){return{token:Gt(vn),error:it}}class Ie{constructor(Je,mt){this.app=Je,this.heartbeatServiceProvider=mt}_delete(){const{tokenObservers:Je}=Rt(this.app);for(const mt of Je)zt(this.app,mt.next);return Promise.resolve()}}const rs="app-check-internal";!function ki(){(0,Ot._registerComponent)(new Tt.wA("app-check",it=>function ot(it,Je){return new Ie(it,Je)}(it.getProvider("app").getImmediate(),it.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((it,Je,mt)=>{it.getProvider(rs).initialize()})),(0,Ot._registerComponent)(new Tt.wA(rs,it=>function $t(it){return{getToken:Je=>wn(it,Je),addTokenListener:Je=>function Wn(it,Je,mt,Kt){const{app:En}=it,tr=Rt(En);if(tr.tokenObservers=[...tr.tokenObservers,{next:mt,error:Kt,type:Je}],tr.token&&Te(tr.token)){const di=tr.token;Promise.resolve().then(()=>{mt({token:di.token}),Le(it)}).catch(()=>{})}tr.cachedTokenPromise.then(()=>Le(it))}(it,"INTERNAL",Je),removeTokenListener:Je=>zt(it.app,Je)}}(it.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ot.registerVersion)("@firebase/app-check","0.6.3")}();class Ei{constructor(){return(0,h.vb)("app-check")}}typeof window<"u"&&window},3385:(_n,at,H)=>{"use strict";H.d(at,{zQ:()=>Rt,ww:()=>ht,rT:()=>qe,f7:()=>Dt,L6:()=>Tt,_Q:()=>Wt,lh:()=>lt,Qv:()=>Ot,nw:()=>pt});var h=H(4650),O=H(7579),ee=H(9646),Ve=H(9751),ze=H(8996),We=H(6451),Ze=H(5363),Ge=H(3900),Qe=H(4004),de=H(3151),_e=H(590),Pe=H(576);function ft(yt,Me){return(0,Pe.m)(Me)?(0,Ge.w)(()=>yt,Me):(0,Ge.w)(()=>yt)}var rt=H(9468),et=H(9300),Qt=H(2122),St=H(2011),dt=H(6895),pn=H(6217),on=H(9260);const Ot=new h.OlP("angularfire2.auth.use-emulator"),Tt=new h.OlP("angularfire2.auth.settings"),Wt=new h.OlP("angularfire2.auth.tenant-id"),qe=new h.OlP("angularfire2.auth.langugage-code"),lt=new h.OlP("angularfire2.auth.use-device-language"),Dt=new h.OlP("angularfire.auth.persistence"),pt=(yt,Me,tt,ut,jt,Bt,It,Nn)=>(0,St.cc)(`${yt.name}.auth`,"AngularFireAuth",yt.name,()=>{const yn=Me.runOutsideAngular(()=>yt.auth());if(tt&&yn.useEmulator(...tt),ut&&(yn.tenantId=ut),yn.languageCode=jt,Bt&&yn.useDeviceLanguage(),It)for(const[Ar,en]of Object.entries(It))yn.settings[Ar]=en;return Nn&&yn.setPersistence(Nn),yn},[tt,ut,jt,Bt,It,Nn]);let Rt=(()=>{class yt{constructor(tt,ut,jt,Bt,It,Nn,yn,Ar,en,qt,Ht,Lt){const mn=new O.x,Bn=(0,ee.of)(void 0).pipe((0,Ze.Q)(It.outsideAngular),(0,Ge.w)(()=>Bt.runOutsideAngular(()=>Promise.resolve().then(H.bind(H,9568)))),(0,Qe.U)(()=>(0,St.on)(tt,Bt,ut)),(0,Qe.U)(Un=>pt(Un,Bt,Nn,Ar,en,qt,yn,Ht)),(0,de.d)({bufferSize:1,refCount:!1}));if((0,dt.PM)(jt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ee.of)(null);else{Bn.pipe((0,_e.P)()).subscribe();const ei=Bn.pipe((0,Ge.w)(dr=>dr.getRedirectResult().then(ti=>ti,()=>null)),Qt.iC,(0,de.d)({bufferSize:1,refCount:!1})),ci=Bn.pipe((0,Ge.w)(dr=>new Ve.y(ti=>({unsubscribe:Bt.runOutsideAngular(()=>dr.onAuthStateChanged(xr=>ti.next(xr),xr=>ti.error(xr),()=>ti.complete()))})))),Jn=Bn.pipe((0,Ge.w)(dr=>new Ve.y(ti=>({unsubscribe:Bt.runOutsideAngular(()=>dr.onIdTokenChanged(xr=>ti.next(xr),xr=>ti.error(xr),()=>ti.complete()))}))));this.authState=ei.pipe(ft(ci),(0,rt.R)(It.outsideAngular),(0,Ze.Q)(It.insideAngular)),this.user=ei.pipe(ft(Jn),(0,rt.R)(It.outsideAngular),(0,Ze.Q)(It.insideAngular)),this.idToken=this.user.pipe((0,Ge.w)(dr=>dr?(0,ze.D)(dr.getIdToken()):(0,ee.of)(null))),this.idTokenResult=this.user.pipe((0,Ge.w)(dr=>dr?(0,ze.D)(dr.getIdTokenResult()):(0,ee.of)(null))),this.credential=(0,We.T)(ei,mn,this.authState.pipe((0,et.h)(dr=>!dr))).pipe((0,Qe.U)(dr=>dr?.user?dr:null),(0,rt.R)(It.outsideAngular),(0,Ze.Q)(It.insideAngular))}return(0,St.pX)(this,Bn,Bt,{spy:{apply:(Un,ei,ci)=>{(Un.startsWith("signIn")||Un.startsWith("createUser"))&&ci.then(Jn=>mn.next(Jn))}}})}}return yt.\u0275fac=function(tt){return new(tt||yt)(h.LFG(St.Dh),h.LFG(St.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Qt.HU),h.LFG(Ot,8),h.LFG(Tt,8),h.LFG(Wt,8),h.LFG(qe,8),h.LFG(lt,8),h.LFG(Dt,8),h.LFG(pn.nm,8))},yt.\u0275prov=h.Yz7({token:yt,factory:yt.\u0275fac,providedIn:"any"}),yt})(),ht=(()=>{class yt{constructor(){on.Z.registerVersion("angularfire",Qt.q4.full,"auth-compat")}}return yt.\u0275fac=function(tt){return new(tt||yt)},yt.\u0275mod=h.oAB({type:yt}),yt.\u0275inj=h.cJS({providers:[Rt]}),yt})()},2095:(_n,at,H)=>{"use strict";H.d(at,{ST:()=>eg,yb:()=>I_,Qv:()=>Jp});var h=H(4650),O=H(4986),ee=H(9751),Ve=H(8996),ze=H(9646),We=H(2122),Ze=H(8675),Ge=H(4482),Qe=H(5403);function de(){return(0,Ge.e)((i,e)=>{let t,s=!1;i.subscribe((0,Qe.x)(e,l=>{const d=t;t=l,s&&e.next([d,l]),s=!0}))})}var _e=H(4004),Pe=H(5026),ft=H(4671);function et(i,e){return i===e}var pt,Qt=H(9300),St=H(2011),dt=H(6895),on=(H(9568),H(3942)),Oe=H(5861),Ot=H(9681),Tt=H(4859),Wt=H(1877),qe=H(2090),lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dt={},Rt=Rt||{},ht=lt||self;function yt(){}function Me(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function tt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var jt="closure_uid_"+(1e9*Math.random()>>>0),Bt=0;function It(i,e,t){return i.call.apply(i.bind,arguments)}function Nn(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function yn(i,e,t){return(yn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?It:Nn).apply(null,arguments)}function Ar(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function en(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(s,l,d){for(var y=Array(arguments.length-2),M=2;M<arguments.length;M++)y[M-2]=arguments[M];return e.prototype[l].apply(s,y)}}function qt(){this.s=this.s,this.o=this.o}qt.prototype.s=!1,qt.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function ut(i){Object.prototype.hasOwnProperty.call(i,jt)&&i[jt]||(i[jt]=++Bt)}(this)},qt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Lt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function mn(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function Bn(i,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(Me(s)){const l=i.length||0,d=s.length||0;i.length=l+d;for(let y=0;y<d;y++)i[l+y]=s[y]}else i.push(s)}}function Un(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Un.prototype.h=function(){this.defaultPrevented=!0};var ei=function(){if(!ht.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ht.addEventListener("test",yt,e),ht.removeEventListener("test",yt,e)}catch{}return i}();function ci(i){return/^[\s\xa0]*$/.test(i)}var Jn=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function dr(i,e){return i<e?-1:i>e?1:0}function ti(){var i=ht.navigator;return i&&(i=i.userAgent)?i:""}function xr(i){return-1!=ti().indexOf(i)}function bn(i){return bn[" "](i),i}bn[" "]=yt;var Dn,i,yr=xr("Opera"),Dr=xr("Trident")||xr("MSIE"),mi=xr("Edge"),zs=mi||Dr,yi=xr("Gecko")&&!(-1!=ti().toLowerCase().indexOf("webkit")&&!xr("Edge"))&&!(xr("Trident")||xr("MSIE"))&&!xr("Edge"),cn=-1!=ti().toLowerCase().indexOf("webkit")&&!xr("Edge");function br(){var i=ht.document;return i?i.documentMode:void 0}e:{var jn="",ar=(i=ti(),yi?/rv:([^\);]+)(\)|;)/.exec(i):mi?/Edge\/([\d\.]+)/.exec(i):Dr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):cn?/WebKit\/(\S+)/.exec(i):yr?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(ar&&(jn=ar?ar[1]:""),Dr){var si=br();if(null!=si&&si>parseFloat(jn)){Dn=String(si);break e}}Dn=jn}var zr={};var lr=ht.document&&Dr&&(br()||parseInt(Dn,10))||void 0;function Pn(i,e){if(Un.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(yi){e:{try{bn(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Qn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Pn.X.h.call(this)}}en(Pn,Un);var Qn={2:"touch",3:"pen",4:"mouse"};Pn.prototype.h=function(){Pn.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var jr="closure_listenable_"+(1e6*Math.random()|0),zn=0;function vn(i,e,t,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ha=l,this.key=++zn,this.ba=this.ea=!1}function Gt(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function wn(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function sr(i){const e={};for(const t in i)e[t]=i[t];return e}const Wn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zt(i,e){let t,s;for(let l=1;l<arguments.length;l++){for(t in s=arguments[l],s)i[t]=s[t];for(let d=0;d<Wn.length;d++)t=Wn[d],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function Le(i){this.src=i,this.g={},this.h=0}function Re(i,e){var t=e.type;if(t in i.g){var d,s=i.g[t],l=Lt(s,e);(d=0<=l)&&Array.prototype.splice.call(s,l,1),d&&(Gt(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Ye(i,e,t,s){for(var l=0;l<i.length;++l){var d=i[l];if(!d.ba&&d.listener==e&&d.capture==!!t&&d.ha==s)return l}return-1}Le.prototype.add=function(i,e,t,s,l){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var y=Ye(i,e,s,l);return-1<y?(e=i[y],t||(e.ea=!1)):((e=new vn(e,this.src,d,!!s,l)).ea=t,i.push(e)),e};var Te="closure_lm_"+(1e6*Math.random()|0),ie={};function Ie(i,e,t,s,l){if(s&&s.once)return Tn(i,e,t,s,l);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Ie(i,e[d],t,s,l);return null}return t=In(t),i&&i[jr]?i.N(e,t,tt(s)?!!s.capture:!!s,l):ot(i,e,t,!1,s,l)}function ot(i,e,t,s,l,d){if(!e)throw Error("Invalid event type");var y=tt(l)?!!l.capture:!!l,M=st(i);if(M||(i[Te]=M=new Le(i)),(t=M.add(e,t,s,y,d)).proxy)return t;if(s=function $t(){const e=Ce;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)ei||(l=y),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(we(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function Tn(i,e,t,s,l){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Tn(i,e[d],t,s,l);return null}return t=In(t),i&&i[jr]?i.O(e,t,tt(s)?!!s.capture:!!s,l):ot(i,e,t,!0,s,l)}function un(i,e,t,s,l){if(Array.isArray(e))for(var d=0;d<e.length;d++)un(i,e[d],t,s,l);else s=tt(s)?!!s.capture:!!s,t=In(t),i&&i[jr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Ye(d=i.g[e],t,s,l))&&(Gt(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=st(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Ye(e,t,s,l)),(t=-1<i?e[i]:null)&&xe(t))}function xe(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[jr])Re(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(we(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=st(e))?(Re(t,i),0==t.h&&(t.src=null,e[Te]=null)):Gt(i)}}}function we(i){return i in ie?ie[i]:ie[i]="on"+i}function Ce(i,e){if(i.ba)i=!0;else{e=new Pn(e,this);var t=i.listener,s=i.ha||i.src;i.ea&&xe(i),i=t.call(s,e)}return i}function st(i){return(i=i[Te])instanceof Le?i:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function In(i){return"function"==typeof i?i:(i[bt]||(i[bt]=function(e){return i.handleEvent(e)}),i[bt])}function Hn(){qt.call(this),this.i=new Le(this),this.P=this,this.I=null}function $n(i,e){var t,s=i.I;if(s)for(t=[];s;s=s.I)t.push(s);if(i=i.P,s=e.type||e,"string"==typeof e)e=new Un(e,i);else if(e instanceof Un)e.target=e.target||i;else{var l=e;zt(e=new Un(s,i),l)}if(l=!0,t)for(var d=t.length-1;0<=d;d--){var y=e.g=t[d];l=oi(y,s,!0,e)&&l}if(l=oi(y=e.g=i,s,!0,e)&&l,l=oi(y,s,!1,e)&&l,t)for(d=0;d<t.length;d++)l=oi(y=e.g=t[d],s,!1,e)&&l}function oi(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,d=0;d<e.length;++d){var y=e[d];if(y&&!y.ba&&y.capture==t){var M=y.listener,Z=y.ha||y.src;y.ea&&Re(i.i,y),l=!1!==M.call(Z,s)&&l}}return l&&!s.defaultPrevented}en(Hn,qt),Hn.prototype[jr]=!0,Hn.prototype.removeEventListener=function(i,e,t,s){un(this,i,e,t,s)},Hn.prototype.M=function(){if(Hn.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)Gt(t[s]);delete i.g[e],i.h--}}this.I=null},Hn.prototype.N=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},Hn.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var Ji=ht.JSON.stringify;function qn(){var i=qr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var ws,Ni=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new lo,i=>i.reset());class lo{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Oi(i){ht.setTimeout(()=>{throw i},0)}function Qr(i,e){ws||function ns(){var i=ht.Promise.resolve(void 0);ws=function(){i.then(vi)}}(),Fi||(ws(),Fi=!0),qr.add(i,e)}var Fi=!1,qr=new class Wi{constructor(){this.h=this.g=null}add(e,t){const s=Ni.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function vi(){for(var i;i=qn();){try{i.h.call(i.g)}catch(t){Oi(t)}var e=Ni;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Fi=!1}function vr(i,e){Hn.call(this),this.h=i||1,this.g=e||ht,this.j=yn(this.lb,this),this.l=Date.now()}function _o(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function rs(i,e,t){if("function"==typeof i)t&&(i=yn(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=yn(i.handleEvent,i)}return 2147483647<Number(e)?-1:ht.setTimeout(i,e||0)}function ki(i){i.g=rs(()=>{i.g=null,i.i&&(i.i=!1,ki(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}en(vr,Hn),(pt=vr.prototype).ca=!1,pt.R=null,pt.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),$n(this,"tick"),this.ca&&(_o(this),this.start()))}},pt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pt.M=function(){vr.X.M.call(this),_o(this),delete this.g};class ms extends qt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ki(this)}M(){super.M(),this.g&&(ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Li(i){qt.call(this),this.h=i,this.g={}}en(Li,qt);var Ei=[];function Ws(i,e,t,s){Array.isArray(t)||(t&&(Ei[0]=t.toString()),t=Ei);for(var l=0;l<t.length;l++){var d=Ie(e,t[l],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function Vr(i){wn(i.g,function(e,t){this.g.hasOwnProperty(t)&&xe(e)},i),i.g={}}function cs(){this.g=!0}function $r(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Mo(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var d=l[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var y=1;y<l.length;y++)l[y]=""}}}return Ji(t)}catch{return e}}(i,t)+(s?" "+s:"")})}Li.prototype.M=function(){Li.X.M.call(this),Vr(this)},Li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cs.prototype.Aa=function(){this.g=!1},cs.prototype.info=function(){};var Jr={},Eo=null;function Ps(){return Eo=Eo||new Hn}function uo(i){Un.call(this,Jr.Pa,i)}function ds(i){const e=Ps();$n(e,new uo(e))}function hs(i,e){Un.call(this,Jr.STAT_EVENT,i),this.stat=e}function ii(i){const e=Ps();$n(e,new hs(e,i))}function it(i,e){Un.call(this,Jr.Qa,i),this.size=e}function Je(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ht.setTimeout(function(){i()},e)}Jr.Pa="serverreachability",en(uo,Un),Jr.STAT_EVENT="statevent",en(hs,Un),Jr.Qa="timingevent",en(it,Un);var mt={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Kt={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function En(){}function Tr(){}En.prototype.h=null;var bs,di={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Hr(){Un.call(this,"d")}function to(){Un.call(this,"c")}function Ii(){}function co(i,e,t,s){this.l=i,this.j=e,this.m=t,this.U=s||1,this.S=new Li(this),this.O=qi,this.T=new vr(i=zs?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ho}function ho(){this.i=null,this.g="",this.h=!1}en(Hr,Un),en(to,Un),en(Ii,En),Ii.prototype.g=function(){return new XMLHttpRequest},Ii.prototype.i=function(){return{}},bs=new Ii;var qi=45e3,$o={},ks={};function Ri(i,e,t){i.K=1,i.v=os(Ur(e)),i.s=t,i.P=!0,no(i,null)}function no(i,e){i.F=Date.now(),Is(i),i.A=Ur(i.v);var t=i.A,s=i.U;Array.isArray(s)||(s=[String(s)]),fo(t.i,"t",s),i.C=0,t=i.l.H,i.h=new ho,i.g=$e(i.l,t?e:null,!i.s),0<i.N&&(i.L=new ms(yn(i.La,i,i.g),i.N)),Ws(i.S,i.g,"readystatechange",i.ib),e=i.H?sr(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),ds(),function Ti(i,e,t,s,l,d){i.info(function(){if(i.g)if(d)for(var y="",M=d.split("&"),Z=0;Z<M.length;Z++){var ne=M[Z].split("=");if(1<ne.length){var ye=ne[0];ne=ne[1];var Ke=ye.split("_");y=2<=Ke.length&&"type"==Ke[1]?y+(ye+"=")+ne+"&":y+(ye+"=redacted&")}}else y=null;else y=d;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+t+"\n"+y})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Xi(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function Qo(i,e,t){let l,s=!0;for(;!i.I&&i.C<t.length;){if(l=Ho(i,t),l==ks){4==e&&(i.o=4,ii(14),s=!1),$r(i.j,i.m,null,"[Incomplete Response]");break}if(l==$o){i.o=4,ii(15),$r(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}$r(i.j,i.m,l,null),Cs(i,l)}Xi(i)&&l!=ks&&l!=$o&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,ii(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),be(e),e.K=!0,ii(11))):($r(i.j,i.m,t,"[Invalid Chunked Response]"),ji(i),Go(i))}function Ho(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?ks:(t=Number(e.substring(t,s)),isNaN(t)?$o:(s+=1)+t>e.length?ks:(e=e.substr(s,t),i.C=s+t,e))}function Is(i){i.V=Date.now()+i.O,xo(i,i.O)}function xo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Je(yn(i.gb,i),e)}function ro(i){i.B&&(ht.clearTimeout(i.B),i.B=null)}function Go(i){0==i.l.G||i.I||Jt(i.l,i)}function ji(i){ro(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,_o(i.T),Vr(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Cs(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||ko(t.h,i)))if(!i.J&&ko(t.h,i)&&3==t.G){try{var s=t.Fa.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;Zt(t),T(t)}ve(t),ii(18)}}else t.Ba=l[1],0<t.Ba-t.T&&37500>l[2]&&t.L&&0==t.A&&!t.v&&(t.v=Je(yn(t.cb,t),6e3));if(1>=Pr(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else An(t,11)}else if((i.J||t.g==i)&&Zt(t),!ci(e))for(l=t.Fa.g.parse(e),e=0;e<l.length;e++){let ne=l[e];if(t.T=ne[0],ne=ne[1],2==t.G)if("c"==ne[0]){t.I=ne[1],t.ka=ne[2];const ye=ne[3];null!=ye&&(t.ma=ye,t.j.info("VER="+t.ma));const Ke=ne[4];null!=Ke&&(t.Ca=Ke,t.j.info("SVER="+t.Ca));const Ct=ne[5];null!=Ct&&"number"==typeof Ct&&0<Ct&&(t.J=s=1.5*Ct,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const sn=i.g;if(sn){const fn=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fn){var d=s.h;d.g||-1==fn.indexOf("spdy")&&-1==fn.indexOf("quic")&&-1==fn.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(Ro(d,d.h),d.h=null))}if(s.D){const er=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;er&&(s.za=er,_r(s.F,s.D,er))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var y=i;if((s=t).sa=Vt(s,s.H?s.ka:null,s.V),y.J){Hi(s.h,y);var M=y,Z=s.J;Z&&M.setTimeout(Z),M.B&&(ro(M),Is(M)),s.g=y}else pe(s);0<t.i.length&&z(t)}else"stop"!=ne[0]&&"close"!=ne[0]||An(t,7);else 3==t.G&&("stop"==ne[0]||"close"==ne[0]?"stop"==ne[0]?An(t,7):k(t):"noop"!=ne[0]&&t.l&&t.l.wa(ne),t.A=0)}ds()}catch{}}function $i(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Me(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Zi(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Me(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const s in i)e[t++]=s;return e}}}(i),s=function Ki(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Me(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),l=s.length,d=0;d<l;d++)e.call(void 0,s[d],t&&t[d],i)}(pt=co.prototype).setTimeout=function(i){this.O=i},pt.ib=function(i){i=i.target;const e=this.L;e&&3==he(i)?e.l():this.La(i)},pt.La=function(i){try{if(i==this.g)e:{const ye=he(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>ye)&&(3!=ye||zs||this.g&&(this.h.h||this.g.fa()||He(this.g)))){this.I||4!=ye||7==e||ds(),ro(this);var t=this.g.aa();this.Y=t;t:if(Xi(this)){var s=He(this.g);i="";var l=s.length,d=4==he(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ji(this),Go(this);var y="";break t}this.h.i=new ht.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:d&&e==l-1});s.splice(0,l),this.h.g+=i,this.C=0,y=this.h.g}else y=this.g.fa();if(this.i=200==t,function is(i,e,t,s,l,d,y){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+d+" "+y})}(this.j,this.u,this.A,this.m,this.U,ye,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var M,Z=this.g;if((M=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ci(M)){var ne=M;break t}}ne=null}if(!(t=ne)){this.i=!1,this.o=3,ii(12),ji(this),Go(this);break e}$r(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Cs(this,t)}this.P?(Qo(this,ye,y),zs&&this.i&&3==ye&&(Ws(this.S,this.T,"tick",this.hb),this.T.start())):($r(this.j,this.m,y,null),Cs(this,y)),4==ye&&ji(this),this.i&&!this.I&&(4==ye?Jt(this.l,this):(this.i=!1,Is(this)))}else 400==t&&0<y.indexOf("Unknown SID")?(this.o=3,ii(12)):(this.o=0,ii(13)),ji(this),Go(this)}}}catch{}},pt.hb=function(){if(this.g){var i=he(this.g),e=this.g.fa();this.C<e.length&&(ro(this),Qo(this,i,e),this.i&&4!=i&&Is(this))}},pt.cancel=function(){this.I=!0,ji(this)},pt.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function jo(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ds(),ii(17)),ji(this),this.o=2,Go(this)):xo(this,this.V-i)};var Rs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _i(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof _i){this.h=void 0!==e?e:i.h,Ns(this,i.j),this.s=i.s,this.g=i.g,wo(this,i.m),this.l=i.l,e=i.i;var t=new Ci;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ds(this,t),this.o=i.o}else i&&(t=String(i).match(Rs))?(this.h=!!e,Ns(this,t[1]||"",!0),this.s=Os(t[2]||""),this.g=Os(t[3]||"",!0),wo(this,t[4]),this.l=Os(t[5]||"",!0),Ds(this,t[6]||"",!0),this.o=Os(t[7]||"")):(this.h=!!e,this.i=new Ci(null,this.h))}function Ur(i){return new _i(i)}function Ns(i,e,t){i.j=t?Os(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function wo(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ds(i,e,t){e instanceof Ci?(i.i=e,function hi(i,e){e&&!i.j&&(or(i),i.i=null,i.g.forEach(function(t,s){var l=s.toLowerCase();s!=l&&(Wo(this,s),fo(this,l,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Ts(e,Ls)),i.i=new Ci(e,i.h))}function _r(i,e,t){i.i.set(e,t)}function os(i){return _r(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Os(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ts(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Lr),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Lr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}_i.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ts(e,qs,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ts(e,qs,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Ts(t,"/"==t.charAt(0)?zo:Fs,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Ts(t,Po)),i.join("")};var qs=/[#\/\?@]/g,Fs=/[#\?:]/g,zo=/[#\?]/g,Ls=/[#\?@]/g,Po=/#/g;function Ci(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function or(i){i.g||(i.g=new Map,i.h=0,i.i&&function ss(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),l=null;if(0<=s){var d=i[t].substring(0,s);l=i[t].substring(s+1)}else d=i[t];e(d,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Wo(i,e){or(i),e=io(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function ha(i,e){return or(i),e=io(i,e),i.g.has(e)}function fo(i,e,t){Wo(i,e),0<t.length&&(i.i=null,i.g.set(io(i,e),mn(t)),i.h+=t.length)}function io(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function as(i){this.l=i||Zs,i=ht.PerformanceNavigationTiming?0<(i=ht.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ht.g&&ht.g.Ga&&ht.g.Ga()&&ht.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pt=Ci.prototype).add=function(i,e){or(this),this.i=null,i=io(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},pt.forEach=function(i,e){or(this),this.g.forEach(function(t,s){t.forEach(function(l){i.call(e,l,s,this)},this)},this)},pt.oa=function(){or(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const l=i[s];for(let d=0;d<l.length;d++)t.push(e[s])}return t},pt.W=function(i){or(this);let e=[];if("string"==typeof i)ha(this,i)&&(e=e.concat(this.g.get(io(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},pt.set=function(i,e){return or(this),this.i=null,ha(this,i=io(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},pt.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const d=encodeURIComponent(String(s)),y=this.W(s);for(s=0;s<y.length;s++){var l=d;""!==y[s]&&(l+="="+encodeURIComponent(String(y[s]))),i.push(l)}}return this.i=i.join("&")};var Zs=10;function nn(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Pr(i){return i.h?1:i.g?i.g.size:0}function ko(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Ro(i,e){i.g?i.g.add(e):i.h=e}function Hi(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Kr(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return mn(i.i)}function so(){}function fi(){this.g=new so}function ra(i,e,t){const s=t||"";try{$i(i,function(l,d){let y=l;tt(l)&&(y=Ji(l)),e.push(s+d+"="+encodeURIComponent(y))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function Si(i,e,t,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function Mi(i){this.l=i.ac||null,this.j=i.jb||!1}function Y(i,e){Hn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=B,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}as.prototype.cancel=function(){if(this.i=Kr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},so.prototype.stringify=function(i){return ht.JSON.stringify(i,void 0)},so.prototype.parse=function(i){return ht.JSON.parse(i,void 0)},en(Mi,En),Mi.prototype.g=function(){return new Y(this.l,this.j)},Mi.prototype.i=function(i){return function(){return i}}({}),en(Y,Hn);var B=0;function L(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function ue(i){i.readyState=4,i.l=null,i.j=null,i.A=null,_t(i)}function _t(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(pt=Y.prototype).open=function(i,e){if(this.readyState!=B)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,_t(this)},pt.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||ht).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ue(this)),this.readyState=B},pt.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,_t(this)),this.g&&(this.readyState=3,_t(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ht.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;L(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},pt.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?ue(this):_t(this),3==this.readyState&&L(this)}},pt.Va=function(i){this.g&&(this.response=this.responseText=i,ue(this))},pt.Ua=function(i){this.g&&(this.response=i,ue(this))},pt.ga=function(){this.g&&ue(this)},pt.setRequestHeader=function(i,e){this.v.append(i,e)},pt.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},pt.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Y.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var On=ht.JSON.parse;function ur(i){Hn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ls,this.K=this.L=!1}en(ur,Hn);var ls="",u=/^https?$/i,p=["POST","PUT"];function x(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,$(i),le(i)}function $(i){i.D||(i.D=!0,$n(i,"complete"),$n(i,"error"))}function G(i){if(i.h&&typeof Rt<"u"&&(!i.C[1]||4!=he(i)||2!=i.aa()))if(i.v&&4==he(i))rs(i.Ha,0,i);else if($n(i,"readystatechange"),4==he(i)){i.h=!1;try{const M=i.aa();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===M){var l=String(i.H).match(Rs)[1]||null;if(!l&&ht.self&&ht.self.location){var d=ht.self.location.protocol;l=d.substr(0,d.length-1)}s=!u.test(l?l.toLowerCase():"")}t=s}if(t)$n(i,"complete"),$n(i,"success");else{i.m=6;try{var y=2<he(i)?i.g.statusText:""}catch{y=""}i.j=y+" ["+i.aa()+"]",$(i)}}finally{le(i)}}}function le(i,e){if(i.g){Ne(i);const t=i.g,s=i.C[0]?yt:null;i.g=null,i.C=null,e||$n(i,"ready");try{t.onreadystatechange=s}catch{}}}function Ne(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ht.clearTimeout(i.A),i.A=null)}function he(i){return i.g?i.g.readyState:0}function He(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case ls:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Xe(i){let e="";return wn(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Pt(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Xe(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):_r(i,e,t))}function ge(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function I(i){this.Ca=0,this.i=[],this.j=new cs,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ge("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ge("baseRetryDelayMs",5e3,i),this.bb=ge("retryDelaySeedMs",1e4,i),this.$a=ge("forwardChannelMaxRetries",2,i),this.ta=ge("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new as(i&&i.concurrentRequestLimit),this.Fa=new fi,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function k(i){if(U(i),3==i.G){var e=i.U++,t=Ur(i.F);_r(t,"SID",i.I),_r(t,"RID",e),_r(t,"TYPE","terminate"),J(i,t),(e=new co(i,i.j,e,void 0)).K=2,e.v=os(Ur(t)),t=!1,ht.navigator&&ht.navigator.sendBeacon&&(t=ht.navigator.sendBeacon(e.v.toString(),"")),!t&&ht.Image&&((new Image).src=e.v,t=!0),t||(e.g=$e(e.l,null),e.g.da(e.v)),e.F=Date.now(),Is(e)}kn(i)}function T(i){i.g&&(be(i),i.g.cancel(),i.g=null)}function U(i){T(i),i.u&&(ht.clearTimeout(i.u),i.u=null),Zt(i),i.h.cancel(),i.m&&("number"==typeof i.m&&ht.clearTimeout(i.m),i.m=null)}function z(i){nn(i.h)||i.m||(i.m=!0,Qr(i.Ja,i),i.C=0)}function W(i,e){var t;t=e?e.m:i.U++;const s=Ur(i.F);_r(s,"SID",i.I),_r(s,"RID",t),_r(s,"AID",i.T),J(i,s),i.o&&i.s&&Pt(s,i.o,i.s),t=new co(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=se(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),Ro(i.h,t),Ri(t,s,e)}function J(i,e){i.ia&&wn(i.ia,function(t,s){_r(e,s,t)}),i.l&&$i({},function(t,s){_r(e,s,t)})}function se(i,e,t){t=Math.min(i.i.length,t);var s=i.l?yn(i.l.Ra,i.l,i):null;e:{var l=i.i;let d=-1;for(;;){const y=["count="+t];-1==d?0<t?(d=l[0].h,y.push("ofs="+d)):d=0:y.push("ofs="+d);let M=!0;for(let Z=0;Z<t;Z++){let ne=l[Z].h;const ye=l[Z].g;if(ne-=d,0>ne)d=Math.max(0,l[Z].h-100),M=!1;else try{ra(ye,y,"req"+ne+"_")}catch{s&&s(ye)}}if(M){s=y.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,s}function pe(i){i.g||i.u||(i.Z=1,Qr(i.Ia,i),i.A=0)}function ve(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Je(yn(i.Ia,i),tn(i,i.A)),i.A++,0))}function be(i){null!=i.B&&(ht.clearTimeout(i.B),i.B=null)}function vt(i){i.g=new co(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Ur(i.sa);_r(e,"RID","rpc"),_r(e,"SID",i.I),_r(e,"CI",i.L?"0":"1"),_r(e,"AID",i.T),_r(e,"TYPE","xmlhttp"),J(i,e),i.o&&i.s&&Pt(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=os(Ur(e)),t.s=null,t.P=!0,no(t,i)}function Zt(i){null!=i.v&&(ht.clearTimeout(i.v),i.v=null)}function Jt(i,e){var t=null;if(i.g==e){Zt(i),be(i),i.g=null;var s=2}else{if(!ko(i.h,e))return;t=e.D,Hi(i.h,e),s=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;$n(s=Ps(),new it(s,t)),z(i)}else pe(i);else if(3==(l=e.o)||0==l&&0<i.pa||!(1==s&&function X(i,e){return!(Pr(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=Je(yn(i.Ja,i,e),tn(i,i.C)),i.C++,0)))}(i,e)||2==s&&ve(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),l){case 1:An(i,5);break;case 4:An(i,10);break;case 3:An(i,6);break;default:An(i,2)}}function tn(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function An(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var s=yn(i.kb,i);t||(t=new _i("//www.google.com/images/cleardot.gif"),ht.location&&"http"==ht.location.protocol||Ns(t,"https"),os(t)),function po(i,e){const t=new cs;if(ht.Image){const s=new Image;s.onload=Ar(Si,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Ar(Si,t,s,"TestLoadImage: error",!1,e),s.onabort=Ar(Si,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ar(Si,t,s,"TestLoadImage: timeout",!1,e),ht.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else ii(2);i.G=0,i.l&&i.l.va(e),kn(i),U(i)}function kn(i){if(i.G=0,i.la=[],i.l){const e=Kr(i.h);(0!=e.length||0!=i.i.length)&&(Bn(i.la,e),Bn(i.la,i.i),i.h.i.length=0,mn(i.i),i.i.length=0),i.l.ua()}}function Vt(i,e,t){var s=t instanceof _i?Ur(t):new _i(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),wo(s,s.m);else{var l=ht.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var d=new _i(null,void 0);s&&Ns(d,s),e&&(d.g=e),l&&wo(d,l),t&&(d.l=t),s=d}return e=i.za,(t=i.D)&&e&&_r(s,t,e),_r(s,"VER",i.ma),J(i,s),s}function $e(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ur(t&&i.Da&&!i.ra?new Mi({jb:!0}):i.ra)).Ka(i.H),e}function De(){}function fe(){if(Dr&&!(10<=Number(lr)))throw Error("Environmental error: no available transport.")}function Fe(i,e){Hn.call(this),this.g=new I(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!ci(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ci(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Kn(this)}function Ut(i){Hr.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function kt(){to.call(this),this.status=1}function Kn(i){this.g=i}(pt=ur.prototype).Ka=function(i){this.L=i},pt.da=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():bs.g(),this.C=function tr(i){return i.h||(i.h=i.i())}(this.u?this.u:bs),this.g.onreadystatechange=yn(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void x(this,d)}if(i=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)t.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())t.set(d,s.get(d))}s=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),l=ht.FormData&&i instanceof ht.FormData,!(0<=Lt(p,e))||s||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,y]of t)this.g.setRequestHeader(d,y);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ne(this),0<this.B&&((this.K=function _(i){return Dr&&function Wr(){return function gi(i){var e=zr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Jn(String(Dn)).split("."),t=Jn("9").split("."),s=Math.max(e.length,t.length);for(let y=0;0==i&&y<s;y++){var l=e[y]||"",d=t[y]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==l[0].length&&0==d[0].length)break;i=dr(0==l[1].length?0:parseInt(l[1],10),0==d[1].length?0:parseInt(d[1],10))||dr(0==l[2].length,0==d[2].length)||dr(l[2],d[2]),l=l[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yn(this.qa,this)):this.A=rs(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){x(this,d)}},pt.qa=function(){typeof Rt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$n(this,"timeout"),this.abort(8))},pt.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,$n(this,"complete"),$n(this,"abort"),le(this))},pt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),le(this,!0)),ur.X.M.call(this)},pt.Ha=function(){this.s||(this.F||this.v||this.l?G(this):this.fb())},pt.fb=function(){G(this)},pt.aa=function(){try{return 2<he(this)?this.g.status:-1}catch{return-1}},pt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},pt.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),On(e)}},pt.Ea=function(){return this.m},pt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pt=I.prototype).ma=8,pt.G=1,pt.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const l=new co(this,this.j,i,void 0);let d=this.s;if(this.S&&(d?(d=sr(d),zt(d,this.S)):d=this.S),null!==this.o||this.N||(l.H=d,d=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=se(this,l,e),_r(t=Ur(this.F),"RID",i),_r(t,"CVER",22),this.D&&_r(t,"X-HTTP-Session-Id",this.D),J(this,t),d&&(this.N?e="headers="+encodeURIComponent(String(Xe(d)))+"&"+e:this.o&&Pt(t,this.o,d)),Ro(this.h,l),this.Ya&&_r(t,"TYPE","init"),this.O?(_r(t,"$req",e),_r(t,"SID","null"),l.Z=!0,Ri(l,t,null)):Ri(l,t,e),this.G=2}}else 3==this.G&&(i?W(this,i):0==this.i.length||nn(this.h)||W(this))},pt.Ia=function(){if(this.u=null,vt(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Je(yn(this.eb,this),i)}},pt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ii(10),T(this),vt(this))},pt.cb=function(){null!=this.v&&(this.v=null,T(this),ve(this),ii(19))},pt.kb=function(i){i?(this.j.info("Successfully pinged google.com"),ii(2)):(this.j.info("Failed to ping google.com"),ii(1))},(pt=De.prototype).xa=function(){},pt.wa=function(){},pt.va=function(){},pt.ua=function(){},pt.Ra=function(){},fe.prototype.g=function(i,e){return new Fe(i,e)},en(Fe,Hn),Fe.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;ii(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=Vt(i,null,i.V),z(i)},Fe.prototype.close=function(){k(this.g)},Fe.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Ji(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&z(e)},Fe.prototype.M=function(){this.g.l=null,delete this.j,k(this.g),delete this.g,Fe.X.M.call(this)},en(Ut,Hr),en(kt,to),en(Kn,De),Kn.prototype.xa=function(){$n(this.g,"a")},Kn.prototype.wa=function(i){$n(this.g,new Ut(i))},Kn.prototype.va=function(i){$n(this.g,new kt)},Kn.prototype.ua=function(){$n(this.g,"b")},fe.prototype.createWebChannel=fe.prototype.g,Fe.prototype.send=Fe.prototype.u,Fe.prototype.open=Fe.prototype.m,Fe.prototype.close=Fe.prototype.close,mt.NO_ERROR=0,mt.TIMEOUT=8,mt.HTTP_ERROR=6,Kt.COMPLETE="complete",Tr.EventType=di,di.OPEN="a",di.CLOSE="b",di.ERROR="c",di.MESSAGE="d",Hn.prototype.listen=Hn.prototype.N,ur.prototype.listenOnce=ur.prototype.O,ur.prototype.getLastError=ur.prototype.Oa,ur.prototype.getLastErrorCode=ur.prototype.Ea,ur.prototype.getStatus=ur.prototype.aa,ur.prototype.getResponseJson=ur.prototype.Sa,ur.prototype.getResponseText=ur.prototype.fa,ur.prototype.send=ur.prototype.da,ur.prototype.setWithCredentials=ur.prototype.Ka;var Or=Dt.createWebChannelTransport=function(){return new fe},Mr=Dt.getStatEventTarget=function(){return Ps()},Vi=Dt.ErrorCode=mt,Xr=Dt.EventType=Kt,ys=Dt.Event=Jr,Vs=Dt.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Ss=Dt.FetchXmlHttpFactory=Mi,us=Dt.WebChannel=Tr,fs=Dt.XhrIo=ur;const ni="@firebase/firestore";class xn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");let ri="9.17.1";const As=new Wt.Yd("@firebase/firestore");function go(){return As.logLevel}function an(i,...e){if(As.logLevel<=Wt.in.DEBUG){const t=e.map(wi);As.debug(`Firestore (${ri}): ${i}`,...t)}}function wr(i,...e){if(As.logLevel<=Wt.in.ERROR){const t=e.map(wi);As.error(`Firestore (${ri}): ${i}`,...t)}}function Us(i,...e){if(As.logLevel<=Wt.in.WARN){const t=e.map(wi);As.warn(`Firestore (${ri}): ${i}`,...t)}}function wi(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Rn(i="Unexpected state"){const e=`FIRESTORE (${ri}) INTERNAL ASSERTION FAILED: `+i;throw wr(e),new Error(e)}function Vn(i,e){i||Rn()}function Cn(i,e){return i}const At={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Yt extends qe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Oo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class va{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xn.UNAUTHENTICATED))}shutdown(){}}class fa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class al{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let l=this.i;const d=ne=>this.i!==l?(l=this.i,t(ne)):Promise.resolve();let y=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new Di,e.enqueueRetryable(()=>d(this.currentUser))};const M=()=>{const ne=y;e.enqueueRetryable((0,Oe.Z)(function*(){yield ne.promise,yield d(s.currentUser)}))},Z=ne=>{an("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ne,this.auth.addAuthTokenListener(this.o),M()};this.t.onInit(ne=>Z(ne)),setTimeout(()=>{if(!this.auth){const ne=this.t.getImmediate({optional:!0});ne?Z(ne):(an("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new Di)}},0),M()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(an("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Vn("string"==typeof s.accessToken),new Oo(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vn(null===e||"string"==typeof e),new xn(e)}}class Ra{constructor(e,t,s,l){this.h=e,this.l=t,this.m=s,this.g=l,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Vn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class _a{constructor(e,t,s,l){this.h=e,this.l=t,this.m=s,this.g=l}getToken(){return Promise.resolve(new Ra(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ia{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cl{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=d=>{null!=d.error&&an("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const y=d.token!==this.A;return this.A=d.token,an("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const l=d=>{an("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>l(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?l(d):an("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Vn("string"==typeof t.token),this.A=t.token,new ia(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function v(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class w{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const l=v(40);for(let d=0;d<l.length;++d)s.length<20&&l[d]<t&&(s+=e.charAt(l[d]%e.length))}return s}}function R(i,e){return i<e?-1:i>e?1:0}function te(i,e,t){return i.length===e.length&&i.every((s,l)=>t(s,e[l]))}function me(i){return i+"\0"}class Be{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Yt(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Yt(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Yt(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Yt(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Be(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?R(this.nanoseconds,e.nanoseconds):R(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Be(0,0))}static max(){return new Se(new Be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Et{constructor(e,t,s){void 0===t?t=0:t>e.length&&Rn(),void 0===s?s=e.length-t:s>e.length-t&&Rn(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Et.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Et?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let l=0;l<s;l++){const d=e.get(l),y=t.get(l);if(d<y)return-1;if(d>y)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class wt extends Et{construct(e,t,s){return new wt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Yt(At.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(l=>l.length>0))}return new wt(t)}static emptyPath(){return new wt([])}}const Fn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends Et{construct(e,t,s){return new gn(e,t,s)}static isValidIdentifier(e){return Fn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gn(["__name__"])}static fromServerFormat(e){const t=[];let s="",l=0;const d=()=>{if(0===s.length)throw new Yt(At.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let y=!1;for(;l<e.length;){const M=e[l];if("\\"===M){if(l+1===e.length)throw new Yt(At.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Z=e[l+1];if("\\"!==Z&&"."!==Z&&"`"!==Z)throw new Yt(At.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=Z,l+=2}else"`"===M?(y=!y,l++):"."!==M||y?(s+=M,l++):(d(),l++)}if(d(),y)throw new Yt(At.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(t)}static emptyPath(){return new gn([])}}class Xt{constructor(e){this.path=e}static fromPath(e){return new Xt(wt.fromString(e))}static fromName(e){return new Xt(wt.fromString(e).popFirst(5))}static empty(){return new Xt(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===wt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xt(new wt(e.slice()))}}class kr{constructor(e,t,s,l){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=l}}function hr(i){return i.fields.find(e=>2===e.kind)}function rr(i){return i.fields.filter(e=>2!==e.kind)}kr.UNKNOWN_ID=-1;class gr{constructor(e,t){this.fieldPath=e,this.kind=t}}class vs{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vs(0,Ms.min())}}function _s(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=Se.fromTimestamp(1e9===s?new Be(t+1,0):new Be(t,s));return new Ms(l,Xt.empty(),e)}function Ea(i){return new Ms(i.readTime,i.key,-1)}class Ms{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ms(Se.min(),Xt.empty(),-1)}static max(){return new Ms(Se.max(),Xt.empty(),-1)}}function Bs(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Xt.comparator(i.documentKey,e.documentKey),0!==t?t:R(i.largestBatchId,e.largestBatchId))}const pa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Fo(i){return ll.apply(this,arguments)}function ll(){return ll=(0,Oe.Z)(function*(i){if(i.code!==At.FAILED_PRECONDITION||i.message!==pa)throw i;an("LocalStore","Unexpectedly lost primary lease")}),ll.apply(this,arguments)}class gt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Rn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new gt((s,l)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,l)},this.catchCallback=d=>{this.wrapFailure(t,d).next(s,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof gt?t:gt.resolve(t)}catch(t){return gt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):gt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):gt.reject(t)}static resolve(e){return new gt((t,s)=>{t(e)})}static reject(e){return new gt((t,s)=>{s(e)})}static waitFor(e){return new gt((t,s)=>{let l=0,d=0,y=!1;e.forEach(M=>{++l,M.next(()=>{++d,y&&d===l&&t()},Z=>s(Z))}),y=!0,d===l&&t()})}static or(e){let t=gt.resolve(!1);for(const s of e)t=t.next(l=>l?gt.resolve(l):s());return t}static forEach(e,t){const s=[];return e.forEach((l,d)=>{s.push(t.call(this,l,d))}),this.waitFor(s)}static mapArray(e,t){return new gt((s,l)=>{const d=e.length,y=new Array(d);let M=0;for(let Z=0;Z<d;Z++){const ne=Z;t(e[ne]).next(ye=>{y[ne]=ye,++M,M===d&&s(y)},ye=>l(ye))}})}static doWhile(e,t){return new gt((s,l)=>{const d=()=>{!0===e()?t().next(()=>{d()},l):s()};d()})}}class Io{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Di,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Zn(e,t.error)):this.P.resolve()},this.transaction.onerror=s=>{const l=Ys(s.target.error);this.P.reject(new Zn(e,l))}}static open(e,t,s,l){try{return new Io(t,e.transaction(l,s))}catch(d){throw new Zn(t,d)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(an("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new fr(t)}}class Co{constructor(e,t,s){this.name=e,this.version=t,this.S=s,12.2===Co.D((0,qe.z$)())&&wr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return an("SimpleDb","Removing database:",e),Br(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,qe.hl)())return!1;if(Co.N())return!0;const e=(0,qe.z$)(),t=Co.D(e),s=0<t&&t<10,l=Co.k(e),d=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static k(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}F(e){var t=this;return(0,Oe.Z)(function*(){return t.db||(an("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,l)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=y=>{s(y.target.result)},d.onblocked=()=>{l(new Zn(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=y=>{const M=y.target.error;l("VersionError"===M.name?new Yt(At.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===M.name?new Yt(At.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+M):new Zn(e,M))},d.onupgradeneeded=y=>{an("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',y.oldVersion),t.S.$(y.target.result,d.transaction,y.oldVersion,t.version).next(()=>{an("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=s=>t.B(s)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,l){var d=this;return(0,Oe.Z)(function*(){const y="readonly"===t;let M=0;for(;;){++M;try{d.db=yield d.F(e);const Z=Io.open(d.db,e,y?"readonly":"readwrite",s),ne=l(Z).next(ye=>(Z.V(),ye)).catch(ye=>(Z.abort(ye),gt.reject(ye))).toPromise();return ne.catch(()=>{}),yield Z.v,ne}catch(Z){const ne=Z,ye="FirebaseError"!==ne.name&&M<3;if(an("SimpleDb","Transaction failed with error:",ne.message,"Retrying:",ye),d.close(),!ye)return Promise.reject(ne)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class za{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Br(this.q.delete())}}class Zn extends Yt{constructor(e,t){super(At.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Gn(i){return"IndexedDbTransactionError"===i.name}class fr{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(an("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(an("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Br(s)}add(e){return an("SimpleDb","ADD",this.store.name,e,e),Br(this.store.add(e))}get(e){return Br(this.store.get(e)).next(t=>(void 0===t&&(t=null),an("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return an("SimpleDb","DELETE",this.store.name,e),Br(this.store.delete(e))}count(){return an("SimpleDb","COUNT",this.store.name),Br(this.store.count())}W(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const l=this.cursor(s),d=[];return this.H(l,(y,M)=>{d.push(M)}).next(()=>d)}{const l=this.store.getAll(s.range);return new gt((d,y)=>{l.onerror=M=>{y(M.target.error)},l.onsuccess=M=>{d(M.target.result)}})}}J(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new gt((l,d)=>{s.onerror=y=>{d(y.target.error)},s.onsuccess=y=>{l(y.target.result)}})}Y(e,t){an("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.X=!1;const l=this.cursor(s);return this.H(l,(d,y,M)=>M.delete())}Z(e,t){let s;t?s=e:(s={},t=e);const l=this.cursor(s);return this.H(l,t)}tt(e){const t=this.cursor({});return new gt((s,l)=>{t.onerror=d=>{const y=Ys(d.target.error);l(y)},t.onsuccess=d=>{const y=d.target.result;y?e(y.primaryKey,y.value).next(M=>{M?y.continue():s()}):s()}})}H(e,t){const s=[];return new gt((l,d)=>{e.onerror=y=>{d(y.target.error)},e.onsuccess=y=>{const M=y.target.result;if(!M)return void l();const Z=new za(M),ne=t(M.primaryKey,M.value,Z);if(ne instanceof gt){const ye=ne.catch(Ke=>(Z.done(),gt.reject(Ke)));s.push(ye)}Z.isDone?l():null===Z.G?M.continue():M.continue(Z.G)}}).next(()=>gt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Br(i){return new gt((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=Ys(s.target.error);t(l)}})}let Yi=!1;function Ys(i){const e=Co.D((0,qe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new Yt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Yi||(Yi=!0,setTimeout(()=>{throw s},0)),s}}return i}class Lo{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;an("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Oe.Z)(function*(){t.task=null;try{an("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(s){Gn(s)?an("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Fo(s)}yield t.nt(6e4)}))}}class ga{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Oe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.it(s,e))})()}it(e,t){const s=new Set;let l=t,d=!0;return gt.doWhile(()=>!0===d&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(y=>{if(null!==y&&!s.has(y))return an("IndexBackiller",`Processing collection: ${y}`),this.rt(e,y,l).next(M=>{l-=M,s.add(y)});d=!1})).next(()=>t-l)}rt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(l=>this.localStore.localDocuments.getNextDocuments(e,t,l,s).next(d=>{const y=d.changes;return this.localStore.indexManager.updateIndexEntries(e,y).next(()=>this.ot(l,d)).next(M=>(an("IndexBackiller",`Updating offset: ${M}`),this.localStore.indexManager.updateCollectionGroup(e,t,M))).next(()=>y.size)}))}ot(e,t){let s=e;return t.changes.forEach((l,d)=>{const y=Ea(d);Bs(y,s)>0&&(s=y)}),new Ms(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ai=(()=>{class i{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=l=>this.ut(l),this.ct=l=>s.writeSequenceNumber(l))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return i.at=-1,i})();class ba{constructor(e,t,s,l,d,y,M,Z){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=l,this.ssl=d,this.forceLongPolling=y,this.autoDetectLongPolling=M,this.useFetchStreams=Z}}class ma{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ma("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ma&&e.projectId===this.projectId&&e.database===this.database}}function js(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Qi(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function vo(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function C(i){return null==i}function D(i){return 0===i&&1/i==-1/0}function b(i){return"number"==typeof i&&Number.isInteger(i)&&!D(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class j{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new j(t)}static fromUint8Array(e){const t=function(s){let l="";for(let d=0;d<s.length;++d)l+=String.fromCharCode(s[d]);return l}(e);return new j(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return R(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}j.EMPTY_BYTE_STRING=new j("");const ae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ke(i){if(Vn(!!i),"string"==typeof i){let e=0;const t=ae.exec(i);if(Vn(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ue(i.seconds),nanos:Ue(i.nanos)}}function Ue(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ft(i){return"string"==typeof i?j.fromBase64String(i):j.fromUint8Array(i)}function Sn(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Rr(i){const e=i.mapValue.fields.__previous_value__;return Sn(e)?Rr(e):e}function Ln(i){const e=ke(i.mapValue.fields.__local_write_time__.timestampValue);return new Be(e.seconds,e.nanos)}const Zr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},oo={nullValue:"NULL_VALUE"};function Qs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Sn(i)?4:ct(i)?9007199254740991:10:Rn()}function ps(i,e){if(i===e)return!0;const t=Qs(i);if(t!==Qs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ln(i).isEqual(Ln(e));case 3:return function(s,l){if("string"==typeof s.timestampValue&&"string"==typeof l.timestampValue&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const d=ke(s.timestampValue),y=ke(l.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,Ft(i.bytesValue).isEqual(Ft(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,l){return Ue(s.geoPointValue.latitude)===Ue(l.geoPointValue.latitude)&&Ue(s.geoPointValue.longitude)===Ue(l.geoPointValue.longitude)}(i,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Ue(s.integerValue)===Ue(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const d=Ue(s.doubleValue),y=Ue(l.doubleValue);return d===y?D(d)===D(y):isNaN(d)&&isNaN(y)}return!1}(i,e);case 9:return te(i.arrayValue.values||[],e.arrayValue.values||[],ps);case 10:return function(s,l){const d=s.mapValue.fields||{},y=l.mapValue.fields||{};if(js(d)!==js(y))return!1;for(const M in d)if(d.hasOwnProperty(M)&&(void 0===y[M]||!ps(d[M],y[M])))return!1;return!0}(i,e);default:return Rn()}var l}function Do(i,e){return void 0!==(i.values||[]).find(t=>ps(t,e))}function qo(i,e){if(i===e)return 0;const t=Qs(i),s=Qs(e);if(t!==s)return R(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return R(i.booleanValue,e.booleanValue);case 2:return function(l,d){const y=Ue(l.integerValue||l.doubleValue),M=Ue(d.integerValue||d.doubleValue);return y<M?-1:y>M?1:y===M?0:isNaN(y)?isNaN(M)?0:-1:1}(i,e);case 3:return Na(i.timestampValue,e.timestampValue);case 4:return Na(Ln(i),Ln(e));case 5:return R(i.stringValue,e.stringValue);case 6:return function(l,d){const y=Ft(l),M=Ft(d);return y.compareTo(M)}(i.bytesValue,e.bytesValue);case 7:return function(l,d){const y=l.split("/"),M=d.split("/");for(let Z=0;Z<y.length&&Z<M.length;Z++){const ne=R(y[Z],M[Z]);if(0!==ne)return ne}return R(y.length,M.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,d){const y=R(Ue(l.latitude),Ue(d.latitude));return 0!==y?y:R(Ue(l.longitude),Ue(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,d){const y=l.values||[],M=d.values||[];for(let Z=0;Z<y.length&&Z<M.length;++Z){const ne=qo(y[Z],M[Z]);if(ne)return ne}return R(y.length,M.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,d){if(l===Zr.mapValue&&d===Zr.mapValue)return 0;if(l===Zr.mapValue)return 1;if(d===Zr.mapValue)return-1;const y=l.fields||{},M=Object.keys(y),Z=d.fields||{},ne=Object.keys(Z);M.sort(),ne.sort();for(let ye=0;ye<M.length&&ye<ne.length;++ye){const Ke=R(M[ye],ne[ye]);if(0!==Ke)return Ke;const Ct=qo(y[M[ye]],Z[ne[ye]]);if(0!==Ct)return Ct}return R(M.length,ne.length)}(i.mapValue,e.mapValue);default:throw Rn()}}function Na(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return R(i,e);const t=ke(i),s=ke(e),l=R(t.seconds,s.seconds);return 0!==l?l:R(t.nanos,s.nanos)}function wa(i){return Aa(i)}function Aa(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const l=ke(s);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ft(i.bytesValue).toBase64():"referenceValue"in i?Xt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let l="[",d=!0;for(const y of s.values||[])d?d=!1:l+=",",l+=Aa(y);return l+"]"}(i.arrayValue):"mapValue"in i?function(s){const l=Object.keys(s.fields||{}).sort();let d="{",y=!0;for(const M of l)y?y=!1:d+=",",d+=`${M}:${Aa(s.fields[M])}`;return d+"}"}(i.mapValue):Rn();var e}function Wa(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Js(i){return!!i&&"integerValue"in i}function qa(i){return!!i&&"arrayValue"in i}function V(i){return!!i&&"nullValue"in i}function q(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function oe(i){return!!i&&"mapValue"in i}function je(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Qi(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=je(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=je(i.arrayValue.values[t]);return e}return Object.assign({},i)}function ct(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Nt(i){return"nullValue"in i?oo:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Wa(ma.empty(),Xt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Rn()}function dn(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Wa(ma.empty(),Xt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Zr:Rn()}function Xn(i,e){const t=qo(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function mr(i,e){const t=qo(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class cr{constructor(e,t){this.position=e,this.inclusive=t}}function pi(i,e,t){let s=0;for(let l=0;l<i.position.length;l++){const d=e[l],y=i.position[l];if(s=d.field.isKeyField()?Xt.comparator(Xt.fromName(y.referenceValue),t.key):qo(y,t.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function Nr(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!ps(i.position[t],e.position[t]))return!1;return!0}class Ko{}class Ir extends Ko{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new sg(e,t,s):"array-contains"===t?new Dl(e,s):"in"===t?new Uc(e,s):"not-in"===t?new gf(e,s):"array-contains-any"===t?new Rd(e,s):new Ir(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new pf(e,s):new Pd(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(qo(t,this.value)):null!==t&&Qs(this.value)===Qs(t)&&this.matchesComparison(qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ai extends Ko{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Ai(e,t)}matches(e){return Oa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Oa(i){return"and"===i.op}function Ka(i){return"or"===i.op}function To(i){return ea(i)&&Oa(i)}function ea(i){for(const e of i.filters)if(e instanceof Ai)return!1;return!0}function Bl(i){if(i instanceof Ir)return i.field.canonicalString()+i.op.toString()+wa(i.value);if(To(i))return i.filters.map(e=>Bl(e)).join(",");{const e=i.filters.map(t=>Bl(t)).join(",");return`${i.op}(${e})`}}function ff(i,e){return i instanceof Ir?(t=i,(s=e)instanceof Ir&&t.op===s.op&&t.field.isEqual(s.field)&&ps(t.value,s.value)):i instanceof Ai?function(t,s){return s instanceof Ai&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((l,d,y)=>l&&ff(d,s.filters[y]),!0)}(i,e):void Rn();var t,s}function Vc(i,e){const t=i.filters.concat(e);return Ai.create(t,i.op)}function Gu(i){return i instanceof Ir?`${(e=i).field.canonicalString()} ${e.op} ${wa(e.value)}`:i instanceof Ai?function(e){return e.op.toString()+" {"+e.getFilters().map(Gu).join(" ,")+"}"}(i):"Filter";var e}class sg extends Ir{constructor(e,t,s){super(e,t,s),this.key=Xt.fromName(s.referenceValue)}matches(e){const t=Xt.comparator(e.key,this.key);return this.matchesComparison(t)}}class pf extends Ir{constructor(e,t){super(e,"in",t),this.keys=kd(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Pd extends Ir{constructor(e,t){super(e,"not-in",t),this.keys=kd(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kd(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Xt.fromName(s.referenceValue))}class Dl extends Ir{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qa(t)&&Do(t.arrayValue,this.value)}}class Uc extends Ir{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Do(this.value.arrayValue,t)}}class gf extends Ir{constructor(e,t){super(e,"not-in",t)}matches(e){if(Do(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Do(this.value.arrayValue,t)}}class Rd extends Ir{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qa(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Do(this.value.arrayValue,s))}}class vu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Nd(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class So{constructor(e,t){this.comparator=e,this.root=t||ta.EMPTY}insert(e,t){return new So(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ta.BLACK,null,null))}remove(e){return new So(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ta.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return t+s.left.size;l<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zu(this.root,e,this.comparator,!0)}}class zu{constructor(e,t,s,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?s(e.key,t):1,t&&l&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ta{constructor(e,t,s,l,d){this.key=e,this.value=t,this.color=s??ta.RED,this.left=l??ta.EMPTY,this.right=d??ta.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,l,d){return new ta(e??this.key,t??this.value,s??this.color,l??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let l=this;const d=s(e,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(e,t,s),null):0===d?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ta.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return ta.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ta.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ta.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rn();const e=this.left.check();if(e!==this.right.check())throw Rn();return e+(this.isRed()?0:1)}}ta.EMPTY=null,ta.RED=!0,ta.BLACK=!1,ta.EMPTY=new class{constructor(){this.size=0}get key(){throw Rn()}get value(){throw Rn()}get color(){throw Rn()}get left(){throw Rn()}get right(){throw Rn()}copy(i,e,t,s,l){return this}insert(i,e,t){return new ta(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gi{constructor(e){this.comparator=e,this.data=new So(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mf(this.data.getIterator())}getIteratorFrom(e){return new mf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Gi)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,d=s.getNext().key;if(0!==this.comparator(l,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gi(this.comparator);return t.data=e,t}}class mf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _u(i){return i.hasNext()?i.getNext():void 0}class sa{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new sa([])}unionWith(e){let t=new Gi(gn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new sa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return te(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class oa{constructor(e){this.value=e}static empty(){return new oa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!oe(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=je(t)}setAll(e){let t=gn.emptyPath(),s={},l=[];e.forEach((y,M)=>{if(!t.isImmediateParentOf(M)){const Z=this.getFieldsMap(t);this.applyChanges(Z,s,l),s={},l=[],t=M.popLast()}y?s[M.lastSegment()]=je(y):l.push(M.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,s,l)}delete(e){const t=this.field(e.popLast());oe(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=t.mapValue.fields[e.get(s)];oe(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,s){Qi(t,(l,d)=>e[l]=d);for(const l of s)delete e[l]}clone(){return new oa(je(this.value))}}function yf(i){const e=[];return Qi(i.fields,(t,s)=>{const l=new gn([t]);if(oe(s)){const d=yf(s.mapValue).fields;if(0===d.length)e.push(l);else for(const y of d)e.push(l.child(y))}else e.push(l)}),new sa(e)}class $s{constructor(e,t,s,l,d,y,M){this.key=e,this.documentType=t,this.version=s,this.readTime=l,this.createTime=d,this.data=y,this.documentState=M}static newInvalidDocument(e){return new $s(e,0,Se.min(),Se.min(),Se.min(),oa.empty(),0)}static newFoundDocument(e,t,s,l){return new $s(e,1,t,Se.min(),s,l,0)}static newNoDocument(e,t){return new $s(e,2,t,Se.min(),Se.min(),oa.empty(),0)}static newUnknownDocument(e,t){return new $s(e,3,t,Se.min(),Se.min(),oa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $s&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $s(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class og{constructor(e,t=null,s=[],l=[],d=null,y=null,M=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=l,this.limit=d,this.startAt=y,this.endAt=M,this.ft=null}}function Od(i,e=null,t=[],s=[],l=null,d=null,y=null){return new og(i,e,t,s,l,d,y)}function Tl(i){const e=Cn(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Bl(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(l=s).field.canonicalString()+l.dir;var l}).join(","),C(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>wa(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>wa(s)).join(",")),e.ft=t}return e.ft}function jl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!Nd(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!ff(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Nr(i.startAt,e.startAt)&&Nr(i.endAt,e.endAt)}function ul(i){return Xt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Eu(i,e){return i.filters.filter(t=>t instanceof Ir&&t.field.isEqual(e))}function wu(i,e,t){let s=oo,l=!0;for(const d of Eu(i,e)){let y=oo,M=!0;switch(d.op){case"<":case"<=":y=Nt(d.value);break;case"==":case"in":case">=":y=d.value;break;case">":y=d.value,M=!1;break;case"!=":case"not-in":y=oo}Xn({value:s,inclusive:l},{value:y,inclusive:M})<0&&(s=y,l=M)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const y=t.position[d];Xn({value:s,inclusive:l},{value:y,inclusive:t.inclusive})<0&&(s=y,l=t.inclusive);break}return{value:s,inclusive:l}}function Bc(i,e,t){let s=Zr,l=!0;for(const d of Eu(i,e)){let y=Zr,M=!0;switch(d.op){case">=":case">":y=dn(d.value),M=!1;break;case"==":case"in":case"<=":y=d.value;break;case"<":y=d.value,M=!1;break;case"!=":case"not-in":y=Zr}mr({value:s,inclusive:l},{value:y,inclusive:M})>0&&(s=y,l=M)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const y=t.position[d];mr({value:s,inclusive:l},{value:y,inclusive:t.inclusive})>0&&(s=y,l=t.inclusive);break}return{value:s,inclusive:l}}class Zo{constructor(e,t=null,s=[],l=[],d=null,y="F",M=null,Z=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=l,this.limit=d,this.limitType=y,this.startAt=M,this.endAt=Z,this.dt=null,this._t=null}}function Fd(i,e,t,s,l,d,y,M){return new Zo(i,e,t,s,l,d,y,M)}function cl(i){return new Zo(i)}function Ld(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function bu(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Sl(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function jc(i){return null!==i.collectionGroup}function Al(i){const e=Cn(i);if(null===e.dt){e.dt=[];const t=Sl(e),s=bu(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new vu(t)),e.dt.push(new vu(gn.keyField(),"asc"));else{let l=!1;for(const d of e.explicitOrderBy)e.dt.push(d),d.field.isKeyField()&&(l=!0);if(!l){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new vu(gn.keyField(),d))}}}return e.dt}function ya(i){const e=Cn(i);if(!e._t)if("F"===e.limitType)e._t=Od(e.path,e.collectionGroup,Al(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of Al(e))t.push(new vu(d.field,"desc"===d.dir?"asc":"desc"));const s=e.endAt?new cr(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new cr(e.startAt.position,e.startAt.inclusive):null;e._t=Od(e.path,e.collectionGroup,t,e.filters,e.limit,s,l)}return e._t}function Wu(i,e){e.getFirstInequalityField(),Sl(i);const t=i.filters.concat([e]);return new Zo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function qu(i,e,t){return new Zo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function $l(i,e){return jl(ya(i),ya(e))&&i.limitType===e.limitType}function aa(i){return`${Tl(ya(i))}|lt:${i.limitType}`}function Ku(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Gu(s)).join(", ")}]`),C(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(l=s).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>wa(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>wa(s)).join(",")),`Target(${t})`}(ya(i))}; limitType=${i.limitType})`}function S(i,e){return e.isFoundDocument()&&function(t,s){const l=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):Xt.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,s){for(const l of Al(t))if(!l.field.isKeyField()&&null===s.data.field(l.field))return!1;return!0}(i,e)&&function(t,s){for(const l of t.filters)if(!l.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(l,d,y){const M=pi(l,d,y);return l.inclusive?M<=0:M<0}(t.startAt,Al(t),s)||t.endAt&&!function(l,d,y){const M=pi(l,d,y);return l.inclusive?M>=0:M>0}(t.endAt,Al(t),s)));var t,s}function g(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function m(i){return(e,t)=>{let s=!1;for(const l of Al(i)){const d=P(l,e,t);if(0!==d)return d;s=s||l.field.isKeyField()}return 0}}function P(i,e,t){const s=i.field.isKeyField()?Xt.comparator(e.key,t.key):function(l,d,y){const M=d.data.field(l),Z=y.data.field(l);return null!==M&&null!==Z?qo(M,Z):Rn()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Rn()}}function re(i,e){if(i.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:D(e)?"-0":e}}function Ee(i){return{integerValue:""+i}}function Mt(i,e){return b(e)?Ee(e):re(i,e)}class ln{constructor(){this._=void 0}}function ir(i,e,t){return i instanceof es?function(s,l){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&(d.fields.__previous_value__=l),{mapValue:d}}(t,e):i instanceof la?Za(i,e):i instanceof Ma?Iu(i,e):function(s,l){const d=li(s,l),y=Zu(d)+Zu(s.gt);return Js(d)&&Js(s.gt)?Ee(y):re(s.yt,y)}(i,e)}function Sr(i,e,t){return i instanceof la?Za(i,e):i instanceof Ma?Iu(i,e):t}function li(i,e){return i instanceof dl?Js(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class es extends ln{}class la extends ln{constructor(e){super(),this.elements=e}}function Za(i,e){const t=$c(e);for(const s of i.elements)t.some(l=>ps(l,s))||t.push(s);return{arrayValue:{values:t}}}class Ma extends ln{constructor(e){super(),this.elements=e}}function Iu(i,e){let t=$c(e);for(const s of i.elements)t=t.filter(l=>!ps(l,s));return{arrayValue:{values:t}}}class dl extends ln{constructor(e,t){super(),this.yt=e,this.gt=t}}function Zu(i){return Ue(i.integerValue||i.doubleValue)}function $c(i){return qa(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Fa{constructor(e,t){this.field=e,this.transform=t}}class Ud{constructor(e,t){this.version=e,this.transformResults=t}}class gs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gs}static exists(e){return new gs(void 0,e)}static updateTime(e){return new gs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ml(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Cu{}function Hc(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Yu(i.key,gs.none()):new Gl(i.key,i.data,gs.none());{const t=i.data,s=oa.empty();let l=new Gi(gn.comparator);for(let d of e.fields)if(!l.has(d)){let y=t.field(d);null===y&&d.length>1&&(d=d.popLast(),y=t.field(d)),null===y?s.delete(d):s.set(d,y),l=l.add(d)}return new xl(i.key,s,new sa(l.toArray()),gs.none())}}function Hl(i,e,t){i instanceof Gl?function(s,l,d){const y=s.value.clone(),M=cg(s.fieldTransforms,l,d.transformResults);y.setAll(M),l.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(i,e,t):i instanceof xl?function(s,l,d){if(!Ml(s.precondition,l))return void l.convertToUnknownDocument(d.version);const y=cg(s.fieldTransforms,l,d.transformResults),M=l.data;M.setAll(ug(s)),M.setAll(y),l.convertToFoundDocument(d.version,M).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Du(i,e,t,s){return i instanceof Gl?function(l,d,y,M){if(!Ml(l.precondition,d))return y;const Z=l.value.clone(),ne=dg(l.fieldTransforms,M,d);return Z.setAll(ne),d.convertToFoundDocument(d.version,Z).setHasLocalMutations(),null}(i,e,t,s):i instanceof xl?function(l,d,y,M){if(!Ml(l.precondition,d))return y;const Z=dg(l.fieldTransforms,M,d),ne=d.data;return ne.setAll(ug(l)),ne.setAll(Z),d.convertToFoundDocument(d.version,ne).setHasLocalMutations(),null===y?null:y.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(ye=>ye.field))}(i,e,t,s):(y=t,Ml(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y);var d,y}function ag(i,e){let t=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),d=li(s.transform,l||null);null!=d&&(null===t&&(t=oa.empty()),t.set(s.field,d))}return t||null}function lg(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&te(t,s,(l,d)=>function Vd(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof la&&s instanceof la||t instanceof Ma&&s instanceof Ma?te(t.elements,s.elements,ps):t instanceof dl&&s instanceof dl?ps(t.gt,s.gt):t instanceof es&&s instanceof es);var t,s}(l,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class Gl extends Cu{constructor(e,t,s,l=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class xl extends Cu{constructor(e,t,s,l,d=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=l,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function ug(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function cg(i,e,t){const s=new Map;Vn(i.length===t.length);for(let l=0;l<t.length;l++){const d=i[l],y=d.transform,M=e.data.field(d.field);s.set(d.field,Sr(y,M,t[l]))}return s}function dg(i,e,t){const s=new Map;for(const l of i){const d=l.transform,y=t.data.field(l.field);s.set(l.field,ir(d,y,e))}return s}class Yu extends Cu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vf extends Cu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hg{constructor(e){this.count=e}}var Vo,Ui;function Bd(i){switch(i){default:return Rn();case At.CANCELLED:case At.UNKNOWN:case At.DEADLINE_EXCEEDED:case At.RESOURCE_EXHAUSTED:case At.INTERNAL:case At.UNAVAILABLE:case At.UNAUTHENTICATED:return!1;case At.INVALID_ARGUMENT:case At.NOT_FOUND:case At.ALREADY_EXISTS:case At.PERMISSION_DENIED:case At.FAILED_PRECONDITION:case At.ABORTED:case At.OUT_OF_RANGE:case At.UNIMPLEMENTED:case At.DATA_LOSS:return!0}}function fg(i){if(void 0===i)return wr("GRPC error has no .code"),At.UNKNOWN;switch(i){case Vo.OK:return At.OK;case Vo.CANCELLED:return At.CANCELLED;case Vo.UNKNOWN:return At.UNKNOWN;case Vo.DEADLINE_EXCEEDED:return At.DEADLINE_EXCEEDED;case Vo.RESOURCE_EXHAUSTED:return At.RESOURCE_EXHAUSTED;case Vo.INTERNAL:return At.INTERNAL;case Vo.UNAVAILABLE:return At.UNAVAILABLE;case Vo.UNAUTHENTICATED:return At.UNAUTHENTICATED;case Vo.INVALID_ARGUMENT:return At.INVALID_ARGUMENT;case Vo.NOT_FOUND:return At.NOT_FOUND;case Vo.ALREADY_EXISTS:return At.ALREADY_EXISTS;case Vo.PERMISSION_DENIED:return At.PERMISSION_DENIED;case Vo.FAILED_PRECONDITION:return At.FAILED_PRECONDITION;case Vo.ABORTED:return At.ABORTED;case Vo.OUT_OF_RANGE:return At.OUT_OF_RANGE;case Vo.UNIMPLEMENTED:return At.UNIMPLEMENTED;case Vo.DATA_LOSS:return At.DATA_LOSS;default:return Rn()}}(Ui=Vo||(Vo={}))[Ui.OK=0]="OK",Ui[Ui.CANCELLED=1]="CANCELLED",Ui[Ui.UNKNOWN=2]="UNKNOWN",Ui[Ui.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ui[Ui.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ui[Ui.NOT_FOUND=5]="NOT_FOUND",Ui[Ui.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ui[Ui.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ui[Ui.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ui[Ui.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ui[Ui.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ui[Ui.ABORTED=10]="ABORTED",Ui[Ui.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ui[Ui.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ui[Ui.INTERNAL=13]="INTERNAL",Ui[Ui.UNAVAILABLE=14]="UNAVAILABLE",Ui[Ui.DATA_LOSS=15]="DATA_LOSS";class zl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[l,d]of s)if(this.equalsFn(l,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,t]],void this.innerSize++;for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],e))return void(l[d]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[t]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,(t,s)=>{for(const[l,d]of s)e(l,d)})}isEmpty(){return vo(this.inner)}size(){return this.innerSize}}const pg=new So(Xt.comparator);function Ia(){return pg}const Wl=new So(Xt.comparator);function Qu(...i){let e=Wl;for(const t of i)e=e.insert(t.key,t);return e}function _f(i){let e=Wl;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function hl(){return ql()}function jy(){return ql()}function ql(){return new zl(i=>i.toString(),(i,e)=>i.isEqual(e))}const $y=new So(Xt.comparator),gg=new Gi(Xt.comparator);function ui(...i){let e=gg;for(const t of i)e=e.add(t);return e}const mg=new Gi(R);function Ju(){return mg}class Xu{constructor(e,t,s,l,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const l=new Map;return l.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Xu(Se.min(),l,Ju(),Ia(),ui())}}class Kl{constructor(e,t,s,l,d){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Kl(s,t,ui(),ui(),ui())}}class Tu{constructor(e,t,s,l){this.It=e,this.removedTargetIds=t,this.key=s,this.Tt=l}}class Ef{constructor(e,t){this.targetId=e,this.Et=t}}class jd{constructor(e,t,s=j.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=l}}class $d{constructor(){this.At=0,this.Rt=yg(),this.bt=j.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=ui(),t=ui(),s=ui();return this.Rt.forEach((l,d)=>{switch(d){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:s=s.add(l);break;default:Rn()}}),new Kl(this.bt,this.Pt,e,t,s)}xt(){this.vt=!1,this.Rt=yg()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class wf{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Ia(),this.qt=ec(),this.Ut=new Gi(R)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const s=this.Wt(t);switch(e.state){case 0:this.zt(t)&&s.Dt(e.resumeToken);break;case 1:s.Mt(),s.Vt||s.xt(),s.Dt(e.resumeToken);break;case 2:s.Mt(),s.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(s.Ft(),s.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),s.Dt(e.resumeToken));break;default:Rn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((s,l)=>{this.zt(l)&&t(l)})}Jt(e){const t=e.targetId,s=e.Et.count,l=this.Yt(t);if(l){const d=l.target;if(ul(d))if(0===s){const y=new Xt(d.path);this.Qt(t,y,$s.newNoDocument(y,Se.min()))}else Vn(1===s);else this.Xt(t)!==s&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((d,y)=>{const M=this.Yt(y);if(M){if(d.current&&ul(M.target)){const Z=new Xt(M.target.path);null!==this.Lt.get(Z)||this.te(y,Z)||this.Qt(y,Z,$s.newNoDocument(Z,e))}d.St&&(t.set(y,d.Ct()),d.xt())}});let s=ui();this.qt.forEach((d,y)=>{let M=!0;y.forEachWhile(Z=>{const ne=this.Yt(Z);return!ne||2===ne.purpose||(M=!1,!1)}),M&&(s=s.add(d))}),this.Lt.forEach((d,y)=>y.setReadTime(e));const l=new Xu(e,t,this.Ut,this.Lt,s);return this.Lt=Ia(),this.qt=ec(),this.Ut=new Gi(R),l}Gt(e,t){if(!this.zt(e))return;const s=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,s),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,s){if(!this.zt(e))return;const l=this.Wt(e);this.te(e,t)?l.Nt(t,1):l.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),s&&(this.Lt=this.Lt.insert(t,s))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new $d,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Gi(R),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||an("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new $d),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function ec(){return new So(Xt.comparator)}function yg(){return new So(Xt.comparator)}const vg={asc:"ASCENDING",desc:"DESCENDING"},Hy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gy={and:"AND",or:"OR"};class _g{constructor(e,t){this.databaseId=e,this.wt=t}}function Zl(i,e){return i.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gc(i,e){return i.wt?e.toBase64():e.toUint8Array()}function bf(i,e){return Zl(i,e.toTimestamp())}function Hs(i){return Vn(!!i),Se.fromTimestamp(function(e){const t=ke(e);return new Be(t.seconds,t.nanos)}(i))}function If(i,e){return(t=i,new wt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Eg(i){const e=wt.fromString(i);return Vn(Sg(e)),e}function Hd(i,e){return If(i.databaseId,e.path)}function fl(i,e){const t=Eg(e);if(t.get(1)!==i.databaseId.projectId)throw new Yt(At.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Yt(At.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Xt(Wc(t))}function zc(i,e){return If(i.databaseId,e)}function wg(i){const e=Eg(i);return 4===e.length?wt.emptyPath():Wc(e)}function tc(i){return new wt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Wc(i){return Vn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Gd(i,e,t){return{name:Hd(i,e),fields:t.value.mapValue.fields}}function Cf(i,e,t){const s=fl(i,e.name),l=Hs(e.updateTime),d=e.createTime?Hs(e.createTime):Se.min(),y=new oa({mapValue:{fields:e.fields}}),M=$s.newFoundDocument(s,l,d,y);return t&&M.setHasCommittedMutations(),t?M.setHasCommittedMutations():M}function nc(i,e){let t;if(e instanceof Gl)t={update:Gd(i,e.key,e.value)};else if(e instanceof Yu)t={delete:Hd(i,e.key)};else if(e instanceof xl)t={update:Gd(i,e.key,e.data),updateMask:Tg(e.fieldMask)};else{if(!(e instanceof vf))return Rn();t={verify:Hd(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,d){const y=d.transform;if(y instanceof es)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof la)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Ma)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof dl)return{fieldPath:d.field.canonicalString(),increment:y.gt};throw Rn()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:bf(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Rn()),t;var l}function Df(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?gs.updateTime(Hs(l.updateTime)):void 0!==l.exists?gs.exists(l.exists):gs.none():gs.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(d,y){let M=null;"setToServerValue"in y?(Vn("REQUEST_TIME"===y.setToServerValue),M=new es):"appendMissingElements"in y?M=new la(y.appendMissingElements.values||[]):"removeAllFromArray"in y?M=new Ma(y.removeAllFromArray.values||[]):"increment"in y?M=new dl(d,y.increment):Rn();const Z=gn.fromServerFormat(y.fieldPath);return new Fa(Z,M)}(i,l)):[];var l;if(e.update){const l=fl(i,e.update.name),d=new oa({mapValue:{fields:e.update.fields}});if(e.updateMask){const y=new sa((e.updateMask.fieldPaths||[]).map(ne=>gn.fromServerFormat(ne)));return new xl(l,d,y,t,s)}return new Gl(l,d,t,s)}if(e.delete){const l=fl(i,e.delete);return new Yu(l,t)}if(e.verify){const l=fl(i,e.verify);return new vf(l,t)}return Rn()}function Cg(i,e){return{documents:[zc(i,e.path)]}}function Tf(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=zc(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=zc(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(Z){if(0!==Z.length)return qy(Ai.create(Z,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const d=function(Z){if(0!==Z.length)return Z.map(ne=>{return{field:qc((ye=ne).field),direction:Wy(ye.dir)};var ye})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const y=(ne=e.limit,i.wt||C(ne)?ne:{value:ne});var ne,M,Z;return null!==y&&(t.structuredQuery.limit=y),e.startAt&&(t.structuredQuery.startAt={before:(M=e.startAt).inclusive,values:M.position}),e.endAt&&(t.structuredQuery.endAt={before:!(Z=e.endAt).inclusive,values:Z.position}),t}function Dg(i){let e=wg(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let l=null;if(s>0){Vn(1===s);const ye=t.from[0];ye.allDescendants?l=ye.collectionId:e=e.child(ye.collectionId)}let d=[];t.where&&(d=function(ye){const Ke=rc(ye);return Ke instanceof Ai&&To(Ke)?Ke.getFilters():[Ke]}(t.where));let y=[];t.orderBy&&(y=t.orderBy.map(ye=>{return new vu(Kc((Ke=ye).field),function(Ct){switch(Ct){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ke.direction));var Ke}));let M=null;t.limit&&(M=function(ye){let Ke;return Ke="object"==typeof ye?ye.value:ye,C(Ke)?null:Ke}(t.limit));let Z=null;var ye;t.startAt&&(Z=new cr((ye=t.startAt).values||[],!!ye.before));let ne=null;return t.endAt&&(ne=function(ye){return new cr(ye.values||[],!ye.before)}(t.endAt)),Fd(e,l,y,d,M,"F",Z,ne)}function rc(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Kc(e.unaryFilter.field);return Ir.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=Kc(e.unaryFilter.field);return Ir.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Kc(e.unaryFilter.field);return Ir.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Kc(e.unaryFilter.field);return Ir.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Rn()}}(i):void 0!==i.fieldFilter?Ir.create(Kc((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Ai.create(e.compositeFilter.filters.map(t=>rc(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Rn()}}(e.compositeFilter.op))}(i):Rn();var e}function Wy(i){return vg[i]}function p0(i){return Hy[i]}function g0(i){return Gy[i]}function qc(i){return{fieldPath:i.canonicalString()}}function Kc(i){return gn.fromServerFormat(i.fieldPath)}function qy(i){return i instanceof Ir?function(e){if("=="===e.op){if(q(e.value))return{unaryFilter:{field:qc(e.field),op:"IS_NAN"}};if(V(e.value))return{unaryFilter:{field:qc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(q(e.value))return{unaryFilter:{field:qc(e.field),op:"IS_NOT_NAN"}};if(V(e.value))return{unaryFilter:{field:qc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qc(e.field),op:p0(e.op),value:e.value}}}(i):i instanceof Ai?function(e){const t=e.getFilters().map(s=>qy(s));return 1===t.length?t[0]:{compositeFilter:{op:g0(e.op),filters:t}}}(i):Rn()}function Tg(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Sg(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Ca(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Ag(e)),e=Ky(i.get(t),e);return Ag(e)}function Ky(i,e){let t=e;const s=i.length;for(let l=0;l<s;l++){const d=i.charAt(l);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function Ag(i){return i+"\x01\x01"}function Va(i){const e=i.length;if(Vn(e>=2),2===e)return Vn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),wt.emptyPath();const t=e-2,s=[];let l="";for(let d=0;d<e;){const y=i.indexOf("\x01",d);switch((y<0||y>t)&&Rn(),i.charAt(y+1)){case"\x01":const M=i.substring(d,y);let Z;0===l.length?Z=M:(l+=M,Z=l,l=""),s.push(Z);break;case"\x10":l+=i.substring(d,y),l+="\0";break;case"\x11":l+=i.substring(d,y+1);break;default:Rn()}d=y+2}return new wt(s)}const pl=["userId","batchId"];function Ql(i,e){return[i,Ca(e)]}function Sf(i,e,t){return[i,Ca(e),t]}const Mg={},xg=["prefixPath","collectionGroup","readTime","documentId"],m0=["prefixPath","collectionGroup","documentId"],y0=["collectionGroup","readTime","prefixPath","documentId"],v0=["canonicalId","targetId"],Af=["targetId","path"],Mf=["path","targetId"],_0=["collectionId","parent"],E0=["indexId","uid"],Pg=["uid","sequenceNumber"],Zy=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Yy=["indexId","uid","orderedDocumentKey"],Qy=["userId","collectionPath","documentId"],Jy=["userId","collectionPath","largestBatchId"],kg=["userId","collectionGroup","largestBatchId"],Zc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Xy=[...Zc,"documentOverlays"],zd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Rg=zd,Jo=[...Rg,"indexConfiguration","indexState","indexEntries"];class xf extends yo{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function ua(i,e){const t=Cn(i);return Co.M(t.se,e)}class Yc{constructor(e,t,s,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(e.key)&&Hl(d,e,s[l])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Du(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Du(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=jy();return this.mutations.forEach(l=>{const d=e.get(l.key),y=d.overlayedDocument;let M=this.applyToLocalView(y,d.mutatedFields);M=t.has(l.key)?null:M;const Z=Hc(y,M);null!==Z&&s.set(l.key,Z),y.isValidDocument()||y.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ui())}isEqual(e){return this.batchId===e.batchId&&te(this.mutations,e.mutations,(t,s)=>lg(t,s))&&te(this.baseMutations,e.baseMutations,(t,s)=>lg(t,s))}}class Wd{constructor(e,t,s,l){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=l}static from(e,t,s){Vn(e.mutations.length===s.length);let l=$y;const d=e.mutations;for(let y=0;y<d.length;y++)l=l.insert(d[y].key,s[y].version);return new Wd(e,t,s,l)}}class Pf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Jl{constructor(e,t,s,l,d=Se.min(),y=Se.min(),M=j.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=M}withSequenceNumber(e){return new Jl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ng{constructor(e){this.ie=e}}function Og(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:kf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Hd(l=i.ie,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Zl(l,d.version.toTimestamp()),createTime:Zl(l,d.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:ic(e.version)};else{if(!e.isUnknownDocument())return Rn();s.unknownDocument={path:t.path.toArray(),version:ic(e.version)}}var l,d;return s}function kf(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function ic(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ya(i){const e=new Be(i.seconds,i.nanoseconds);return Se.fromTimestamp(e)}function Pl(i,e){const t=(e.baseMutations||[]).map(d=>Df(i.ie,d));for(let d=0;d<e.mutations.length-1;++d){const y=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(y.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const s=e.mutations.map(d=>Df(i.ie,d)),l=Be.fromMillis(e.localWriteTimeMs);return new Yc(e.batchId,l,t,s)}function sc(i){const e=Ya(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Ya(i.lastLimboFreeSnapshotVersion):Se.min();let s;var l;return void 0!==i.query.documents?(Vn(1===(l=i.query).documents.length),s=ya(cl(wg(l.documents[0])))):s=ya(Dg(i.query)),new Jl(s,i.targetId,0,i.lastListenSequenceNumber,e,t,j.fromBase64String(i.resumeToken))}function Rf(i,e){const t=ic(e.snapshotVersion),s=ic(e.lastLimboFreeSnapshotVersion);let l;l=ul(e.target)?Cg(i.ie,e.target):Tf(i.ie,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Tl(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function qd(i){const e=Dg({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?qu(e,e.limit,"L"):e}function Nf(i,e){return new Pf(e.largestBatchId,Df(i.ie,e.overlayMutation))}function Of(i,e){const t=e.path.lastSegment();return[i,Ca(e.path.popLast()),t]}function Ff(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:ic(s.readTime),documentKey:Ca(s.documentKey.path),largestBatchId:s.largestBatchId}}class Lf{getBundleMetadata(e,t){return tv(e).get(t).next(s=>{if(s)return{id:(l=s).bundleId,createTime:Ya(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return tv(e).put({bundleId:(s=t).id,createTime:ic(Hs(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Fg(e).get(t).next(s=>{if(s)return{name:(l=s).name,query:qd(l.bundledQuery),readTime:Ya(l.readTime)};var l})}saveNamedQuery(e,t){return Fg(e).put({name:(s=t).name,readTime:ic(Hs(s.readTime)),bundledQuery:s.bundledQuery});var s}}function tv(i){return ua(i,"bundles")}function Fg(i){return ua(i,"namedQueries")}class oc{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new oc(e,t.uid||"")}getOverlay(e,t){return ac(e).get(Of(this.userId,t)).next(s=>s?Nf(this.yt,s):null)}getOverlays(e,t){const s=hl();return gt.forEach(t,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,t,s){const l=[];return s.forEach((d,y)=>{const M=new Pf(t,y);l.push(this.oe(e,M))}),gt.waitFor(l)}removeOverlaysForBatchId(e,t,s){const l=new Set;t.forEach(y=>l.add(Ca(y.getCollectionPath())));const d=[];return l.forEach(y=>{const M=IDBKeyRange.bound([this.userId,y,s],[this.userId,y,s+1],!1,!0);d.push(ac(e).Y("collectionPathOverlayIndex",M))}),gt.waitFor(d)}getOverlaysForCollection(e,t,s){const l=hl(),d=Ca(t),y=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return ac(e).W("collectionPathOverlayIndex",y).next(M=>{for(const Z of M){const ne=Nf(this.yt,Z);l.set(ne.getKey(),ne)}return l})}getOverlaysForCollectionGroup(e,t,s,l){const d=hl();let y;const M=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ac(e).Z({index:"collectionGroupOverlayIndex",range:M},(Z,ne,ye)=>{const Ke=Nf(this.yt,ne);d.size()<l||Ke.largestBatchId===y?(d.set(Ke.getKey(),Ke),y=Ke.largestBatchId):ye.done()}).next(()=>d)}oe(e,t){return ac(e).put(function(s,l,d){const[y,M,Z]=Of(l,d.mutation.key);return{userId:l,collectionPath:M,documentId:Z,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:nc(s.ie,d.mutation)}}(this.yt,this.userId,t))}}function ac(i){return ua(i,"documentOverlays")}class Xl{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Ue(e.integerValue));else if("doubleValue"in e){const s=Ue(e.doubleValue);isNaN(s)?this.he(t,13):(this.he(t,15),D(s)?t.le(0):t.le(s))}else if("timestampValue"in e){const s=e.timestampValue;this.he(t,20),"string"==typeof s?t.fe(s):(t.fe(`${s.seconds||""}`),t.le(s.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Ft(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.he(t,45),t.le(s.latitude||0),t.le(s.longitude||0)}else"mapValue"in e?ct(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Rn()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const s=e.fields||{};this.he(t,55);for(const l of Object.keys(s))this.de(l,t),this.ce(s[l],t)}ye(e,t){const s=e.values||[];this.he(t,50);for(const l of s)this.ce(l,t)}me(e,t){this.he(t,37),Xt.fromName(e).path.forEach(s=>{this.he(t,60),this.pe(s,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function Su(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Lg(i){const e=64-function(t){let s=0;for(let l=0;l<8;++l){const d=Su(255&t[l]);if(s+=d,8!==d)break}return s}(i);return Math.ceil(e/8)}Xl.Ie=new Xl;class Vf{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ee(s.value),s=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.be(s.value),s=t.next();this.Pe()}ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ee(s);else if(s<2048)this.Ee(960|s>>>6),this.Ee(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|s>>>12),this.Ee(128|63&s>>>6),this.Ee(128|63&s);else{const l=t.codePointAt(0);this.Ee(240|l>>>18),this.Ee(128|63&l>>>12),this.Ee(128|63&l>>>6),this.Ee(128|63&l)}}this.Ae()}Ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.be(s);else if(s<2048)this.be(960|s>>>6),this.be(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.be(480|s>>>12),this.be(128|63&s>>>6),this.be(128|63&s);else{const l=t.codePointAt(0);this.be(240|l>>>18),this.be(128|63&l>>>12),this.be(128|63&l>>>6),this.be(128|63&l)}}this.Pe()}Se(e){const t=this.De(e),s=Lg(t);this.Ce(1+s),this.buffer[this.position++]=255&s;for(let l=t.length-s;l<t.length;++l)this.buffer[this.position++]=255&t[l]}xe(e){const t=this.De(e),s=Lg(t);this.Ce(1+s),this.buffer[this.position++]=~(255&s);for(let l=t.length-s;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(l){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,l,!1),new Uint8Array(d.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let l=1;l<t.length;++l)t[l]^=s?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class Kd{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class nv{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Au{constructor(){this.$e=new Vf,this.Be=new Kd(this.$e),this.Le=new nv(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class gl{constructor(e,t,s,l){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=l}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new gl(this.indexId,this.documentKey,this.arrayValue,s)}}function xa(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Uf(i.arrayValue,e.arrayValue),0!==t?t:(t=Uf(i.directionalValue,e.directionalValue),0!==t?t:Xt.comparator(i.documentKey,e.documentKey)))}function Uf(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class Bf{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const s=t;s.isInequality()?this.Qe=s:this.Ge.push(s)}}je(e){Vn(e.collectionGroup===this.collectionId);const t=hr(e);if(void 0!==t&&!this.We(t))return!1;const s=rr(e);let l=0,d=0;for(;l<s.length&&this.We(s[l]);++l);if(l===s.length)return!0;if(void 0!==this.Qe){const y=s[l];if(!this.ze(this.Qe,y)||!this.He(this.Ke[d++],y))return!1;++l}for(;l<s.length;++l){const y=s[l];if(d>=this.Ke.length||!this.He(this.Ke[d++],y))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Vg(i){var e,t;if(Vn(i instanceof Ir||i instanceof Ai),i instanceof Ir){if(i instanceof Uc){const l=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(d=>Ir.create(i.field,"==",d)))||[];return Ai.create(l,"or")}return i}const s=i.filters.map(l=>Vg(l));return Ai.create(s,i.op)}function rv(i){if(0===i.getFilters().length)return[];const e=jf(Vg(i));return Vn(Ug(e)),Zd(e)||eu(e)?[e]:e.getFilters()}function Zd(i){return i instanceof Ir}function eu(i){return i instanceof Ai&&To(i)}function Ug(i){return Zd(i)||eu(i)||function(e){if(e instanceof Ai&&Ka(e)){for(const t of e.getFilters())if(!Zd(t)&&!eu(t))return!1;return!0}return!1}(i)}function jf(i){if(Vn(i instanceof Ir||i instanceof Ai),i instanceof Ir)return i;if(1===i.filters.length)return jf(i.filters[0]);const e=i.filters.map(s=>jf(s));let t=Ai.create(e,i.op);return t=lc(t),Ug(t)?t:(Vn(t instanceof Ai),Vn(Oa(t)),Vn(t.filters.length>1),t.filters.reduce((s,l)=>$f(s,l)))}function $f(i,e){let t;return Vn(i instanceof Ir||i instanceof Ai),Vn(e instanceof Ir||e instanceof Ai),t=i instanceof Ir?e instanceof Ir?Ai.create([i,e],"and"):Bg(i,e):e instanceof Ir?Bg(e,i):function(s,l){if(Vn(s.filters.length>0&&l.filters.length>0),Oa(s)&&Oa(l))return Vc(s,l.getFilters());const d=Ka(s)?s:l,y=Ka(s)?l:s,M=d.filters.map(Z=>$f(Z,y));return Ai.create(M,"or")}(i,e),lc(t)}function Bg(i,e){if(Oa(e))return Vc(e,i.getFilters());{const t=e.filters.map(s=>$f(i,s));return Ai.create(t,"or")}}function lc(i){if(Vn(i instanceof Ir||i instanceof Ai),i instanceof Ir)return i;const e=i.getFilters();if(1===e.length)return lc(e[0]);if(ea(i))return i;const t=e.map(l=>lc(l)),s=[];return t.forEach(l=>{l instanceof Ir?s.push(l):l instanceof Ai&&(l.op===i.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:Ai.create(s,i.op)}class iv{constructor(){this.Je=new Yd}addToCollectionParentIndex(e,t){return this.Je.add(t),gt.resolve()}getCollectionParents(e,t){return gt.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return gt.resolve()}deleteFieldIndex(e,t){return gt.resolve()}getDocumentsMatchingTarget(e,t){return gt.resolve(null)}getIndexType(e,t){return gt.resolve(0)}getFieldIndexes(e,t){return gt.resolve([])}getNextCollectionGroupToUpdate(e){return gt.resolve(null)}getMinOffset(e,t){return gt.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,t){return gt.resolve(Ms.min())}updateCollectionGroup(e,t,s){return gt.resolve()}updateIndexEntries(e,t){return gt.resolve()}}class Yd{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t]||new Gi(wt.comparator),d=!l.has(s);return this.index[t]=l.add(s),d}has(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Gi(wt.comparator)).toArray()}}const Qd=new Uint8Array(0);class jg{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new Yd,this.Xe=new zl(s=>Tl(s),(s,l)=>jl(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const s=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const d={collectionId:s,parent:Ca(l)};return sv(e).put(d)}return gt.resolve()}getCollectionParents(e,t){const s=[],l=IDBKeyRange.bound([t,""],[me(t),""],!1,!0);return sv(e).W(l).next(d=>{for(const y of d){if(y.collectionId!==t)break;s.push(Va(y.parent))}return s})}addFieldIndex(e,t){const s=tu(e),l={indexId:(y=t).indexId,collectionGroup:y.collectionGroup,fields:y.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var y;delete l.indexId;const d=s.add(l);if(t.indexState){const y=Jc(e);return d.next(M=>{y.put(Ff(M,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return d.next()}deleteFieldIndex(e,t){const s=tu(e),l=Jc(e),d=Qc(e);return s.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Qc(e);let l=!0;const d=new Map;return gt.forEach(this.Ze(t),y=>this.tn(e,y).next(M=>{l&&(l=!!M),d.set(y,M)})).next(()=>{if(l){let y=ui();const M=[];return gt.forEach(d,(Z,ne)=>{var ye;an("IndexedDbIndexManager",`Using index ${ye=Z,`id=${ye.indexId}|cg=${ye.collectionGroup}|f=${ye.fields.map(zi=>`${zi.fieldPath}:${zi.kind}`).join(",")}`} to execute ${Tl(t)}`);const Ke=function(zi,Uo){const xi=hr(Uo);if(void 0===xi)return null;for(const ts of Eu(zi,xi.fieldPath))switch(ts.op){case"array-contains-any":return ts.value.arrayValue.values||[];case"array-contains":return[ts.value]}return null}(ne,Z),Ct=function(zi,Uo){const xi=new Map;for(const ts of rr(Uo))for(const Xo of Eu(zi,ts.fieldPath))switch(Xo.op){case"==":case"in":xi.set(ts.fieldPath.canonicalString(),Xo.value);break;case"not-in":case"!=":return xi.set(ts.fieldPath.canonicalString(),Xo.value),Array.from(xi.values())}return null}(ne,Z),sn=function(zi,Uo){const xi=[];let ts=!0;for(const Xo of rr(Uo)){const Ad=0===Xo.kind?wu(zi,Xo.fieldPath,zi.startAt):Bc(zi,Xo.fieldPath,zi.startAt);xi.push(Ad.value),ts&&(ts=Ad.inclusive)}return new cr(xi,ts)}(ne,Z),fn=function(zi,Uo){const xi=[];let ts=!0;for(const Xo of rr(Uo)){const Ad=0===Xo.kind?Bc(zi,Xo.fieldPath,zi.endAt):wu(zi,Xo.fieldPath,zi.endAt);xi.push(Ad.value),ts&&(ts=Ad.inclusive)}return new cr(xi,ts)}(ne,Z),er=this.en(Z,ne,sn),Cr=this.en(Z,ne,fn),xs=this.nn(Z,ne,Ct),ao=this.sn(Z.indexId,Ke,er,sn.inclusive,Cr,fn.inclusive,xs);return gt.forEach(ao,zi=>s.J(zi,t.limit).next(Uo=>{Uo.forEach(xi=>{const ts=Xt.fromSegments(xi.documentKey);y.has(ts)||(y=y.add(ts),M.push(ts))})}))}).next(()=>M)}return gt.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:rv(Ai.create(e.filters,"and")).map(s=>Od(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,s,l,d,y,M){const Z=(null!=t?t.length:1)*Math.max(s.length,d.length),ne=Z/(null!=t?t.length:1),ye=[];for(let Ke=0;Ke<Z;++Ke){const Ct=t?this.rn(t[Ke/ne]):Qd,sn=this.on(e,Ct,s[Ke%ne],l),fn=this.un(e,Ct,d[Ke%ne],y),er=M.map(Cr=>this.on(e,Ct,Cr,!0));ye.push(...this.createRange(sn,fn,er))}return ye}on(e,t,s,l){const d=new gl(e,Xt.empty(),t,s);return l?d:d.Ue()}un(e,t,s,l){const d=new gl(e,Xt.empty(),t,s);return l?d.Ue():d}tn(e,t){const s=new Bf(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(d=>{let y=null;for(const M of d)s.je(M)&&(!y||M.fields.length>y.fields.length)&&(y=M);return y})}getIndexType(e,t){let s=2;const l=this.Ze(t);return gt.forEach(l,d=>this.tn(e,d).next(y=>{y?0!==s&&y.fields.length<function(M){let Z=new Gi(gn.comparator),ne=!1;for(const ye of M.filters)for(const Ke of ye.getFlattenedFilters())Ke.field.isKeyField()||("array-contains"===Ke.op||"array-contains-any"===Ke.op?ne=!0:Z=Z.add(Ke.field));for(const ye of M.orderBy)ye.field.isKeyField()||(Z=Z.add(ye.field));return Z.size+(ne?1:0)}(d)&&(s=1):s=0})).next(()=>null!==t.limit&&l.length>1&&2===s?1:s)}cn(e,t){const s=new Au;for(const l of rr(e)){const d=t.data.field(l.fieldPath);if(null==d)return null;const y=s.qe(l.kind);Xl.Ie.ue(d,y)}return s.Fe()}rn(e){const t=new Au;return Xl.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const s=new Au;return Xl.Ie.ue(Wa(this.databaseId,t),s.qe(function(l){const d=rr(l);return 0===d.length?0:d[d.length-1].kind}(e))),s.Fe()}nn(e,t,s){if(null===s)return[];let l=[];l.push(new Au);let d=0;for(const y of rr(e)){const M=s[d++];for(const Z of l)if(this.hn(t,y.fieldPath)&&qa(M))l=this.ln(l,y,M);else{const ne=Z.qe(y.kind);Xl.Ie.ue(M,ne)}}return this.fn(l)}en(e,t,s){return this.nn(e,t,s.position)}fn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Fe();return t}ln(e,t,s){const l=[...e],d=[];for(const y of s.arrayValue.values||[])for(const M of l){const Z=new Au;Z.seed(M.Fe()),Xl.Ie.ue(y,Z.qe(t.kind)),d.push(Z)}return d}hn(e,t){return!!e.filters.find(s=>s instanceof Ir&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=tu(e),l=Jc(e);return(t?s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.W()).next(d=>{const y=[];return gt.forEach(d,M=>l.get([M.indexId,this.uid]).next(Z=>{y.push(function(ne,ye){const Ke=ye?new vs(ye.sequenceNumber,new Ms(Ya(ye.readTime),new Xt(Va(ye.documentKey)),ye.largestBatchId)):vs.empty(),Ct=ne.fields.map(([sn,fn])=>new gr(gn.fromServerFormat(sn),fn));return new kr(ne.indexId,ne.collectionGroup,Ct,Ke)}(M,Z))})).next(()=>y)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,l)=>{const d=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==d?d:R(s.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const l=tu(e),d=Jc(e);return this.dn(e).next(y=>l.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(M=>gt.forEach(M,Z=>d.put(Ff(Z.indexId,this.user,y,s)))))}updateIndexEntries(e,t){const s=new Map;return gt.forEach(t,(l,d)=>{const y=s.get(l.collectionGroup);return(y?gt.resolve(y):this.getFieldIndexes(e,l.collectionGroup)).next(M=>(s.set(l.collectionGroup,M),gt.forEach(M,Z=>this._n(e,l,Z).next(ne=>{const ye=this.wn(d,Z);return ne.isEqual(ye)?gt.resolve():this.mn(e,d,Z,ne,ye)}))))})}gn(e,t,s,l){return Qc(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.an(s,t.key),documentKey:t.key.path.toArray()})}yn(e,t,s,l){return Qc(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.an(s,t.key),t.key.path.toArray()])}_n(e,t,s){const l=Qc(e);let d=new Gi(xa);return l.Z({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.an(s,t)])},(y,M)=>{d=d.add(new gl(s.indexId,t,M.arrayValue,M.directionalValue))}).next(()=>d)}wn(e,t){let s=new Gi(xa);const l=this.cn(t,e);if(null==l)return s;const d=hr(t);if(null!=d){const y=e.data.field(d.fieldPath);if(qa(y))for(const M of y.arrayValue.values||[])s=s.add(new gl(t.indexId,e.key,this.rn(M),l))}else s=s.add(new gl(t.indexId,e.key,Qd,l));return s}mn(e,t,s,l,d){an("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const y=[];return function(M,Z,ne,ye,Ke){const Ct=M.getIterator(),sn=Z.getIterator();let fn=_u(Ct),er=_u(sn);for(;fn||er;){let Cr=!1,xs=!1;if(fn&&er){const ao=ne(fn,er);ao<0?xs=!0:ao>0&&(Cr=!0)}else null!=fn?xs=!0:Cr=!0;Cr?(ye(er),er=_u(sn)):xs?(Ke(fn),fn=_u(Ct)):(fn=_u(Ct),er=_u(sn))}}(l,d,xa,M=>{y.push(this.gn(e,t,s,M))},M=>{y.push(this.yn(e,t,s,M))}),gt.waitFor(y)}dn(e){let t=1;return Jc(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,d)=>{d.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((y,M)=>xa(y,M)).filter((y,M,Z)=>!M||0!==xa(y,Z[M-1]));const l=[];l.push(e);for(const y of s){const M=xa(y,e),Z=xa(y,t);if(0===M)l[0]=e.Ue();else if(M>0&&Z<0)l.push(y),l.push(y.Ue());else if(Z>0)break}l.push(t);const d=[];for(let y=0;y<l.length;y+=2){if(this.pn(l[y],l[y+1]))return[];d.push(IDBKeyRange.bound([l[y].indexId,this.uid,l[y].arrayValue,l[y].directionalValue,Qd,[]],[l[y+1].indexId,this.uid,l[y+1].arrayValue,l[y+1].directionalValue,Qd,[]]))}return d}pn(e,t){return xa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Mu)}getMinOffset(e,t){return gt.mapArray(this.Ze(t),s=>this.tn(e,s).next(l=>l||Rn())).next(Mu)}}function sv(i){return ua(i,"collectionParents")}function Qc(i){return ua(i,"indexEntries")}function tu(i){return ua(i,"indexConfiguration")}function Jc(i){return ua(i,"indexState")}function Mu(i){Vn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const l=i[s].indexState.offset;Bs(l,e)<0&&(e=l),t<l.largestBatchId&&(t=l.largestBatchId)}return new Ms(e.readTime,e.documentKey,t)}const uc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pa{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Pa(e,Pa.DEFAULT_COLLECTION_PERCENTILE,Pa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ov(i,e,t){const s=i.store("mutations"),l=i.store("documentMutations"),d=[],y=IDBKeyRange.only(t.batchId);let M=0;const Z=s.Z({range:y},(ye,Ke,Ct)=>(M++,Ct.delete()));d.push(Z.next(()=>{Vn(1===M)}));const ne=[];for(const ye of t.mutations){const Ke=Sf(e,ye.key.path,t.batchId);d.push(l.delete(Ke)),ne.push(ye.key)}return gt.waitFor(d).next(()=>ne)}function Xc(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Rn();e=i.noDocument}return JSON.stringify(e).length}Pa.DEFAULT_COLLECTION_PERCENTILE=10,Pa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pa.DEFAULT=new Pa(41943040,Pa.DEFAULT_COLLECTION_PERCENTILE,Pa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pa.DISABLED=new Pa(-1,0,0);class Jd{constructor(e,t,s,l){this.userId=e,this.yt=t,this.indexManager=s,this.referenceDelegate=l,this.In={}}static re(e,t,s,l){Vn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Jd(d,t,s,l)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nu(e).Z({index:"userMutationsIndex",range:s},(l,d,y)=>{t=!1,y.done()}).next(()=>t)}addMutationBatch(e,t,s,l){const d=xu(e),y=nu(e);return y.add({}).next(M=>{Vn("number"==typeof M);const Z=new Yc(M,t,s,l),ne=function(Ct,sn,fn){const er=fn.baseMutations.map(xs=>nc(Ct.ie,xs)),Cr=fn.mutations.map(xs=>nc(Ct.ie,xs));return{userId:sn,batchId:fn.batchId,localWriteTimeMs:fn.localWriteTime.toMillis(),baseMutations:er,mutations:Cr}}(this.yt,this.userId,Z),ye=[];let Ke=new Gi((Ct,sn)=>R(Ct.canonicalString(),sn.canonicalString()));for(const Ct of l){const sn=Sf(this.userId,Ct.key.path,M);Ke=Ke.add(Ct.key.path.popLast()),ye.push(y.put(ne)),ye.push(d.put(sn,Mg))}return Ke.forEach(Ct=>{ye.push(this.indexManager.addToCollectionParentIndex(e,Ct))}),e.addOnCommittedListener(()=>{this.In[M]=Z.keys()}),gt.waitFor(ye).next(()=>Z)})}lookupMutationBatch(e,t){return nu(e).get(t).next(s=>s?(Vn(s.userId===this.userId),Pl(this.yt,s)):null)}Tn(e,t){return this.In[t]?gt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const l=s.keys();return this.In[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,l=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return nu(e).Z({index:"userMutationsIndex",range:l},(y,M,Z)=>{M.userId===this.userId&&(Vn(M.batchId>=s),d=Pl(this.yt,M)),Z.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return nu(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(l,d,y)=>{s=d.batchId,y.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nu(e).W("userMutationsIndex",t).next(s=>s.map(l=>Pl(this.yt,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Ql(this.userId,t.path),l=IDBKeyRange.lowerBound(s),d=[];return xu(e).Z({range:l},(y,M,Z)=>{const[ne,ye,Ke]=y,Ct=Va(ye);if(ne===this.userId&&t.path.isEqual(Ct))return nu(e).get(Ke).next(sn=>{if(!sn)throw Rn();Vn(sn.userId===this.userId),d.push(Pl(this.yt,sn))});Z.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Gi(R);const l=[];return t.forEach(d=>{const y=Ql(this.userId,d.path),M=IDBKeyRange.lowerBound(y),Z=xu(e).Z({range:M},(ne,ye,Ke)=>{const[Ct,sn,fn]=ne,er=Va(sn);Ct===this.userId&&d.path.isEqual(er)?s=s.add(fn):Ke.done()});l.push(Z)}),gt.waitFor(l).next(()=>this.En(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1,d=Ql(this.userId,s),y=IDBKeyRange.lowerBound(d);let M=new Gi(R);return xu(e).Z({range:y},(Z,ne,ye)=>{const[Ke,Ct,sn]=Z,fn=Va(Ct);Ke===this.userId&&s.isPrefixOf(fn)?fn.length===l&&(M=M.add(sn)):ye.done()}).next(()=>this.En(e,M))}En(e,t){const s=[],l=[];return t.forEach(d=>{l.push(nu(e).get(d).next(y=>{if(null===y)throw Rn();Vn(y.userId===this.userId),s.push(Pl(this.yt,y))}))}),gt.waitFor(l).next(()=>s)}removeMutationBatch(e,t){return ov(e.se,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),gt.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return gt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return xu(e).Z({range:s},(d,y,M)=>{if(d[0]===this.userId){const Z=Va(d[1]);l.push(Z)}else M.done()}).next(()=>{Vn(0===l.length)})})}containsKey(e,t){return $g(e,this.userId,t)}Rn(e){return Hf(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $g(i,e,t){const s=Ql(e,t.path),l=s[1],d=IDBKeyRange.lowerBound(s);let y=!1;return xu(i).Z({range:d,X:!0},(M,Z,ne)=>{const[ye,Ke,Ct]=M;ye===e&&Ke===l&&(y=!0),ne.done()}).next(()=>y)}function nu(i){return ua(i,"mutations")}function xu(i){return ua(i,"documentMutations")}function Hf(i){return ua(i,"mutationQueues")}class kl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new kl(0)}static vn(){return new kl(-1)}}class Gf{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const s=new kl(t.highestTargetId);return t.highestTargetId=s.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Se.fromTimestamp(new Be(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Vn(e).next(l=>(l.highestListenSequenceNumber=t,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.Sn(e,l)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(s=>(s.targetCount+=1,this.Cn(t,s),this.Sn(e,s))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>cc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(s=>(Vn(s.targetCount>0),s.targetCount-=1,this.Sn(e,s)))}removeTargets(e,t,s){let l=0;const d=[];return cc(e).Z((y,M)=>{const Z=sc(M);Z.sequenceNumber<=t&&null===s.get(Z.targetId)&&(l++,d.push(this.removeTargetData(e,Z)))}).next(()=>gt.waitFor(d)).next(()=>l)}forEachTarget(e,t){return cc(e).Z((s,l)=>{const d=sc(l);t(d)})}Vn(e){return Xd(e).get("targetGlobalKey").next(t=>(Vn(null!==t),t))}Sn(e,t){return Xd(e).put("targetGlobalKey",t)}Dn(e,t){return cc(e).put(Rf(this.yt,t))}Cn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Tl(t),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return cc(e).Z({range:l,index:"queryTargetsIndex"},(y,M,Z)=>{const ne=sc(M);jl(t,ne.target)&&(d=ne,Z.done())}).next(()=>d)}addMatchingKeys(e,t,s){const l=[],d=Ua(e);return t.forEach(y=>{const M=Ca(y.path);l.push(d.put({targetId:s,path:M})),l.push(this.referenceDelegate.addReference(e,s,y))}),gt.waitFor(l)}removeMatchingKeys(e,t,s){const l=Ua(e);return gt.forEach(t,d=>{const y=Ca(d.path);return gt.waitFor([l.delete([s,y]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,t){const s=Ua(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),l=Ua(e);let d=ui();return l.Z({range:s,X:!0},(y,M,Z)=>{const ne=Va(y[1]),ye=new Xt(ne);d=d.add(ye)}).next(()=>d)}containsKey(e,t){const s=Ca(t.path),l=IDBKeyRange.bound([s],[me(s)],!1,!0);let d=0;return Ua(e).Z({index:"documentTargetsIndex",X:!0,range:l},([y,M],Z,ne)=>{0!==y&&(d++,ne.done())}).next(()=>d>0)}ne(e,t){return cc(e).get(t).next(s=>s?sc(s):null)}}function cc(i){return ua(i,"targets")}function Xd(i){return ua(i,"targetGlobal")}function Ua(i){return ua(i,"targetDocuments")}function Hg([i,e],[t,s]){const l=R(i,t);return 0===l?R(e,s):l}class av{constructor(e){this.xn=e,this.buffer=new Gi(Hg),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Hg(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lv{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;an("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Oe.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){Gn(s)?an("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Fo(s)}yield t.Fn(3e5)}))}}class uv{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return gt.resolve(ai.at);const s=new av(t);return this.$n.forEachTarget(e,l=>s.On(l.sequenceNumber)).next(()=>this.$n.Ln(e,l=>s.On(l))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.$n.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(an("LruGarbageCollector","Garbage collection skipped; disabled"),gt.resolve(uc)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(an("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uc):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let s,l,d,y,M,Z,ne;const ye=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ke=>(Ke>this.params.maximumSequenceNumbersToCollect?(an("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ke}`),l=this.params.maximumSequenceNumbersToCollect):l=Ke,y=Date.now(),this.nthSequenceNumber(e,l))).next(Ke=>(s=Ke,M=Date.now(),this.removeTargets(e,s,t))).next(Ke=>(d=Ke,Z=Date.now(),this.removeOrphanedDocuments(e,s))).next(Ke=>(ne=Date.now(),go()<=Wt.in.DEBUG&&an("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-ye}ms\n\tDetermined least recently used ${l} in `+(M-y)+`ms\n\tRemoved ${d} targets in `+(Z-M)+`ms\n\tRemoved ${Ke} documents in `+(ne-Z)+`ms\nTotal Duration: ${ne-ye}ms`),gt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:Ke})))}}class cv{constructor(e,t){this.db=e,this.garbageCollector=new uv(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(l=>s+l))}Un(e){let t=0;return this.Ln(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(s,l)=>t(l))}addReference(e,t,s){return eh(e,s)}removeReference(e,t,s){return eh(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return eh(e,t)}Gn(e,t){return function(s,l){let d=!1;return Hf(s).tt(y=>$g(s,y,l).next(M=>(M&&(d=!0),gt.resolve(!M)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let d=0;return this.Kn(e,(y,M)=>{if(M<=t){const Z=this.Gn(e,y).next(ne=>{if(!ne)return d++,s.getEntry(e,y).next(()=>(s.removeEntry(y,Se.min()),Ua(e).delete([0,Ca(y.path)])))});l.push(Z)}}).next(()=>gt.waitFor(l)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return eh(e,t)}Kn(e,t){const s=Ua(e);let l,d=ai.at;return s.Z({index:"documentTargetsIndex"},([y,M],{path:Z,sequenceNumber:ne})=>{0===y?(d!==ai.at&&t(new Xt(Va(l)),d),d=ne,l=Z):d=ai.at}).next(()=>{d!==ai.at&&t(new Xt(Va(l)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function eh(i,e){return Ua(i).put((s=i.currentSequenceNumber,{targetId:0,path:Ca(e.path),sequenceNumber:s}));var s}class Gg{constructor(){this.changes=new zl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$s.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?gt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dc{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return hc(e).put(s)}removeEntry(e,t,s){return hc(e).delete(function(l,d){const y=l.path.toArray();return[y.slice(0,y.length-2),y[y.length-2],kf(d),y[y.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Qn(e,s)))}getEntry(e,t){let s=$s.newInvalidDocument(t);return hc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(th(t))},(l,d)=>{s=this.jn(t,d)}).next(()=>s)}Wn(e,t){let s={size:0,document:$s.newInvalidDocument(t)};return hc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(th(t))},(l,d)=>{s={document:this.jn(t,d),size:Xc(d)}}).next(()=>s)}getEntries(e,t){let s=Ia();return this.zn(e,t,(l,d)=>{const y=this.jn(l,d);s=s.insert(l,y)}).next(()=>s)}Hn(e,t){let s=Ia(),l=new So(Xt.comparator);return this.zn(e,t,(d,y)=>{const M=this.jn(d,y);s=s.insert(d,M),l=l.insert(d,Xc(y))}).next(()=>({documents:s,Jn:l}))}zn(e,t,s){if(t.isEmpty())return gt.resolve();let l=new Gi(hv);t.forEach(Z=>l=l.add(Z));const d=IDBKeyRange.bound(th(l.first()),th(l.last())),y=l.getIterator();let M=y.getNext();return hc(e).Z({index:"documentKeyIndex",range:d},(Z,ne,ye)=>{const Ke=Xt.fromSegments([...ne.prefixPath,ne.collectionGroup,ne.documentId]);for(;M&&hv(M,Ke)<0;)s(M,null),M=y.getNext();M&&M.isEqual(Ke)&&(s(M,ne),M=y.hasNext()?y.getNext():null),M?ye.j(th(M)):ye.done()}).next(()=>{for(;M;)s(M,null),M=y.hasNext()?y.getNext():null})}getDocumentsMatchingQuery(e,t,s,l){const d=t.path,y=[d.popLast().toArray(),d.lastSegment(),kf(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],M=[d.popLast().toArray(),d.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return hc(e).W(IDBKeyRange.bound(y,M,!0)).next(Z=>{let ne=Ia();for(const ye of Z){const Ke=this.jn(Xt.fromSegments(ye.prefixPath.concat(ye.collectionGroup,ye.documentId)),ye);Ke.isFoundDocument()&&(S(t,Ke)||l.has(Ke.key))&&(ne=ne.insert(Ke.key,Ke))}return ne})}getAllFromCollectionGroup(e,t,s,l){let d=Ia();const y=zf(t,s),M=zf(t,Ms.max());return hc(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,M,!0)},(Z,ne,ye)=>{const Ke=this.jn(Xt.fromSegments(ne.prefixPath.concat(ne.collectionGroup,ne.documentId)),ne);d=d.insert(Ke.key,Ke),d.size===l&&ye.done()}).next(()=>d)}newChangeBuffer(e){return new dv(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return zg(e).get("remoteDocumentGlobalKey").next(t=>(Vn(!!t),t))}Qn(e,t){return zg(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const s=function ev(i,e){let t;if(e.document)t=Cf(i.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Xt.fromSegments(e.noDocument.path),l=Ya(e.noDocument.readTime);t=$s.newNoDocument(s,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Rn();{const s=Xt.fromSegments(e.unknownDocument.path),l=Ya(e.unknownDocument.version);t=$s.newUnknownDocument(s,l)}}return e.readTime&&t.setReadTime(function(s){const l=new Be(s[0],s[1]);return Se.fromTimestamp(l)}(e.readTime)),t}(this.yt,t);if(!s.isNoDocument()||!s.version.isEqual(Se.min()))return s}return $s.newInvalidDocument(e)}}function ml(i){return new dc(i)}class dv extends Gg{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new zl(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const t=[];let s=0,l=new Gi((d,y)=>R(d.canonicalString(),y.canonicalString()));return this.changes.forEach((d,y)=>{const M=this.Xn.get(d);if(t.push(this.Yn.removeEntry(e,d,M.readTime)),y.isValidDocument()){const Z=Og(this.Yn.yt,y);l=l.add(d.path.popLast()),s+=Xc(Z)-M.size,t.push(this.Yn.addEntry(e,d,Z))}else if(s-=M.size,this.trackRemovals){const Z=Og(this.Yn.yt,y.convertToNoDocument(Se.min()));t.push(this.Yn.addEntry(e,d,Z))}}),l.forEach(d=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.Yn.updateMetadata(e,s)),gt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(s=>(this.Xn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:s,Jn:l})=>(l.forEach((d,y)=>{this.Xn.set(d,{size:y,readTime:s.get(d).readTime})}),s))}}function zg(i){return ua(i,"remoteDocumentGlobal")}function hc(i){return ua(i,"remoteDocumentsV14")}function th(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function zf(i,e){const t=e.documentKey.path.toArray();return[i,kf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function hv(i,e){const t=i.path.toArray(),s=e.path.toArray();let l=0;for(let d=0;d<t.length-2&&d<s.length-2;++d)if(l=R(t[d],s[d]),l)return l;return l=R(t.length,s.length),l||(l=R(t[t.length-2],s[s.length-2]),l||R(t[t.length-1],s[s.length-1]))}class Wg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class fv{constructor(e,t,s,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==s&&Du(s.mutation,l,sa.empty(),Be.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ui()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ui()){const l=hl();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,s).next(d=>{let y=Qu();return d.forEach((M,Z)=>{y=y.insert(M,Z.overlayedDocument)}),y}))}getOverlayedDocuments(e,t){const s=hl();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ui()))}populateOverlays(e,t,s){const l=[];return s.forEach(d=>{t.has(d)||l.push(d)}),this.documentOverlayCache.getOverlays(e,l).next(d=>{d.forEach((y,M)=>{t.set(y,M)})})}computeViews(e,t,s,l){let d=Ia();const y=ql(),M=ql();return t.forEach((Z,ne)=>{const ye=s.get(ne.key);l.has(ne.key)&&(void 0===ye||ye.mutation instanceof xl)?d=d.insert(ne.key,ne):void 0!==ye?(y.set(ne.key,ye.mutation.getFieldMask()),Du(ye.mutation,ne,ye.mutation.getFieldMask(),Be.now())):y.set(ne.key,sa.empty())}),this.recalculateAndSaveOverlays(e,d).next(Z=>(Z.forEach((ne,ye)=>y.set(ne,ye)),t.forEach((ne,ye)=>{var Ke;return M.set(ne,new Wg(ye,null!==(Ke=y.get(ne))&&void 0!==Ke?Ke:null))}),M))}recalculateAndSaveOverlays(e,t){const s=ql();let l=new So((y,M)=>y-M),d=ui();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(y=>{for(const M of y)M.keys().forEach(Z=>{const ne=t.get(Z);if(null===ne)return;let ye=s.get(Z)||sa.empty();ye=M.applyToLocalView(ne,ye),s.set(Z,ye);const Ke=(l.get(M.batchId)||ui()).add(Z);l=l.insert(M.batchId,Ke)})}).next(()=>{const y=[],M=l.getReverseIterator();for(;M.hasNext();){const Z=M.getNext(),ne=Z.key,ye=Z.value,Ke=jy();ye.forEach(Ct=>{if(!d.has(Ct)){const sn=Hc(t.get(Ct),s.get(Ct));null!==sn&&Ke.set(Ct,sn),d=d.add(Ct)}}),y.push(this.documentOverlayCache.saveOverlays(e,ne,Ke))}return gt.waitFor(y)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Xt.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):jc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var l}getNextDocuments(e,t,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,l).next(d=>{const y=l-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,l-d.size):gt.resolve(hl());let M=-1,Z=d;return y.next(ne=>gt.forEach(ne,(ye,Ke)=>(M<Ke.largestBatchId&&(M=Ke.largestBatchId),d.get(ye)?gt.resolve():this.remoteDocumentCache.getEntry(e,ye).next(Ct=>{Z=Z.insert(ye,Ct)}))).next(()=>this.populateOverlays(e,ne,d)).next(()=>this.computeViews(e,Z,ne,ui())).next(ye=>({batchId:M,changes:_f(ye)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Xt(t)).next(s=>{let l=Qu();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const l=t.collectionGroup;let d=Qu();return this.indexManager.getCollectionParents(e,l).next(y=>gt.forEach(y,M=>{const Z=(ne=t,ye=M.child(l),new Zo(ye,null,ne.explicitOrderBy.slice(),ne.filters.slice(),ne.limit,ne.limitType,ne.startAt,ne.endAt));var ne,ye;return this.getDocumentsMatchingCollectionQuery(e,Z,s).next(ne=>{ne.forEach((ye,Ke)=>{d=d.insert(ye,Ke)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l))).next(d=>{l.forEach((M,Z)=>{const ne=Z.getKey();null===d.get(ne)&&(d=d.insert(ne,$s.newInvalidDocument(ne)))});let y=Qu();return d.forEach((M,Z)=>{const ne=l.get(M);void 0!==ne&&Du(ne.mutation,Z,sa.empty(),Be.now()),S(t,Z)&&(y=y.insert(M,Z))}),y})}}class qg{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return gt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:Hs(s.createTime)}),gt.resolve()}getNamedQuery(e,t){return gt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(s=t).name,query:qd(s.bundledQuery),readTime:Hs(s.readTime)}),gt.resolve();var s}}class pv{constructor(){this.overlays=new So(Xt.comparator),this.es=new Map}getOverlay(e,t){return gt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=hl();return gt.forEach(t,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((l,d)=>{this.oe(e,t,d)}),gt.resolve()}removeOverlaysForBatchId(e,t,s){const l=this.es.get(s);return void 0!==l&&(l.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(s)),gt.resolve()}getOverlaysForCollection(e,t,s){const l=hl(),d=t.length+1,y=new Xt(t.child("")),M=this.overlays.getIteratorFrom(y);for(;M.hasNext();){const Z=M.getNext().value,ne=Z.getKey();if(!t.isPrefixOf(ne.path))break;ne.path.length===d&&Z.largestBatchId>s&&l.set(Z.getKey(),Z)}return gt.resolve(l)}getOverlaysForCollectionGroup(e,t,s,l){let d=new So((ne,ye)=>ne-ye);const y=this.overlays.getIterator();for(;y.hasNext();){const ne=y.getNext().value;if(ne.getKey().getCollectionGroup()===t&&ne.largestBatchId>s){let ye=d.get(ne.largestBatchId);null===ye&&(ye=hl(),d=d.insert(ne.largestBatchId,ye)),ye.set(ne.getKey(),ne)}}const M=hl(),Z=d.getIterator();for(;Z.hasNext()&&(Z.getNext().value.forEach((ne,ye)=>M.set(ne,ye)),!(M.size()>=l)););return gt.resolve(M)}oe(e,t,s){const l=this.overlays.get(s.key);if(null!==l){const y=this.es.get(l.largestBatchId).delete(s.key);this.es.set(l.largestBatchId,y)}this.overlays=this.overlays.insert(s.key,new Pf(t,s));let d=this.es.get(t);void 0===d&&(d=ui(),this.es.set(t,d)),this.es.set(t,d.add(s.key))}}class nh{constructor(){this.ns=new Gi(ca.ss),this.rs=new Gi(ca.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const s=new ca(e,t);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.cs(new ca(e,t))}hs(e,t){e.forEach(s=>this.removeReference(s,t))}ls(e){const t=new Xt(new wt([])),s=new ca(t,e),l=new ca(t,e+1),d=[];return this.rs.forEachInRange([s,l],y=>{this.cs(y),d.push(y.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Xt(new wt([])),s=new ca(t,e),l=new ca(t,e+1);let d=ui();return this.rs.forEachInRange([s,l],y=>{d=d.add(y.key)}),d}containsKey(e){const t=new ca(e,0),s=this.ns.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class ca{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Xt.comparator(e.key,t.key)||R(e._s,t._s)}static os(e,t){return R(e._s,t._s)||Xt.comparator(e.key,t.key)}}class gv{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Gi(ca.ss)}checkEmpty(e){return gt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,l){const d=this.ws;this.ws++;const y=new Yc(d,t,s,l);this.mutationQueue.push(y);for(const M of l)this.gs=this.gs.add(new ca(M.key,d)),this.indexManager.addToCollectionParentIndex(e,M.key.path.popLast());return gt.resolve(y)}lookupMutationBatch(e,t){return gt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.ps(t+1),d=l<0?0:l;return gt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return gt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return gt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new ca(t,0),l=new ca(t,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([s,l],y=>{const M=this.ys(y._s);d.push(M)}),gt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Gi(R);return t.forEach(l=>{const d=new ca(l,0),y=new ca(l,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,y],M=>{s=s.add(M._s)})}),gt.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1;let d=s;Xt.isDocumentKey(d)||(d=d.child(""));const y=new ca(new Xt(d),0);let M=new Gi(R);return this.gs.forEachWhile(Z=>{const ne=Z.key.path;return!!s.isPrefixOf(ne)&&(ne.length===l&&(M=M.add(Z._s)),!0)},y),gt.resolve(this.Is(M))}Is(e){const t=[];return e.forEach(s=>{const l=this.ys(s);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){Vn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let s=this.gs;return gt.forEach(t.mutations,l=>{const d=new ca(l.key,t.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,t){const s=new ca(t,0),l=this.gs.firstAfterOrEqual(s);return gt.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return gt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Qa{constructor(e){this.Es=e,this.docs=new So(Xt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,l=this.docs.get(s),d=l?l.size:0,y=this.Es(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:y}),this.size+=y-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return gt.resolve(s?s.document.mutableCopy():$s.newInvalidDocument(t))}getEntries(e,t){let s=Ia();return t.forEach(l=>{const d=this.docs.get(l);s=s.insert(l,d?d.document.mutableCopy():$s.newInvalidDocument(l))}),gt.resolve(s)}getDocumentsMatchingQuery(e,t,s,l){let d=Ia();const y=t.path,M=new Xt(y.child("")),Z=this.docs.getIteratorFrom(M);for(;Z.hasNext();){const{key:ne,value:{document:ye}}=Z.getNext();if(!y.isPrefixOf(ne.path))break;ne.path.length>y.length+1||Bs(Ea(ye),s)<=0||(l.has(ye.key)||S(t,ye))&&(d=d.insert(ye.key,ye.mutableCopy()))}return gt.resolve(d)}getAllFromCollectionGroup(e,t,s,l){Rn()}As(e,t){return gt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new mv(this)}getSize(e){return gt.resolve(this.size)}}class mv extends Gg{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?t.push(this.Yn.addEntry(e,l)):this.Yn.removeEntry(s)}),gt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Kg{constructor(e){this.persistence=e,this.Rs=new zl(t=>Tl(t),jl),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.bs=0,this.Ps=new nh,this.targetCount=0,this.vs=kl.Pn()}forEachTarget(e,t){return this.Rs.forEach((s,l)=>t(l)),gt.resolve()}getLastRemoteSnapshotVersion(e){return gt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return gt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),gt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.bs&&(this.bs=t),gt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new kl(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,gt.resolve()}updateTargetData(e,t){return this.Dn(t),gt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,gt.resolve()}removeTargets(e,t,s){let l=0;const d=[];return this.Rs.forEach((y,M)=>{M.sequenceNumber<=t&&null===s.get(M.targetId)&&(this.Rs.delete(y),d.push(this.removeMatchingKeysForTargetId(e,M.targetId)),l++)}),gt.waitFor(d).next(()=>l)}getTargetCount(e){return gt.resolve(this.targetCount)}getTargetData(e,t){const s=this.Rs.get(t)||null;return gt.resolve(s)}addMatchingKeys(e,t,s){return this.Ps.us(t,s),gt.resolve()}removeMatchingKeys(e,t,s){this.Ps.hs(t,s);const l=this.persistence.referenceDelegate,d=[];return l&&t.forEach(y=>{d.push(l.markPotentiallyOrphaned(e,y))}),gt.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),gt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ps.ds(t);return gt.resolve(s)}containsKey(e,t){return gt.resolve(this.Ps.containsKey(t))}}class Zg{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ai(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Kg(this),this.indexManager=new iv,this.remoteDocumentCache=new Qa(s=>this.referenceDelegate.xs(s)),this.yt=new Ng(t),this.Ns=new qg(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Vs[e.toKey()];return s||(s=new gv(t,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,s){an("MemoryPersistence","Starting transaction:",e);const l=new yv(this.Ss.next());return this.referenceDelegate.ks(),s(l).next(d=>this.referenceDelegate.Os(l).next(()=>d)).toPromise().then(d=>(l.raiseOnCommittedEvent(),d))}Ms(e,t){return gt.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,t)))}}class yv extends yo{constructor(e){super(),this.currentSequenceNumber=e}}class rh{constructor(e){this.persistence=e,this.Fs=new nh,this.$s=null}static Bs(e){return new rh(e)}get Ls(){if(this.$s)return this.$s;throw Rn()}addReference(e,t,s){return this.Fs.addReference(s,t),this.Ls.delete(s.toString()),gt.resolve()}removeReference(e,t,s){return this.Fs.removeReference(s,t),this.Ls.add(s.toString()),gt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),gt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(l=>this.Ls.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(d=>this.Ls.add(d.toString()))}).next(()=>s.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gt.forEach(this.Ls,s=>{const l=Xt.fromPath(s);return this.qs(e,l).next(d=>{d||t.removeEntry(l,Se.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(s=>{s?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return gt.or([()=>gt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class vv{constructor(e){this.yt=e}$(e,t,s,l){const d=new Io("createOrUpgrade",t);var M;s<1&&l>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pl,{unique:!0}),M.createObjectStore("documentMutations"),Wf(e),function(M){M.createObjectStore("remoteDocuments")}(e));let y=gt.resolve();return s<3&&l>=3&&(0!==s&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),Wf(e)),y=y.next(()=>function(M){const Z=M.store("targetGlobal"),ne={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Se.min().toTimestamp(),targetCount:0};return Z.put("targetGlobalKey",ne)}(d))),s<4&&l>=4&&(0!==s&&(y=y.next(()=>function(M,Z){return Z.store("mutations").W().next(ne=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pl,{unique:!0});const ye=Z.store("mutations"),Ke=ne.map(Ct=>ye.put(Ct));return gt.waitFor(Ke)})}(e,d))),y=y.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(y=y.next(()=>this.Us(d))),s<6&&l>=6&&(y=y.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(d)))),s<7&&l>=7&&(y=y.next(()=>this.Gs(d))),s<8&&l>=8&&(y=y.next(()=>this.Qs(e,d))),s<9&&l>=9&&(y=y.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(y=y.next(()=>this.js(d))),s<11&&l>=11&&(y=y.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(y=y.next(()=>{!function(M){const Z=M.createObjectStore("documentOverlays",{keyPath:Qy});Z.createIndex("collectionPathOverlayIndex",Jy,{unique:!1}),Z.createIndex("collectionGroupOverlayIndex",kg,{unique:!1})}(e)})),s<13&&l>=13&&(y=y.next(()=>function(M){const Z=M.createObjectStore("remoteDocumentsV14",{keyPath:xg});Z.createIndex("documentKeyIndex",m0),Z.createIndex("collectionGroupIndex",y0)}(e)).next(()=>this.Ws(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(y=y.next(()=>this.zs(e,d))),s<15&&l>=15&&(y=y.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:E0}).createIndex("sequenceNumberIndex",Pg,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:Zy}).createIndex("documentKeyIndex",Yy,{unique:!1})}(e))),y}Ks(e){let t=0;return e.store("remoteDocuments").Z((s,l)=>{t+=Xc(l)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Us(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.W().next(l=>gt.forEach(l,d=>{const y=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",y).next(M=>gt.forEach(M,Z=>{Vn(Z.userId===d.userId);const ne=Pl(this.yt,Z);return ov(e,d.userId,ne).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const d=[];return s.Z((y,M)=>{const Z=new wt(y),ne=[0,Ca(Z)];d.push(t.get(ne).next(ye=>ye?gt.resolve():t.put({targetId:0,path:Ca(Z),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>gt.waitFor(d))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:_0});const s=t.store("collectionParents"),l=new Yd,d=y=>{if(l.add(y)){const M=y.lastSegment(),Z=y.popLast();return s.put({collectionId:M,parent:Ca(Z)})}};return t.store("remoteDocuments").Z({X:!0},(y,M)=>{const Z=new wt(y);return d(Z.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([y,M,Z],ne)=>{const ye=Va(M);return d(ye.popLast())}))}js(e){const t=e.store("targets");return t.Z((s,l)=>{const d=sc(l),y=Rf(this.yt,d);return t.put(y)})}Ws(e,t){const s=t.store("remoteDocuments"),l=[];return s.Z((d,y)=>{const M=t.store("remoteDocumentsV14"),Z=(ne=y,ne.document?new Xt(wt.fromString(ne.document.name).popFirst(5)):ne.noDocument?Xt.fromSegments(ne.noDocument.path):ne.unknownDocument?Xt.fromSegments(ne.unknownDocument.path):Rn()).path.toArray();var ne;const ye={prefixPath:Z.slice(0,Z.length-2),collectionGroup:Z[Z.length-2],documentId:Z[Z.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};l.push(M.put(ye))}).next(()=>gt.waitFor(l))}zs(e,t){const s=t.store("mutations"),l=ml(this.yt),d=new Zg(rh.Bs,this.yt.ie);return s.W().next(y=>{const M=new Map;return y.forEach(Z=>{var ne;let ye=null!==(ne=M.get(Z.userId))&&void 0!==ne?ne:ui();Pl(this.yt,Z).keys().forEach(Ke=>ye=ye.add(Ke)),M.set(Z.userId,ye)}),gt.forEach(M,(Z,ne)=>{const ye=new xn(ne),Ke=oc.re(this.yt,ye),Ct=d.getIndexManager(ye),sn=Jd.re(ye,this.yt,Ct,d.referenceDelegate);return new fv(l,sn,Ke,Ct).recalculateAndSaveOverlaysForDocumentKeys(new xf(t,ai.at),Z).next()})})}}function Wf(i){i.createObjectStore("targetDocuments",{keyPath:Af}).createIndex("documentTargetsIndex",Mf,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",v0,{unique:!0}),i.createObjectStore("targetGlobal")}const qf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Kf{constructor(e,t,s,l,d,y,M,Z,ne,ye,Ke=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Hs=d,this.window=y,this.document=M,this.Js=ne,this.Ys=ye,this.Xs=Ke,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=Ct=>Promise.resolve(),!Kf.C())throw new Yt(At.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cv(this,l),this.ii=t+"main",this.yt=new Ng(Z),this.ri=new Co(this.ii,this.Xs,new vv(this.yt)),this.Cs=new Gf(this.referenceDelegate,this.yt),this.remoteDocumentCache=ml(this.yt),this.Ns=new Lf,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ye&&wr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Yt(At.FAILED_PRECONDITION,qf);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ai(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var s=(0,Oe.Z)(function*(l){if(t.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Oe.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Oe.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Yr(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Gn(e))return an("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return an("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return ed(e).get("owner").next(t=>gt.resolve(this.mi(t)))}gi(e){return Yr(e).delete(this.clientId)}yi(){var e=this;return(0,Oe.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=ua(s,"clientMetadata");return l.W().next(d=>{const y=e.Ii(d,18e5),M=d.filter(Z=>-1===y.indexOf(Z));return gt.forEach(M,Z=>l.delete(Z.clientId)).next(()=>M)})}).catch(()=>[]);if(e.oi)for(const s of t)e.oi.removeItem(e.Ti(s.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?gt.resolve(!0):ed(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Yt(At.FAILED_PRECONDITION,qf);return!1}}return!(!this.networkEnabled||!this.inForeground)||Yr(e).W().next(s=>void 0===this.Ii(s,5e3).find(l=>{if(this.clientId!==l.clientId){const y=!this.inForeground&&l.inForeground,M=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||y&&M)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&an("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Oe.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new xf(t,ai.at);return e._i(s).next(()=>e.gi(s))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(s=>this.pi(s.updateTimeMs,t)&&!this.Ei(s.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Yr(e).W().next(t=>this.Ii(t,18e5).map(s=>s.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Jd.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new jg(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return oc.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,s){an("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",d=15===(y=this.Xs)?Jo:14===y?Rg:13===y?zd:12===y?Xy:11===y?Zc:void Rn();var y;let M;return this.ri.runTransaction(e,l,d,Z=>(M=new xf(Z,this.Ss?this.Ss.next():ai.at),"readwrite-primary"===t?this.fi(M).next(ne=>!!ne||this.di(M)).next(ne=>{if(!ne)throw wr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Yt(At.FAILED_PRECONDITION,pa);return s(M)}).next(ne=>this.wi(M).next(()=>ne)):this.Vi(M).next(()=>s(M)))).then(Z=>(M.raiseOnCommittedEvent(),Z))}Vi(e){return ed(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Yt(At.FAILED_PRECONDITION,qf)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ed(e).put("owner",t)}static C(){return Co.C()}_i(e){const t=ed(e);return t.get("owner").next(s=>this.mi(s)?(an("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):gt.resolve())}pi(e,t){const s=Date.now();return!(e<s-t||e>s&&(wr(`Detected an update time that is in the future: ${e} > ${s}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,qe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const s=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return an("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return wr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){wr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ed(i){return ua(i,"owner")}function Yr(i){return ua(i,"clientMetadata")}function ih(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class sh{constructor(e,t,s,l){this.targetId=e,this.fromCache=t,this.Si=s,this.Di=l}static Ci(e,t){let s=ui(),l=ui();for(const d of t.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new sh(e,t.fromCache,s,l)}}class Zf{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,s,l){return this.ki(e,t).next(d=>d||this.Oi(e,t,l,s)).next(d=>d||this.Mi(e,t))}ki(e,t){if(Ld(t))return gt.resolve(null);let s=ya(t);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=qu(t,null,"F"),s=ya(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const y=ui(...d);return this.Ni.getDocuments(e,y).next(M=>this.indexManager.getMinOffset(e,s).next(Z=>{const ne=this.Fi(t,M);return this.$i(t,ne,y,Z.readTime)?this.ki(e,qu(t,null,"F")):this.Bi(e,ne,t,Z)}))})))}Oi(e,t,s,l){return Ld(t)||l.isEqual(Se.min())?this.Mi(e,t):this.Ni.getDocuments(e,s).next(d=>{const y=this.Fi(t,d);return this.$i(t,y,s,l)?this.Mi(e,t):(go()<=Wt.in.DEBUG&&an("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ku(t)),this.Bi(e,y,t,_s(l,-1)))})}Fi(e,t){let s=new Gi(m(e));return t.forEach((l,d)=>{S(e,d)&&(s=s.add(d))}),s}$i(e,t,s,l){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}Mi(e,t){return go()<=Wt.in.DEBUG&&an("QueryEngine","Using full collection scan to execute query:",Ku(t)),this.Ni.getDocumentsMatchingQuery(e,t,Ms.min())}Bi(e,t,s,l){return this.Ni.getDocumentsMatchingQuery(e,s,l).next(d=>(t.forEach(y=>{d=d.insert(y.key,y)}),d))}}class _v{constructor(e,t,s,l){this.persistence=e,this.Li=t,this.yt=l,this.qi=new So(R),this.Ui=new zl(d=>Tl(d),jl),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fv(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function Yg(i,e,t,s){return new _v(i,e,t,s)}function Yf(i,e){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,Oe.Z)(function*(i,e){const t=Cn(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let l;return t.mutationQueue.getAllMutationBatches(s).next(d=>(l=d,t.Qi(e),t.mutationQueue.getAllMutationBatches(s))).next(d=>{const y=[],M=[];let Z=ui();for(const ne of l){y.push(ne.batchId);for(const ye of ne.mutations)Z=Z.add(ye.key)}for(const ne of d){M.push(ne.batchId);for(const ye of ne.mutations)Z=Z.add(ye.key)}return t.localDocuments.getDocuments(s,Z).next(ne=>({ji:ne,removedBatchIds:y,addedBatchIds:M}))})})}),Qf.apply(this,arguments)}function Qg(i,e){const t=Cn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),d=t.Gi.newChangeBuffer({trackRemovals:!0});return function(y,M,Z,ne){const ye=Z.batch,Ke=ye.keys();let Ct=gt.resolve();return Ke.forEach(sn=>{Ct=Ct.next(()=>ne.getEntry(M,sn)).next(fn=>{const er=Z.docVersions.get(sn);Vn(null!==er),fn.version.compareTo(er)<0&&(ye.applyToRemoteDocument(fn,Z),fn.isValidDocument()&&(fn.setReadTime(Z.commitVersion),ne.addEntry(fn)))})}),Ct.next(()=>y.mutationQueue.removeMutationBatch(M,ye))}(t,s,e,d).next(()=>d.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(y){let M=ui();for(let Z=0;Z<y.mutationResults.length;++Z)y.mutationResults[Z].transformResults.length>0&&(M=M.add(y.batch.mutations[Z].key));return M}(e))).next(()=>t.localDocuments.getDocuments(s,l))})}function Jg(i){const e=Cn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Ev(i,e){const t=Cn(i),s=e.snapshotVersion;let l=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const y=t.Gi.newChangeBuffer({trackRemovals:!0});l=t.qi;const M=[];e.targetChanges.forEach((ye,Ke)=>{const Ct=l.get(Ke);if(!Ct)return;M.push(t.Cs.removeMatchingKeys(d,ye.removedDocuments,Ke).next(()=>t.Cs.addMatchingKeys(d,ye.addedDocuments,Ke)));let sn=Ct.withSequenceNumber(d.currentSequenceNumber);var fn,er,Cr;e.targetMismatches.has(Ke)?sn=sn.withResumeToken(j.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):ye.resumeToken.approximateByteSize()>0&&(sn=sn.withResumeToken(ye.resumeToken,s)),l=l.insert(Ke,sn),er=sn,Cr=ye,(0===(fn=Ct).resumeToken.approximateByteSize()||er.snapshotVersion.toMicroseconds()-fn.snapshotVersion.toMicroseconds()>=3e8||Cr.addedDocuments.size+Cr.modifiedDocuments.size+Cr.removedDocuments.size>0)&&M.push(t.Cs.updateTargetData(d,sn))});let Z=Ia(),ne=ui();if(e.documentUpdates.forEach(ye=>{e.resolvedLimboDocuments.has(ye)&&M.push(t.persistence.referenceDelegate.updateLimboDocument(d,ye))}),M.push(wv(d,y,e.documentUpdates).next(ye=>{Z=ye.Wi,ne=ye.zi})),!s.isEqual(Se.min())){const ye=t.Cs.getLastRemoteSnapshotVersion(d).next(Ke=>t.Cs.setTargetsMetadata(d,d.currentSequenceNumber,s));M.push(ye)}return gt.waitFor(M).next(()=>y.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,Z,ne)).next(()=>Z)}).then(d=>(t.qi=l,d))}function wv(i,e,t){let s=ui(),l=ui();return t.forEach(d=>s=s.add(d)),e.getEntries(i,s).next(d=>{let y=Ia();return t.forEach((M,Z)=>{const ne=d.get(M);Z.isFoundDocument()!==ne.isFoundDocument()&&(l=l.add(M)),Z.isNoDocument()&&Z.version.isEqual(Se.min())?(e.removeEntry(M,Z.readTime),y=y.insert(M,Z)):!ne.isValidDocument()||Z.version.compareTo(ne.version)>0||0===Z.version.compareTo(ne.version)&&ne.hasPendingWrites?(e.addEntry(Z),y=y.insert(M,Z)):an("LocalStore","Ignoring outdated watch update for ",M,". Current version:",ne.version," Watch version:",Z.version)}),{Wi:y,zi:l}})}function Xg(i,e){const t=Cn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Pu(i,e){const t=Cn(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return t.Cs.getTargetData(s,e).next(d=>d?(l=d,gt.resolve(l)):t.Cs.allocateTargetId(s).next(y=>(l=new Jl(e,y,0,s.currentSequenceNumber),t.Cs.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=t.qi.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.qi=t.qi.insert(s.targetId,s),t.Ui.set(e,s.targetId)),s})}function Ba(i,e,t){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,Oe.Z)(function*(i,e,t){const s=Cn(i),l=s.qi.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",d,y=>s.persistence.referenceDelegate.removeTarget(y,l)))}catch(y){if(!Gn(y))throw y;an("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}s.qi=s.qi.remove(e),s.Ui.delete(l.target)}),Jf.apply(this,arguments)}function fc(i,e,t){const s=Cn(i);let l=Se.min(),d=ui();return s.persistence.runTransaction("Execute query","readonly",y=>function(M,Z,ne){const ye=Cn(M),Ke=ye.Ui.get(ne);return void 0!==Ke?gt.resolve(ye.qi.get(Ke)):ye.Cs.getTargetData(Z,ne)}(s,y,ya(e)).next(M=>{if(M)return l=M.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(y,M.targetId).next(Z=>{d=Z})}).next(()=>s.Li.getDocumentsMatchingQuery(y,e,t?l:Se.min(),t?d:ui())).next(M=>(bv(s,g(e),M),{documents:M,Hi:d})))}function oh(i,e){const t=Cn(i),s=Cn(t.Cs),l=t.qi.get(e);return l?Promise.resolve(l.target):t.persistence.runTransaction("Get target data","readonly",d=>s.ne(d,e).next(y=>y?y.target:null))}function em(i,e){const t=Cn(i),s=t.Ki.get(e)||Se.min();return t.persistence.runTransaction("Get new document changes","readonly",l=>t.Gi.getAllFromCollectionGroup(l,e,_s(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(bv(t,e,l),l))}function bv(i,e,t){let s=i.Ki.get(e)||Se.min();t.forEach((l,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),i.Ki.set(e,s)}function tm(){return tm=(0,Oe.Z)(function*(i,e,t,s){const l=Cn(i);let d=ui(),y=Ia();for(const ne of t){const ye=e.Ji(ne.metadata.name);ne.document&&(d=d.add(ye));const Ke=e.Yi(ne);Ke.setReadTime(e.Xi(ne.metadata.readTime)),y=y.insert(ye,Ke)}const M=l.Gi.newChangeBuffer({trackRemovals:!0}),Z=yield Pu(l,(ne=s,ya(cl(wt.fromString(`__bundle__/docs/${ne}`)))));var ne;return l.persistence.runTransaction("Apply bundle documents","readwrite",ne=>wv(ne,M,y).next(ye=>(M.apply(ne),ye)).next(ye=>l.Cs.removeMatchingKeysForTargetId(ne,Z.targetId).next(()=>l.Cs.addMatchingKeys(ne,d,Z.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(ne,ye.Wi,ye.zi)).next(()=>ye.Wi)))}),tm.apply(this,arguments)}function Iv(i,e){return ah.apply(this,arguments)}function ah(){return ah=(0,Oe.Z)(function*(i,e,t=ui()){const s=yield Pu(i,ya(qd(e.bundledQuery))),l=Cn(i);return l.persistence.runTransaction("Save named query","readwrite",d=>{const y=Hs(e.readTime);if(s.snapshotVersion.compareTo(y)>=0)return l.Ns.saveNamedQuery(d,e);const M=s.withResumeToken(j.EMPTY_BYTE_STRING,y);return l.qi=l.qi.insert(M.targetId,M),l.Cs.updateTargetData(d,M).next(()=>l.Cs.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>l.Cs.addMatchingKeys(d,t,s.targetId)).next(()=>l.Ns.saveNamedQuery(d,e))})}),ah.apply(this,arguments)}function Cv(i,e){return`firestore_clients_${i}_${e}`}function nm(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function ru(i,e){return`firestore_targets_${i}_${e}`}class lh{constructor(e,t,s,l){this.user=e,this.batchId=t,this.state=s,this.error=l}static Zi(e,t,s){const l=JSON.parse(s);let d,y="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return y&&l.error&&(y="string"==typeof l.error.message&&"string"==typeof l.error.code,y&&(d=new Yt(l.error.code,l.error.message))),y?new lh(e,t,l.state,d):(wr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pc{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Zi(e,t){const s=JSON.parse(t);let l,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(l=new Yt(s.error.code,s.error.message))),d?new pc(e,s.state,l):(wr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ku{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const s=JSON.parse(t);let l="object"==typeof s&&s.activeTargetIds instanceof Array,d=Ju();for(let y=0;l&&y<s.activeTargetIds.length;++y)l=b(s.activeTargetIds[y]),d=d.add(s.activeTargetIds[y]);return l?new ku(e,d):(wr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Xf{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Xf(t.clientId,t.onlineState):(wr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class uh{constructor(){this.activeTargetIds=Ju()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ep{constructor(e,t,s,l,d){this.window=e,this.Hs=t,this.persistenceKey=s,this.sr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new So(R),this.started=!1,this.cr=[];const y=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ar=Cv(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new uh),this.lr=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.syncEngine.vi();for(const l of t){if(l===e.sr)continue;const d=e.getItem(Cv(e.persistenceKey,l));if(d){const y=ku.Zi(l,d);y&&(e.ur=e.ur.insert(y.clientId,y))}}e.gr();const s=e.storage.getItem(e.wr);if(s){const l=e.yr(s);l&&e.pr(l)}for(const l of e.cr)e.rr(l);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((s,l)=>{l.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,s){this.Tr(e,t,s),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(ru(this.persistenceKey,e));if(s){const l=pc.Zi(e,s);l&&(t=l.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ru(this.persistenceKey,e))}updateQueryState(e,t,s){this.Rr(e,t,s)}handleUserChange(e,t,s){t.forEach(l=>{this.Er(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return an("SharedClientState","READ",e,t),t}setItem(e,t){an("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){an("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(an("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ar)return void wr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Oe.Z)(function*(){if(t.started){if(null!==s.key)if(t.lr.test(s.key)){if(null==s.newValue){const l=t.vr(s.key);return t.Vr(l,null)}{const l=t.Sr(s.key,s.newValue);if(l)return t.Vr(l.clientId,l)}}else if(t.dr.test(s.key)){if(null!==s.newValue){const l=t.Dr(s.key,s.newValue);if(l)return t.Cr(l)}}else if(t._r.test(s.key)){if(null!==s.newValue){const l=t.Nr(s.key,s.newValue);if(l)return t.kr(l)}}else if(s.key===t.wr){if(null!==s.newValue){const l=t.yr(s.newValue);if(l)return t.pr(l)}}else if(s.key===t.hr){const l=function(d){let y=ai.at;if(null!=d)try{const M=JSON.parse(d);Vn("number"==typeof M),y=M}catch(M){wr("SharedClientState","Failed to read sequence number from WebStorage",M)}return y}(s.newValue);l!==ai.at&&t.sequenceNumberHandler(l)}else if(s.key===t.mr){const l=t.Or(s.newValue);yield Promise.all(l.map(d=>t.syncEngine.Mr(d)))}}else t.cr.push(s)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,s){const l=new lh(this.currentUser,e,t,s),d=nm(this.persistenceKey,this.currentUser,e);this.setItem(d,l.tr())}Er(e){const t=nm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,s){const l=ru(this.persistenceKey,e),d=new pc(e,t,s);this.setItem(l,d.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const s=this.vr(e);return ku.Zi(s,t)}Dr(e,t){const s=this.dr.exec(e),l=Number(s[1]);return lh.Zi(new xn(void 0!==s[2]?s[2]:null),l,t)}Nr(e,t){const s=this._r.exec(e),l=Number(s[1]);return pc.Zi(l,t)}yr(e){return Xf.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Oe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);an("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const s=t?this.ur.insert(e,t):this.ur.remove(e),l=this.Ir(this.ur),d=this.Ir(s),y=[],M=[];return d.forEach(Z=>{l.has(Z)||y.push(Z)}),l.forEach(Z=>{d.has(Z)||M.push(Z)}),this.syncEngine.Br(y,M).then(()=>{this.ur=s})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Ju();return e.forEach((s,l)=>{t=t.unionWith(l.activeTargetIds)}),t}}class rm{constructor(){this.Lr=new uh,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,s){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new uh,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Dv{Ur(e){}shutdown(){}}class im{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){an("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){an("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Tv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sm{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Sv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,s,l,d){const y=this.ho(e,t);an("RestConnection","Sending: ",y,s);const M={};return this.lo(M,l,d),this.fo(e,y,M,s).then(Z=>(an("RestConnection","Received: ",Z),Z),Z=>{throw Us("RestConnection",`${e} failed with error: `,Z,"url: ",y,"request:",s),Z})}_o(e,t,s,l,d,y){return this.ao(e,t,s,l,d)}lo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+ri,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,d)=>e[d]=l),s&&s.headers.forEach((l,d)=>e[d]=l)}ho(e,t){return`${this.oo}/v1/${t}:${Tv[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,s,l){return new Promise((d,y)=>{const M=new fs;M.setWithCredentials(!0),M.listenOnce(Xr.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case Vi.NO_ERROR:const ne=M.getResponseJson();an("Connection","XHR received:",JSON.stringify(ne)),d(ne);break;case Vi.TIMEOUT:an("Connection",'RPC "'+e+'" timed out'),y(new Yt(At.DEADLINE_EXCEEDED,"Request time out"));break;case Vi.HTTP_ERROR:const ye=M.getStatus();if(an("Connection",'RPC "'+e+'" failed with status:',ye,"response text:",M.getResponseText()),ye>0){let Ke=M.getResponseJson();Array.isArray(Ke)&&(Ke=Ke[0]);const Ct=Ke?.error;if(Ct&&Ct.status&&Ct.message){const sn=function(fn){const er=fn.toLowerCase().replace(/_/g,"-");return Object.values(At).indexOf(er)>=0?er:At.UNKNOWN}(Ct.status);y(new Yt(sn,Ct.message))}else y(new Yt(At.UNKNOWN,"Server responded with status "+M.getStatus()))}else y(new Yt(At.UNAVAILABLE,"Connection failed."));break;default:Rn()}}finally{an("Connection",'RPC "'+e+'" completed.')}});const Z=JSON.stringify(l);M.send(t,"POST",Z,s,15)})}wo(e,t,s){const l=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Or(),y=Mr(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(M.xmlHttpFactory=new Ss({})),this.lo(M.initMessageHeaders,t,s),M.encodeInitMessageHeaders=!0;const Z=l.join("");an("Connection","Creating WebChannel: "+Z,M);const ne=d.createWebChannel(Z,M);let ye=!1,Ke=!1;const Ct=new sm({Hr:fn=>{Ke?an("Connection","Not sending because WebChannel is closed:",fn):(ye||(an("Connection","Opening WebChannel transport."),ne.open(),ye=!0),an("Connection","WebChannel sending:",fn),ne.send(fn))},Jr:()=>ne.close()}),sn=(fn,er,Cr)=>{fn.listen(er,xs=>{try{Cr(xs)}catch(ao){setTimeout(()=>{throw ao},0)}})};return sn(ne,us.EventType.OPEN,()=>{Ke||an("Connection","WebChannel transport opened.")}),sn(ne,us.EventType.CLOSE,()=>{Ke||(Ke=!0,an("Connection","WebChannel transport closed"),Ct.io())}),sn(ne,us.EventType.ERROR,fn=>{Ke||(Ke=!0,Us("Connection","WebChannel transport errored:",fn),Ct.io(new Yt(At.UNAVAILABLE,"The operation could not be completed")))}),sn(ne,us.EventType.MESSAGE,fn=>{var er;if(!Ke){const Cr=fn.data[0];Vn(!!Cr);const xs=Cr,ao=xs.error||(null===(er=xs[0])||void 0===er?void 0:er.error);if(ao){an("Connection","WebChannel received error:",ao);const zi=ao.status;let Uo=function(ts){const Xo=Vo[ts];if(void 0!==Xo)return fg(Xo)}(zi),xi=ao.message;void 0===Uo&&(Uo=At.INTERNAL,xi="Unknown error status: "+zi+" with message "+ao.message),Ke=!0,Ct.io(new Yt(Uo,xi)),ne.close()}else an("Connection","WebChannel received:",Cr),Ct.ro(Cr)}}),sn(y,ys.STAT_EVENT,fn=>{fn.stat===Vs.PROXY?an("Connection","Detected buffering proxy"):fn.stat===Vs.NOPROXY&&an("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ct.so()},0),Ct}}function tp(){return typeof window<"u"?window:null}function td(){return typeof document<"u"?document:null}function Ru(i){return new _g(i,!0)}class om{constructor(e,t,s=1e3,l=1.5,d=6e4){this.Hs=e,this.timerId=t,this.mo=s,this.yo=l,this.po=d,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),s=Math.max(0,Date.now()-this.Eo),l=Math.max(0,t-s);l>0&&an("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,l,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class ch{constructor(e,t,s,l,d,y,M,Z){this.Hs=e,this.vo=s,this.Vo=l,this.connection=d,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=M,this.listener=Z,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new om(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Oe.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Oe.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var s=this;return(0,Oe.Z)(function*(){s.Lo(),s.qo(),s.xo.cancel(),s.So++,4!==e?s.xo.reset():t&&t.code===At.RESOURCE_EXHAUSTED?(wr(t.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),s.xo.Ao()):t&&t.code===At.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Uo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.So===t&&this.Go(s,l)},s=>{e(()=>{const l=new Yt(At.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(l)})})}Go(e,t){const s=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(l=>{s(()=>this.Qo(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Oe.Z)(function*(){e.state=0,e.start()}))}Qo(e){return an("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(an("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Av extends ch{constructor(e,t,s,l,d,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,l,y),this.yt=d}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Ig(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(Z=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Z?1:"REMOVE"===Z?2:"CURRENT"===Z?3:"RESET"===Z?4:Rn(),l=e.targetChange.targetIds||[],d=function(Z,ne){return Z.wt?(Vn(void 0===ne||"string"==typeof ne),j.fromBase64String(ne||"")):(Vn(void 0===ne||ne instanceof Uint8Array),j.fromUint8Array(ne||new Uint8Array))}(i,e.targetChange.resumeToken),y=e.targetChange.cause,M=y&&function(Z){const ne=void 0===Z.code?At.UNKNOWN:fg(Z.code);return new Yt(ne,Z.message||"")}(y);t=new jd(s,l,d,M||null)}else if("documentChange"in e){const s=e.documentChange,l=fl(i,s.document.name),d=Hs(s.document.updateTime),y=s.document.createTime?Hs(s.document.createTime):Se.min(),M=new oa({mapValue:{fields:s.document.fields}}),Z=$s.newFoundDocument(l,d,y,M);t=new Tu(s.targetIds||[],s.removedTargetIds||[],Z.key,Z)}else if("documentDelete"in e){const s=e.documentDelete,l=fl(i,s.document),d=s.readTime?Hs(s.readTime):Se.min(),y=$s.newNoDocument(l,d);t=new Tu([],s.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const s=e.documentRemove,l=fl(i,s.document);t=new Tu([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Rn();{const s=e.filter,d=new hg(s.count||0);t=new Ef(s.targetId,d)}}var Z;return t}(this.yt,e),s=function(l){if(!("targetChange"in l))return Se.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Hs(d.readTime):Se.min()}(e);return this.listener.Wo(t,s)}zo(e){const t={};t.database=tc(this.yt),t.addTarget=function(l,d){let y;const M=d.target;return y=ul(M)?{documents:Cg(l,M)}:{query:Tf(l,M)},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?y.resumeToken=Gc(l,d.resumeToken):d.snapshotVersion.compareTo(Se.min())>0&&(y.readTime=Zl(l,d.snapshotVersion.toTimestamp())),y}(this.yt,e);const s=function Yl(i,e){const t=function(s,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Rn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Bo(t)}Ho(e){const t={};t.database=tc(this.yt),t.removeTarget=e,this.Bo(t)}}class b0 extends ch{constructor(e,t,s,l,d,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,l,y),this.yt=d,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Vn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function zy(i,e){return i&&i.length>0?(Vn(void 0!==e),i.map(t=>function(s,l){let d=Hs(s.updateTime?s.updateTime:l);return d.isEqual(Se.min())&&(d=Hs(l)),new Ud(d,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Hs(e.commitTime);return this.listener.Zo(s,t)}return Vn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=tc(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>nc(this.yt,s))};this.Bo(t)}}class gc extends class{}{constructor(e,t,s,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.yt=l,this.nu=!1}su(){if(this.nu)throw new Yt(At.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.ao(e,t,s,l,d)).catch(l=>{throw"FirebaseError"===l.name?(l.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Yt(At.UNKNOWN,l.toString())})}_o(e,t,s,l){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,y])=>this.connection._o(e,t,s,d,y,l)).catch(d=>{throw"FirebaseError"===d.name?(d.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Yt(At.UNKNOWN,d.toString())})}terminate(){this.nu=!0}}class hh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(wr(t),this.ou=!1):an("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Ja{constructor(e,t,s,l,d){var y=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=d,this.mu.Ur(M=>{s.enqueueAndForget((0,Oe.Z)(function*(){var Z;ja(y)&&(an("RemoteStore","Restarting streams for network reachability change."),yield(Z=(0,Oe.Z)(function*(ne){const ye=Cn(ne);ye._u.add(4),yield iu(ye),ye.gu.set("Unknown"),ye._u.delete(4),yield mc(ye)}),function(ne){return Z.apply(this,arguments)})(y))}))}),this.gu=new hh(s,l)}}function mc(i){return np.apply(this,arguments)}function np(){return np=(0,Oe.Z)(function*(i){if(ja(i))for(const e of i.wu)yield e(!0)}),np.apply(this,arguments)}function iu(i){return Xa.apply(this,arguments)}function Xa(){return Xa=(0,Oe.Z)(function*(i){for(const e of i.wu)yield e(!1)}),Xa.apply(this,arguments)}function yc(i,e){const t=Cn(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),lm(t)?fh(t):su(t).ko()&&nd(t,e))}function vc(i,e){const t=Cn(i),s=su(t);t.du.delete(e),s.ko()&&Mv(t,e),0===t.du.size&&(s.ko()?s.Fo():ja(t)&&t.gu.set("Unknown"))}function nd(i,e){i.yu.Ot(e.targetId),su(i).zo(e)}function Mv(i,e){i.yu.Ot(e),su(i).Ho(e)}function fh(i){i.yu=new wf({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.du.get(e)||null}),su(i).start(),i.gu.uu()}function lm(i){return ja(i)&&!su(i).No()&&i.du.size>0}function ja(i){return 0===Cn(i)._u.size}function rd(i){i.yu=void 0}function rp(i){return id.apply(this,arguments)}function id(){return id=(0,Oe.Z)(function*(i){i.du.forEach((e,t)=>{nd(i,e)})}),id.apply(this,arguments)}function ip(i,e){return um.apply(this,arguments)}function um(){return um=(0,Oe.Z)(function*(i,e){rd(i),lm(i)?(i.gu.hu(e),fh(i)):i.gu.set("Unknown")}),um.apply(this,arguments)}function xv(i,e,t){return sp.apply(this,arguments)}function sp(){return sp=(0,Oe.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof jd&&2===e.state&&e.cause)try{yield(s=(0,Oe.Z)(function*(l,d){const y=d.cause;for(const M of d.targetIds)l.du.has(M)&&(yield l.remoteSyncer.rejectListen(M,y),l.du.delete(M),l.yu.removeTarget(M))}),function(l,d){return s.apply(this,arguments)})(i,e)}catch(s){an("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield ph(i,s)}else if(e instanceof Tu?i.yu.Kt(e):e instanceof Ef?i.yu.Jt(e):i.yu.jt(e),!t.isEqual(Se.min()))try{const s=yield Jg(i.localStore);t.compareTo(s)>=0&&(yield function(l,d){const y=l.yu.Zt(d);return y.targetChanges.forEach((M,Z)=>{if(M.resumeToken.approximateByteSize()>0){const ne=l.du.get(Z);ne&&l.du.set(Z,ne.withResumeToken(M.resumeToken,d))}}),y.targetMismatches.forEach(M=>{const Z=l.du.get(M);if(!Z)return;l.du.set(M,Z.withResumeToken(j.EMPTY_BYTE_STRING,Z.snapshotVersion)),Mv(l,M);const ne=new Jl(Z.target,M,1,Z.sequenceNumber);nd(l,ne)}),l.remoteSyncer.applyRemoteEvent(y)}(i,t))}catch(s){an("RemoteStore","Failed to raise snapshot:",s),yield ph(i,s)}var s}),sp.apply(this,arguments)}function ph(i,e,t){return op.apply(this,arguments)}function op(){return op=(0,Oe.Z)(function*(i,e,t){if(!Gn(e))throw e;i._u.add(1),yield iu(i),i.gu.set("Offline"),t||(t=()=>Jg(i.localStore)),i.asyncQueue.enqueueRetryable((0,Oe.Z)(function*(){an("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield mc(i)}))}),op.apply(this,arguments)}function ap(i,e){return e().catch(t=>ph(i,t,e))}function sd(i){return lp.apply(this,arguments)}function lp(){return lp=(0,Oe.Z)(function*(i){const e=Cn(i),t=ou(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;I0(e);)try{const l=yield Xg(e.localStore,s);if(null===l){0===e.fu.length&&t.Fo();break}s=l.batchId,cm(e,l)}catch(l){yield ph(e,l)}up(e)&&dm(e)}),lp.apply(this,arguments)}function I0(i){return ja(i)&&i.fu.length<10}function cm(i,e){i.fu.push(e);const t=ou(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function up(i){return ja(i)&&!ou(i).No()&&i.fu.length>0}function dm(i){ou(i).start()}function cp(i){return hm.apply(this,arguments)}function hm(){return hm=(0,Oe.Z)(function*(i){ou(i).eu()}),hm.apply(this,arguments)}function C0(i){return fm.apply(this,arguments)}function fm(){return fm=(0,Oe.Z)(function*(i){const e=ou(i);for(const t of i.fu)e.Xo(t.mutations)}),fm.apply(this,arguments)}function D0(i,e,t){return pm.apply(this,arguments)}function pm(){return pm=(0,Oe.Z)(function*(i,e,t){const s=i.fu.shift(),l=Wd.from(s,e,t);yield ap(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield sd(i)}),pm.apply(this,arguments)}function T0(i,e){return gm.apply(this,arguments)}function gm(){return gm=(0,Oe.Z)(function*(i,e){var t;e&&ou(i).Yo&&(yield(t=(0,Oe.Z)(function*(s,l){if(Bd(d=l.code)&&d!==At.ABORTED){const y=s.fu.shift();ou(s).Mo(),yield ap(s,()=>s.remoteSyncer.rejectFailedWrite(y.batchId,l)),yield sd(s)}var d}),function(s,l){return t.apply(this,arguments)})(i,e)),up(i)&&dm(i)}),gm.apply(this,arguments)}function Pv(i,e){return mm.apply(this,arguments)}function mm(){return mm=(0,Oe.Z)(function*(i,e){const t=Cn(i);t.asyncQueue.verifyOperationInProgress(),an("RemoteStore","RemoteStore received new credentials");const s=ja(t);t._u.add(3),yield iu(t),s&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield mc(t)}),mm.apply(this,arguments)}function ym(i,e){return yl.apply(this,arguments)}function yl(){return yl=(0,Oe.Z)(function*(i,e){const t=Cn(i);e?(t._u.delete(2),yield mc(t)):e||(t._u.add(2),yield iu(t),t.gu.set("Unknown"))}),yl.apply(this,arguments)}function su(i){return i.pu||(i.pu=function(e,t,s){const l=Cn(e);return l.su(),new Av(t,l.connection,l.authCredentials,l.appCheckCredentials,l.yt,s)}(i.datastore,i.asyncQueue,{Yr:rp.bind(null,i),Zr:ip.bind(null,i),Wo:xv.bind(null,i)}),i.wu.push(function(){var e=(0,Oe.Z)(function*(t){t?(i.pu.Mo(),lm(i)?fh(i):i.gu.set("Unknown")):(yield i.pu.stop(),rd(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function ou(i){return i.Iu||(i.Iu=function(e,t,s){const l=Cn(e);return l.su(),new b0(t,l.connection,l.authCredentials,l.appCheckCredentials,l.yt,s)}(i.datastore,i.asyncQueue,{Yr:cp.bind(null,i),Zr:T0.bind(null,i),tu:C0.bind(null,i),Zo:D0.bind(null,i)}),i.wu.push(function(){var e=(0,Oe.Z)(function*(t){t?(i.Iu.Mo(),yield sd(i)):(yield i.Iu.stop(),i.fu.length>0&&(an("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class gh{constructor(e,t,s,l,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=l,this.removalCallback=d,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}static createAndSchedule(e,t,s,l,d){const y=Date.now()+s,M=new gh(e,t,y,l,d);return M.start(s),M}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Yt(At.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function au(i,e){if(wr("AsyncQueue",`${e}: ${i}`),Gn(i))return new Yt(At.UNAVAILABLE,`${e}: ${i}`);throw i}class Nu{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Xt.comparator(t.key,s.key):(t,s)=>Xt.comparator(t.key,s.key),this.keyedMap=Qu(),this.sortedSet=new So(this.comparator)}static emptySet(e){return new Nu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,d=s.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Nu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class mh{constructor(){this.Tu=new So(Xt.comparator)}track(e){const t=e.doc.key,s=this.Tu.get(t);s?0!==e.type&&3===s.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==s.type?this.Tu=this.Tu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Tu=this.Tu.remove(t):1===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Rn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,s)=>{e.push(s)}),e}}class _c{constructor(e,t,s,l,d,y,M,Z,ne){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=d,this.fromCache=y,this.syncStateChanged=M,this.excludesMetadataChanges=Z,this.hasCachedResults=ne}static fromInitialDocuments(e,t,s,l,d){const y=[];return t.forEach(M=>{y.push({type:0,doc:M})}),new _c(e,t,Nu.emptySet(t),y,s,l,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$l(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==s[l].type||!t[l].doc.isEqual(s[l].doc))return!1;return!0}}class lu{constructor(){this.Au=void 0,this.listeners=[]}}class vm{constructor(){this.queries=new zl(e=>aa(e),$l),this.onlineState="Unknown",this.Ru=new Set}}function dp(i,e){return hp.apply(this,arguments)}function hp(){return hp=(0,Oe.Z)(function*(i,e){const t=Cn(i),s=e.query;let l=!1,d=t.queries.get(s);if(d||(l=!0,d=new lu),l)try{d.Au=yield t.onListen(s)}catch(y){const M=au(y,`Initialization of query '${Ku(e.query)}' failed`);return void e.onError(M)}t.queries.set(s,d),d.listeners.push(e),e.bu(t.onlineState),d.Au&&e.Pu(d.Au)&&uu(t)}),hp.apply(this,arguments)}function yh(i,e){return fp.apply(this,arguments)}function fp(){return fp=(0,Oe.Z)(function*(i,e){const t=Cn(i),s=e.query;let l=!1;const d=t.queries.get(s);if(d){const y=d.listeners.indexOf(e);y>=0&&(d.listeners.splice(y,1),l=0===d.listeners.length)}if(l)return t.queries.delete(s),t.onUnlisten(s)}),fp.apply(this,arguments)}function kv(i,e){const t=Cn(i);let s=!1;for(const l of e){const y=t.queries.get(l.query);if(y){for(const M of y.listeners)M.Pu(l)&&(s=!0);y.Au=l}}s&&uu(t)}function vh(i,e,t){const s=Cn(i),l=s.queries.get(e);if(l)for(const d of l.listeners)d.onError(t);s.queries.delete(e)}function uu(i){i.Ru.forEach(e=>{e.next()})}class od{constructor(e,t,s){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new _c(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=_c.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Ec{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class _h{constructor(e){this.yt=e}Ji(e){return fl(this.yt,e)}Yi(e){return e.metadata.exists?Cf(this.yt,e.document,!1):$s.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Hs(e)}}class Eh{constructor(e,t,s){this.Mu=e,this.localStore=t,this.yt=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=pp(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const s=wt.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,s=new _h(this.yt);for(const l of e)if(l.metadata.queries){const d=s.Ji(l.metadata.name);for(const y of l.metadata.queries){const M=(t.get(y)||ui()).add(d);t.set(y,M)}}return t}complete(){var e=this;return(0,Oe.Z)(function*(){const t=yield function w0(i,e,t,s){return tm.apply(this,arguments)}(e.localStore,new _h(e.yt),e.documents,e.Mu.id),s=e.$u(e.documents);for(const l of e.queries)yield Iv(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function pp(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class gp{constructor(e){this.key=e}}class wh{constructor(e){this.key=e}}class bh{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ui(),this.mutatedKeys=ui(),this.Gu=m(e),this.Qu=new Nu(this.Gu)}get ju(){return this.qu}Wu(e,t){const s=t?t.zu:new mh,l=t?t.Qu:this.Qu;let d=t?t.mutatedKeys:this.mutatedKeys,y=l,M=!1;const Z="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,ne="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((ye,Ke)=>{const Ct=l.get(ye),sn=S(this.query,Ke)?Ke:null,fn=!!Ct&&this.mutatedKeys.has(Ct.key),er=!!sn&&(sn.hasLocalMutations||this.mutatedKeys.has(sn.key)&&sn.hasCommittedMutations);let Cr=!1;Ct&&sn?Ct.data.isEqual(sn.data)?fn!==er&&(s.track({type:3,doc:sn}),Cr=!0):this.Hu(Ct,sn)||(s.track({type:2,doc:sn}),Cr=!0,(Z&&this.Gu(sn,Z)>0||ne&&this.Gu(sn,ne)<0)&&(M=!0)):!Ct&&sn?(s.track({type:0,doc:sn}),Cr=!0):Ct&&!sn&&(s.track({type:1,doc:Ct}),Cr=!0,(Z||ne)&&(M=!0)),Cr&&(sn?(y=y.add(sn),d=er?d.add(ye):d.delete(ye)):(y=y.delete(ye),d=d.delete(ye)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const ye="F"===this.query.limitType?y.last():y.first();y=y.delete(ye.key),d=d.delete(ye.key),s.track({type:1,doc:ye})}return{Qu:y,zu:s,$i:M,mutatedKeys:d}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const l=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const d=e.zu.Eu();d.sort((ne,ye)=>function(Ke,Ct){const sn=fn=>{switch(fn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rn()}};return sn(Ke)-sn(Ct)}(ne.type,ye.type)||this.Gu(ne.doc,ye.doc)),this.Ju(s);const y=t?this.Yu():[],M=0===this.Ku.size&&this.current?1:0,Z=M!==this.Uu;return this.Uu=M,0!==d.length||Z?{snapshot:new _c(this.query,e.Qu,l,d,e.mutatedKeys,0===M,Z,!1,!!s&&s.resumeToken.approximateByteSize()>0),Xu:y}:{Xu:y}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new mh,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ui(),this.Qu.forEach(s=>{this.Zu(s.key)&&(this.Ku=this.Ku.add(s.key))});const t=[];return e.forEach(s=>{this.Ku.has(s)||t.push(new wh(s))}),this.Ku.forEach(s=>{e.has(s)||t.push(new gp(s))}),t}tc(e){this.qu=e.Hi,this.Ku=ui();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return _c.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class _m{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class mp{constructor(e){this.key=e,this.nc=!1}}class Rv{constructor(e,t,s,l,d,y){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=y,this.sc={},this.ic=new zl(M=>aa(M),$l),this.rc=new Map,this.oc=new Set,this.uc=new So(Xt.comparator),this.cc=new Map,this.ac=new nh,this.hc={},this.lc=new Map,this.fc=kl.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function S0(i,e){return yp.apply(this,arguments)}function yp(){return yp=(0,Oe.Z)(function*(i,e){const t=dd(i);let s,l;const d=t.ic.get(e);if(d)s=d.targetId,t.sharedClientState.addLocalQueryTarget(s),l=d.view.ec();else{const y=yield Pu(t.localStore,ya(e));t.isPrimaryClient&&yc(t.remoteStore,y);const M=t.sharedClientState.addLocalQueryTarget(y.targetId);s=y.targetId,l=yield Ih(t,e,s,"current"===M,y.resumeToken)}return l}),yp.apply(this,arguments)}function Ih(i,e,t,s,l){return vp.apply(this,arguments)}function vp(){return vp=(0,Oe.Z)(function*(i,e,t,s,l){i._c=(Ke,Ct,sn)=>{return(fn=(0,Oe.Z)(function*(er,Cr,xs,ao){let zi=Cr.view.Wu(xs);zi.$i&&(zi=yield fc(er.localStore,Cr.query,!1).then(({documents:ts})=>Cr.view.Wu(ts,zi)));const Uo=ao&&ao.targetChanges.get(Cr.targetId),xi=Cr.view.applyChanges(zi,er.isPrimaryClient,Uo);return Th(er,Cr.targetId,xi.Xu),xi.snapshot}),function(er,Cr,xs,ao){return fn.apply(this,arguments)})(i,Ke,Ct,sn);var fn};const d=yield fc(i.localStore,e,!0),y=new bh(e,d.Hi),M=y.Wu(d.documents),Z=Kl.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState,l),ne=y.applyChanges(M,i.isPrimaryClient,Z);Th(i,t,ne.Xu);const ye=new _m(e,t,y);return i.ic.set(e,ye),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),ne.snapshot}),vp.apply(this,arguments)}function Em(i,e){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,Oe.Z)(function*(i,e){const t=Cn(i),s=t.ic.get(e),l=t.rc.get(s.targetId);if(l.length>1)return t.rc.set(s.targetId,l.filter(d=>!$l(d,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Ba(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),vc(t.remoteStore,s.targetId),wc(t,s.targetId)}).catch(Fo))):(wc(t,s.targetId),yield Ba(t.localStore,s.targetId,!0))}),Ch.apply(this,arguments)}function Da(){return Da=(0,Oe.Z)(function*(i,e,t){const s=tl(i);try{const l=yield function(d,y){const M=Cn(d),Z=Be.now(),ne=y.reduce((Ct,sn)=>Ct.add(sn.key),ui());let ye,Ke;return M.persistence.runTransaction("Locally write mutations","readwrite",Ct=>{let sn=Ia(),fn=ui();return M.Gi.getEntries(Ct,ne).next(er=>{sn=er,sn.forEach((Cr,xs)=>{xs.isValidDocument()||(fn=fn.add(Cr))})}).next(()=>M.localDocuments.getOverlayedDocuments(Ct,sn)).next(er=>{ye=er;const Cr=[];for(const xs of y){const ao=ag(xs,ye.get(xs.key).overlayedDocument);null!=ao&&Cr.push(new xl(xs.key,ao,yf(ao.value.mapValue),gs.exists(!0)))}return M.mutationQueue.addMutationBatch(Ct,Z,Cr,y)}).next(er=>{Ke=er;const Cr=er.applyToLocalDocumentSet(ye,fn);return M.documentOverlayCache.saveOverlays(Ct,er.batchId,Cr)})}).then(()=>({batchId:Ke.batchId,changes:_f(ye)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(d,y,M){let Z=d.hc[d.currentUser.toKey()];Z||(Z=new So(R)),Z=Z.insert(y,M),d.hc[d.currentUser.toKey()]=Z}(s,l.batchId,t),yield el(s,l.changes),yield sd(s.remoteStore)}catch(l){const d=au(l,"Failed to persist write");t.reject(d)}}),Da.apply(this,arguments)}function _p(i,e){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,Oe.Z)(function*(i,e){const t=Cn(i);try{const s=yield Ev(t.localStore,e);e.targetChanges.forEach((l,d)=>{const y=t.cc.get(d);y&&(Vn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?y.nc=!0:l.modifiedDocuments.size>0?Vn(y.nc):l.removedDocuments.size>0&&(Vn(y.nc),y.nc=!1))}),yield el(t,s,e)}catch(s){yield Fo(s)}}),Ep.apply(this,arguments)}function Ov(i,e,t){const s=Cn(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const l=[];s.ic.forEach((d,y)=>{const M=y.view.bu(e);M.snapshot&&l.push(M.snapshot)}),function(d,y){const M=Cn(d);M.onlineState=y;let Z=!1;M.queries.forEach((ne,ye)=>{for(const Ke of ye.listeners)Ke.bu(y)&&(Z=!0)}),Z&&uu(M)}(s.eventManager,e),l.length&&s.sc.Wo(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Fv(i,e,t){return ad.apply(this,arguments)}function ad(){return ad=(0,Oe.Z)(function*(i,e,t){const s=Cn(i);s.sharedClientState.updateQueryState(e,"rejected",t);const l=s.cc.get(e),d=l&&l.key;if(d){let y=new So(Xt.comparator);y=y.insert(d,$s.newNoDocument(d,Se.min()));const M=ui().add(d),Z=new Xu(Se.min(),new Map,new Gi(R),y,M);yield _p(s,Z),s.uc=s.uc.remove(d),s.cc.delete(e),$a(s)}else yield Ba(s.localStore,e,!1).then(()=>wc(s,e,t)).catch(Fo)}),ad.apply(this,arguments)}function wm(i,e){return wp.apply(this,arguments)}function wp(){return wp=(0,Oe.Z)(function*(i,e){const t=Cn(i),s=e.batch.batchId;try{const l=yield Qg(t.localStore,e);Cp(t,s,null),Dh(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield el(t,l)}catch(l){yield Fo(l)}}),wp.apply(this,arguments)}function Lv(i,e,t){return bp.apply(this,arguments)}function bp(){return bp=(0,Oe.Z)(function*(i,e,t){const s=Cn(i);try{const l=yield function(d,y){const M=Cn(d);return M.persistence.runTransaction("Reject batch","readwrite-primary",Z=>{let ne;return M.mutationQueue.lookupMutationBatch(Z,y).next(ye=>(Vn(null!==ye),ne=ye.keys(),M.mutationQueue.removeMutationBatch(Z,ye))).next(()=>M.mutationQueue.performConsistencyCheck(Z)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(Z,ne,y)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Z,ne)).next(()=>M.localDocuments.getDocuments(Z,ne))})}(s.localStore,e);Cp(s,e,t),Dh(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield el(s,l)}catch(l){yield Fo(l)}}),bp.apply(this,arguments)}function Ip(){return Ip=(0,Oe.Z)(function*(i,e){const t=Cn(i);ja(t.remoteStore)||an("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(d){const y=Cn(d);return y.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>y.mutationQueue.getHighestUnacknowledgedBatchId(M))}(t.localStore);if(-1===s)return void e.resolve();const l=t.lc.get(s)||[];l.push(e),t.lc.set(s,l)}catch(s){const l=au(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Ip.apply(this,arguments)}function Dh(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function Cp(i,e,t){const s=Cn(i);let l=s.hc[s.currentUser.toKey()];if(l){const d=l.get(e);d&&(t?d.reject(t):d.resolve(),l=l.remove(e)),s.hc[s.currentUser.toKey()]=l}}function wc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.rc.get(e))i.ic.delete(s),t&&i.sc.wc(s,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(s=>{i.ac.containsKey(s)||Dp(i,s)})}function Dp(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(vc(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),$a(i))}function Th(i,e,t){for(const s of t)s instanceof gp?(i.ac.addReference(s.key,e),Vv(i,s)):s instanceof wh?(an("SyncEngine","Document no longer in limbo: "+s.key),i.ac.removeReference(s.key,e),i.ac.containsKey(s.key)||Dp(i,s.key)):Rn()}function Vv(i,e){const t=e.key,s=t.path.canonicalString();i.uc.get(t)||i.oc.has(s)||(an("SyncEngine","New document in limbo: "+t),i.oc.add(s),$a(i))}function $a(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new Xt(wt.fromString(e)),s=i.fc.next();i.cc.set(s,new mp(t)),i.uc=i.uc.insert(t,s),yc(i.remoteStore,new Jl(ya(cl(t.path)),s,2,ai.at))}}function el(i,e,t){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,Oe.Z)(function*(i,e,t){const s=Cn(i),l=[],d=[],y=[];var M;s.ic.isEmpty()||(s.ic.forEach((M,Z)=>{y.push(s._c(Z,e,t).then(ne=>{if((ne||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(Z.targetId,ne?.fromCache?"not-current":"current"),ne){l.push(ne);const ye=sh.Ci(Z.targetId,ne);d.push(ye)}}))}),yield Promise.all(y),s.sc.Wo(l),yield(M=(0,Oe.Z)(function*(Z,ne){const ye=Cn(Z);try{yield ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ke=>gt.forEach(ne,Ct=>gt.forEach(Ct.Si,sn=>ye.persistence.referenceDelegate.addReference(Ke,Ct.targetId,sn)).next(()=>gt.forEach(Ct.Di,sn=>ye.persistence.referenceDelegate.removeReference(Ke,Ct.targetId,sn)))))}catch(Ke){if(!Gn(Ke))throw Ke;an("LocalStore","Failed to update sequence numbers: "+Ke)}for(const Ke of ne){const Ct=Ke.targetId;if(!Ke.fromCache){const sn=ye.qi.get(Ct),er=sn.withLastLimboFreeSnapshotVersion(sn.snapshotVersion);ye.qi=ye.qi.insert(Ct,er)}}}),function(Z,ne){return M.apply(this,arguments)})(s.localStore,d))}),Tp.apply(this,arguments)}function Uv(i,e){return Im.apply(this,arguments)}function Im(){return Im=(0,Oe.Z)(function*(i,e){const t=Cn(i);if(!t.currentUser.isEqual(e)){an("SyncEngine","User change. New user:",e.toKey());const s=yield Yf(t.localStore,e);t.currentUser=e,(l=t).lc.forEach(y=>{y.forEach(M=>{M.reject(new Yt(At.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.lc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield el(t,s.ji)}var l}),Im.apply(this,arguments)}function Cm(i,e){const t=Cn(i),s=t.cc.get(e);if(s&&s.nc)return ui().add(s.key);{let l=ui();const d=t.rc.get(e);if(!d)return l;for(const y of d){const M=t.ic.get(y);l=l.unionWith(M.view.ju)}return l}}function Bv(i,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,Oe.Z)(function*(i,e){const t=Cn(i),s=yield fc(t.localStore,e.query,!0),l=e.view.tc(s);return t.isPrimaryClient&&Th(t,e.targetId,l.Xu),l}),Sp.apply(this,arguments)}function jv(i,e){return ld.apply(this,arguments)}function ld(){return ld=(0,Oe.Z)(function*(i,e){const t=Cn(i);return em(t.localStore,e).then(s=>el(t,s))}),ld.apply(this,arguments)}function $v(i,e,t,s){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,Oe.Z)(function*(i,e,t,s){const l=Cn(i),d=yield function(y,M){const Z=Cn(y),ne=Cn(Z.mutationQueue);return Z.persistence.runTransaction("Lookup mutation documents","readonly",ye=>ne.Tn(ye,M).next(Ke=>Ke?Z.localDocuments.getDocuments(ye,Ke):gt.resolve(null)))}(l.localStore,e);var M;null!==d?("pending"===t?yield sd(l.remoteStore):"acknowledged"===t||"rejected"===t?(Cp(l,e,s||null),Dh(l,e),M=e,Cn(Cn(l.localStore).mutationQueue).An(M)):Rn(),yield el(l,d)):an("SyncEngine","Cannot apply mutation batch with id: "+e)}),Ap.apply(this,arguments)}function ud(){return ud=(0,Oe.Z)(function*(i,e){const t=Cn(i);if(dd(t),tl(t),!0===e&&!0!==t.dc){const s=t.sharedClientState.getAllActiveQueryTargets(),l=yield cd(t,s.toArray());t.dc=!0,yield ym(t.remoteStore,!0);for(const d of l)yc(t.remoteStore,d)}else if(!1===e&&!1!==t.dc){const s=[];let l=Promise.resolve();t.rc.forEach((d,y)=>{t.sharedClientState.isLocalQueryTarget(y)?s.push(y):l=l.then(()=>(wc(t,y),Ba(t.localStore,y,!0))),vc(t.remoteStore,y)}),yield l,yield cd(t,s),function(d){const y=Cn(d);y.cc.forEach((M,Z)=>{vc(y.remoteStore,Z)}),y.ac.fs(),y.cc=new Map,y.uc=new So(Xt.comparator)}(t),t.dc=!1,yield ym(t.remoteStore,!1)}}),ud.apply(this,arguments)}function cd(i,e,t){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,Oe.Z)(function*(i,e,t){const s=Cn(i),l=[],d=[];for(const y of e){let M;const Z=s.rc.get(y);if(Z&&0!==Z.length){M=yield Pu(s.localStore,ya(Z[0]));for(const ne of Z){const ye=s.ic.get(ne),Ke=yield Bv(s,ye);Ke.snapshot&&d.push(Ke.snapshot)}}else{const ne=yield oh(s.localStore,y);M=yield Pu(s.localStore,ne),yield Ih(s,Ah(ne),y,!1,M.resumeToken)}l.push(M)}return s.sc.Wo(d),l}),Dm.apply(this,arguments)}function Ah(i){return Fd(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function A0(i){const e=Cn(i);return Cn(Cn(e.localStore).persistence).vi()}function Tm(i,e,t,s){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,Oe.Z)(function*(i,e,t,s){const l=Cn(i);if(l.dc)return void an("SyncEngine","Ignoring unexpected query state notification.");const d=l.rc.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const y=yield em(l.localStore,g(d[0])),M=Xu.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,j.EMPTY_BYTE_STRING);yield el(l,y,M);break}case"rejected":yield Ba(l.localStore,e,!0),wc(l,e,s);break;default:Rn()}}),Mh.apply(this,arguments)}function Sm(i,e,t){return xh.apply(this,arguments)}function xh(){return xh=(0,Oe.Z)(function*(i,e,t){const s=dd(i);if(s.dc){for(const l of e){if(s.rc.has(l)){an("SyncEngine","Adding an already active target "+l);continue}const d=yield oh(s.localStore,l),y=yield Pu(s.localStore,d);yield Ih(s,Ah(d),y.targetId,!1,y.resumeToken),yc(s.remoteStore,y)}for(const l of t)s.rc.has(l)&&(yield Ba(s.localStore,l,!1).then(()=>{vc(s.remoteStore,l),wc(s,l)}).catch(Fo))}}),xh.apply(this,arguments)}function dd(i){const e=Cn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=_p.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fv.bind(null,e),e.sc.Wo=kv.bind(null,e.eventManager),e.sc.wc=vh.bind(null,e.eventManager),e}function tl(i){const e=Cn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lv.bind(null,e),e}class hd{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Oe.Z)(function*(){t.yt=Ru(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Yg(this.persistence,new Zf,e.initialUser,this.yt)}yc(e){return new Zg(rh.Bs,this.yt)}gc(e){return new rm}terminate(){var e=this;return(0,Oe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class bc extends hd{constructor(e,t,s){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,Oe.Z)(function*(){yield t().call(s,e),yield s.Ac.initialize(s,e),yield tl(s.Ac.syncEngine),yield sd(s.Ac.remoteStore),yield s.persistence.li(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Yg(this.persistence,new Zf,e.initialUser,this.yt)}Tc(e,t){return new lv(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const s=new ga(t,this.persistence);return new Lo(e.asyncQueue,s)}yc(e){const t=ih(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Pa.withCacheSize(this.cacheSizeBytes):Pa.DEFAULT;return new Kf(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,tp(),td(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new rm}}class Hv extends bc{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,Oe.Z)(function*(){yield t().call(s,e);const l=s.Ac.syncEngine;s.sharedClientState instanceof ep&&(s.sharedClientState.syncEngine={Fr:$v.bind(null,l),$r:Tm.bind(null,l),Br:Sm.bind(null,l),vi:A0.bind(null,l),Mr:jv.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.li(function(){var d=(0,Oe.Z)(function*(y){yield function Sh(i,e){return ud.apply(this,arguments)}(s.Ac.syncEngine,y),s.gcScheduler&&(y&&!s.gcScheduler.started?s.gcScheduler.start():y||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(y&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():y||s.indexBackfillerScheduler.stop())});return function(y){return d.apply(this,arguments)}}())})()}gc(e){const t=tp();if(!ep.C(t))throw new Yt(At.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=ih(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ep(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class fd{initialize(e,t){var s=this;return(0,Oe.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>Ov(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=Uv.bind(null,s.syncEngine),yield ym(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new vm}createDatastore(e){const t=Ru(e.databaseInfo.databaseId),s=new Sv(e.databaseInfo);return new gc(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,l=e.asyncQueue,d=M=>Ov(this.syncEngine,M,0),y=im.C()?new im:new Dv,new Ja(t,s,l,d,y);var t,s,l,d,y}createSyncEngine(e,t){return function(s,l,d,y,M,Z,ne){const ye=new Rv(s,l,d,y,M,Z);return ne&&(ye.dc=!0),ye}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Oe.Z)(function*(t){const s=Cn(t);an("RemoteStore","RemoteStore shutting down."),s._u.add(5),yield iu(s),s.mu.shutdown(),s.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function kh(i,e,t){if(!t)throw new Yt(At.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Am(i,e,t,s){if(!0===e&&!0===s)throw new Yt(At.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Mm(i){if(!Xt.isDocumentKey(i))throw new Yt(At.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Ic(i){if(Xt.isDocumentKey(i))throw new Yt(At.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Rh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Rn()}function Bi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Yt(At.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Rh(i);throw new Yt(At.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function xm(i,e){if(e<=0)throw new Yt(At.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}const Gv=new Map;class Pm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Yt(At.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Yt(At.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Am("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pd{constructor(e,t,s,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Yt(At.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Yt(At.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new va;switch(t.type){case"gapi":return new _a(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Yt(At.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Gv.get(e);t&&(an("ComponentProvider","Removing Datastore"),Gv.delete(e),t.terminate())}(this),Promise.resolve()}}class Xs{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xs(this.firestore,e,this._key)}}class na{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new na(this.firestore,e,this._query)}}class vl extends na{constructor(e,t,s){super(e,t,cl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xs(this.firestore,null,new Xt(e))}withConverter(e){return new vl(this.firestore,e,this._path)}}function Nh(i,e,...t){if(i=(0,qe.m9)(i),kh("collection","path",e),i instanceof pd){const s=wt.fromString(e,...t);return Ic(s),new vl(i,null,s)}{if(!(i instanceof Xs||i instanceof vl))throw new Yt(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(wt.fromString(e,...t));return Ic(s),new vl(i.firestore,null,s)}}function Oh(i,e,...t){if(i=(0,qe.m9)(i),1===arguments.length&&(e=w.R()),kh("doc","path",e),i instanceof pd){const s=wt.fromString(e,...t);return Mm(s),new Xs(i,null,new Xt(s))}{if(!(i instanceof Xs||i instanceof vl))throw new Yt(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(wt.fromString(e,...t));return Mm(s),new Xs(i.firestore,i instanceof vl?i.converter:null,new Xt(s))}}function Rm(i,e){return i=(0,qe.m9)(i),e=(0,qe.m9)(e),(i instanceof Xs||i instanceof vl)&&(e instanceof Xs||e instanceof vl)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Mp(i,e){return i=(0,qe.m9)(i),e=(0,qe.m9)(e),i instanceof na&&e instanceof na&&i.firestore===e.firestore&&$l(i._query,e._query)&&i.converter===e.converter}function Nm(i,e=10240){let t=0;return{read:()=>(0,Oe.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,Oe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Fh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):wr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Lh{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Di,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(s=>{s&&s.Ou()?this.metadata.resolve(s.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ku)}`))},s=>this.metadata.reject(s))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Oe.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Oe.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const s=e.vc.decode(t),l=Number(s);isNaN(l)&&e.Dc(`length string (${s}) is not valid number`);const d=yield e.Cc(l);return new Ec(JSON.parse(d),t.length+l)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Oe.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Cc(e){var t=this;return(0,Oe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const s=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class Wv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Oe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Yt(At.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,Oe.Z)(function*(d,y){const M=Cn(d),Z=tc(M.yt)+"/documents",ne={documents:y.map(sn=>Hd(M.yt,sn))},ye=yield M._o("BatchGetDocuments",Z,ne,y.length),Ke=new Map;ye.forEach(sn=>{const fn=function bg(i,e){return"found"in e?function(t,s){Vn(!!s.found);const l=fl(t,s.found.name),d=Hs(s.found.updateTime),y=s.found.createTime?Hs(s.found.createTime):Se.min(),M=new oa({mapValue:{fields:s.found.fields}});return $s.newFoundDocument(l,d,y,M)}(i,e):"missing"in e?function(t,s){Vn(!!s.missing),Vn(!!s.readTime);const l=fl(t,s.missing),d=Hs(s.readTime);return $s.newNoDocument(l,d)}(i,e):Rn()}(M.yt,sn);Ke.set(fn.key.toString(),fn)});const Ct=[];return y.forEach(sn=>{const fn=Ke.get(sn.toString());Vn(!!fn),Ct.push(fn)}),Ct}),function(d,y){return l.apply(this,arguments)})(t.datastore,e);var l;return s.forEach(l=>t.recordVersion(l)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Oe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,l)=>{const d=Xt.fromPath(l);e.mutations.push(new vf(d,e.precondition(d)))}),yield(s=(0,Oe.Z)(function*(l,d){const y=Cn(l),M=tc(y.yt)+"/documents",Z={writes:d.map(ne=>nc(y.yt,ne))};yield y.ao("Commit",M,Z)}),function(l,d){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Rn();t=Se.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Yt(At.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Se.min())?gs.exists(!1):gs.updateTime(t):gs.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Se.min()))throw new Yt(At.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gs.updateTime(t)}return gs.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class qv{constructor(e,t,s,l,d){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=l,this.deferred=d,this.kc=s.maxAttempts,this.xo=new om(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Oe.Z)(function*(){const t=new Wv(e.datastore),s=e.Mc(t);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(l)}).catch(d=>{e.Fc(d)}))}).catch(l=>{e.Fc(l)})}))}Mc(e){try{const t=this.updateFunction(e);return!C(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Bd(t)}return!1}}class xp{constructor(e,t,s,l){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=l,this.user=xn.UNAUTHENTICATED,this.clientId=w.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var y=(0,Oe.Z)(function*(M){an("FirestoreClient","Received user=",M.uid),yield d.authCredentialListener(M),d.user=M});return function(M){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(s,y=>(an("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}getConfiguration(){var e=this;return(0,Oe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Yt(At.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Oe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const l=au(s,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function Om(i,e){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,Oe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),an("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,Oe.Z)(function*(d){s.isEqual(d)||(yield Yf(e.localStore,d),s=d)});return function(d){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Ha.apply(this,arguments)}function Dc(i,e){return da.apply(this,arguments)}function da(){return da=(0,Oe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Rl(i);an("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(l=>Pv(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,d)=>Pv(e.remoteStore,d)),i.onlineComponents=e}),da.apply(this,arguments)}function Rl(i){return Tc.apply(this,arguments)}function Tc(){return Tc=(0,Oe.Z)(function*(i){return i.offlineComponents||(an("FirestoreClient","Using default OfflineComponentProvider"),yield Om(i,new hd)),i.offlineComponents}),Tc.apply(this,arguments)}function Ta(i){return md.apply(this,arguments)}function md(){return md=(0,Oe.Z)(function*(i){return i.onlineComponents||(an("FirestoreClient","Using default OnlineComponentProvider"),yield Dc(i,new fd)),i.onlineComponents}),md.apply(this,arguments)}function Ou(i){return Rl(i).then(e=>e.persistence)}function Nl(i){return Rl(i).then(e=>e.localStore)}function cu(i){return Ta(i).then(e=>e.remoteStore)}function du(i){return Ta(i).then(e=>e.syncEngine)}function nl(i){return hu.apply(this,arguments)}function hu(){return hu=(0,Oe.Z)(function*(i){const e=yield Ta(i),t=e.eventManager;return t.onListen=S0.bind(null,e.syncEngine),t.onUnlisten=Em.bind(null,e.syncEngine),t}),hu.apply(this,arguments)}function Pp(i,e,t={}){const s=new Di;return i.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(l,d,y,M,Z){const ne=new Fh({next:Ke=>{d.enqueueAndForget(()=>yh(l,ye));const Ct=Ke.docs.has(y);!Ct&&Ke.fromCache?Z.reject(new Yt(At.UNAVAILABLE,"Failed to get document because the client is offline.")):Ct&&Ke.fromCache&&M&&"server"===M.source?Z.reject(new Yt(At.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Z.resolve(Ke)},error:Ke=>Z.reject(Ke)}),ye=new od(cl(y.path),ne,{includeMetadataChanges:!0,Nu:!0});return dp(l,ye)}(yield nl(i),i.asyncQueue,e,t,s)})),s.promise}function kp(i,e,t={}){const s=new Di;return i.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(l,d,y,M,Z){const ne=new Fh({next:Ke=>{d.enqueueAndForget(()=>yh(l,ye)),Ke.fromCache&&"server"===M.source?Z.reject(new Yt(At.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Z.resolve(Ke)},error:Ke=>Z.reject(Ke)}),ye=new od(y,ne,{includeMetadataChanges:!0,Nu:!0});return dp(l,ye)}(yield nl(i),i.asyncQueue,e,t,s)})),s.promise}class jm{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new om(this,"async_queue_retry"),this.Wc=()=>{const t=td();t&&an("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=td();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=td();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Di;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Oe.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Gn(t))throw t;an("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(s=>{throw this.Kc=s,this.Gc=!1,wr("INTERNAL UNHANDLED ERROR: ",function(d){let y=d.message||"";return d.stack&&(y=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),y}(s)),s}).then(s=>(this.Gc=!1,s))));return this.Bc=t,t}enqueueAfterDelay(e,t,s){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const l=gh.createAndSchedule(this,e,t,s,d=>this.Yc(d));return this.Uc.push(l),l}zc(){this.Kc&&Rn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Oe.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Vh(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const l of["next","error","complete"])if(l in s&&"function"==typeof s[l])return!0;return!1}(i)}class Kv{constructor(){this._progressObserver={},this._taskCompletionResolver=new Di,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class eo extends pd{constructor(e,t,s,l){super(e,t,s,l),this.type="firestore",this._queue=new jm,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Uh(this),this._firestoreClient.terminate()}}function Ao(i){return i._firestoreClient||Uh(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Uh(i){var e;const t=i._freezeSettings(),s=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new ba(i._databaseId,d,i._persistenceKey,(M=t).host,M.ssl,M.experimentalForceLongPolling,M.experimentalAutoDetectLongPolling,M.useFetchStreams));var d,M;i._firestoreClient=new xp(i._authCredentials,i._appCheckCredentials,i._queue,s)}function yd(i,e,t){const s=new Di;return i.asyncQueue.enqueue((0,Oe.Z)(function*(){try{yield Om(i,t),yield Dc(i,e),s.resolve()}catch(l){const d=l;if(!("FirebaseError"===(y=d).name?y.code===At.FAILED_PRECONDITION||y.code===At.UNIMPLEMENTED:!(typeof DOMException<"u"&&y instanceof DOMException)||22===y.code||20===y.code||11===y.code))throw d;Us("Error enabling offline persistence. Falling back to persistence disabled: "+d),s.reject(d)}var y})).then(()=>s.promise)}function Op(i){if(i._initialized||i._terminated)throw new Yt(At.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class rl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rl(j.fromBase64String(e))}catch(t){throw new Yt(At.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new rl(j.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class il{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Yt(At.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Lu{constructor(e){this._methodName=e}}class vd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Yt(At.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Yt(At.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return R(this._lat,e._lat)||R(this._long,e._long)}}const Hm=/^__.*__$/;class Gm{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new xl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gl(e,this.data,t,this.fieldTransforms)}}class Fp{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new xl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rn()}}class Hh{constructor(e,t,s,l,d,y){this.settings=e,this.databaseId=t,this.yt=s,this.ignoreUndefinedProperties=l,void 0===d&&this.na(),this.fieldTransforms=d||[],this.fieldMask=y||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Hh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ia({path:s,oa:!1});return l.ua(e),l}ca(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ia({path:s,oa:!1});return l.na(),l}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Kh(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(zm(this.sa)&&Hm.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class e_{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=s||Ru(e)}da(e,t,s,l=!1){return new Hh({sa:e,methodName:t,fa:s,path:gn.emptyPath(),oa:!1,la:l},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function fu(i){const e=i._freezeSettings(),t=Ru(i._databaseId);return new e_(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Mc(i,e,t,s,l,d={}){const y=i.da(d.merge||d.mergeFields?2:0,e,t,l);Up("Data must be an object, but it was:",y,s);const M=Zm(s,y);let Z,ne;if(d.merge)Z=new sa(y.fieldMask),ne=y.fieldTransforms;else if(d.mergeFields){const ye=[];for(const Ke of d.mergeFields){const Ct=Yo(e,Ke,t);if(!y.contains(Ct))throw new Yt(At.INVALID_ARGUMENT,`Field '${Ct}' is specified in your field mask but missing from your input data.`);Bp(ye,Ct)||ye.push(Ct)}Z=new sa(ye),ne=y.fieldTransforms.filter(Ke=>Z.covers(Ke.field))}else Z=null,ne=y.fieldTransforms;return new Gm(new oa(M),Z,ne)}class xc extends Lu{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xc}}function Lp(i,e,t){return new Hh({sa:3,fa:e.settings.fa,methodName:i._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class Gh extends Lu{_toFieldTransform(e){return new Fa(e.path,new es)}isEqual(e){return e instanceof Gh}}class Wm extends Lu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Lp(this,e,!0),s=this._a.map(d=>Vu(d,t)),l=new la(s);return new Fa(e.path,l)}isEqual(e){return this===e}}class qm extends Lu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Lp(this,e,!0),s=this._a.map(d=>Vu(d,t)),l=new Ma(s);return new Fa(e.path,l)}isEqual(e){return this===e}}class Km extends Lu{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new dl(e.yt,Mt(e.yt,this.wa));return new Fa(e.path,t)}isEqual(e){return this===e}}function zh(i,e,t,s){const l=i.da(1,e,t);Up("Data must be an object, but it was:",l,s);const d=[],y=oa.empty();Qi(s,(Z,ne)=>{const ye=qh(e,Z,t);ne=(0,qe.m9)(ne);const Ke=l.ca(ye);if(ne instanceof xc)d.push(ye);else{const Ct=Vu(ne,Ke);null!=Ct&&(d.push(ye),y.set(ye,Ct))}});const M=new sa(d);return new Fp(y,M,l.fieldTransforms)}function Wh(i,e,t,s,l,d){const y=i.da(1,e,t),M=[Yo(e,s,t)],Z=[l];if(d.length%2!=0)throw new Yt(At.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ct=0;Ct<d.length;Ct+=2)M.push(Yo(e,d[Ct])),Z.push(d[Ct+1]);const ne=[],ye=oa.empty();for(let Ct=M.length-1;Ct>=0;--Ct)if(!Bp(ne,M[Ct])){const sn=M[Ct];let fn=Z[Ct];fn=(0,qe.m9)(fn);const er=y.ca(sn);if(fn instanceof xc)ne.push(sn);else{const Cr=Vu(fn,er);null!=Cr&&(ne.push(sn),ye.set(sn,Cr))}}const Ke=new sa(ne);return new Fp(ye,Ke,y.fieldTransforms)}function t_(i,e,t,s=!1){return Vu(t,i.da(s?4:3,e))}function Vu(i,e){if(Vp(i=(0,qe.m9)(i)))return Up("Unsupported field value:",e,i),Zm(i,e);if(i instanceof Lu)return function(t,s){if(!zm(s.sa))throw s.ha(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ha(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,s){const l=[];let d=0;for(const y of t){let M=Vu(y,s.aa(d));null==M&&(M={nullValue:"NULL_VALUE"}),l.push(M),d++}return{arrayValue:{values:l}}}(i,e)}return function(t,s){if(null===(t=(0,qe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Mt(s.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=Be.fromDate(t);return{timestampValue:Zl(s.yt,l)}}if(t instanceof Be){const l=new Be(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Zl(s.yt,l)}}if(t instanceof vd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rl)return{bytesValue:Gc(s.yt,t._byteString)};if(t instanceof Xs){const l=s.databaseId,d=t.firestore._databaseId;if(!d.isEqual(l))throw s.ha(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:If(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.ha(`Unsupported field value: ${Rh(t)}`)}(i,e)}function Zm(i,e){const t={};return vo(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(i,(s,l)=>{const d=Vu(l,e.ra(s));null!=d&&(t[s]=d)}),{mapValue:{fields:t}}}function Vp(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Be||i instanceof vd||i instanceof rl||i instanceof Xs||i instanceof Lu)}function Up(i,e,t){if(!Vp(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Rh(t);throw e.ha("an object"===s?i+" a custom object":i+" "+s)}var s}function Yo(i,e,t){if((e=(0,qe.m9)(e))instanceof il)return e._internalPath;if("string"==typeof e)return qh(i,e);throw Kh("Field path arguments must be of type string or ",i,!1,void 0,t)}const Ym=new RegExp("[~\\*/\\[\\]]");function qh(i,e,t){if(e.search(Ym)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new il(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Kh(i,e,t,s,l){const d=s&&!s.isEmpty(),y=void 0!==l;let M=`Function ${e}() called with invalid data`;t&&(M+=" (via `toFirestore()`)"),M+=". ";let Z="";return(d||y)&&(Z+=" (found",d&&(Z+=` in field ${s}`),y&&(Z+=` in document ${l}`),Z+=")"),new Yt(At.INVALID_ARGUMENT,M+i+Z)}function Bp(i,e){return i.some(t=>t.isEqual(e))}class _d{constructor(e,t,s,l,d){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Xs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ed("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qm extends _d{data(){return super.data()}}function Ed(i,e){return"string"==typeof e?qh(i,e):e instanceof il?e._internalPath:e._delegate._internalPath}function Uu(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Yt(At.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jp{}class wd extends jp{}function Ol(i,e,...t){let s=[];e instanceof jp&&s.push(e),s=s.concat(t),function(l){const d=l.filter(M=>M instanceof Id).length,y=l.filter(M=>M instanceof bd).length;if(d>1||d>0&&y>0)throw new Yt(At.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class bd extends wd{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new bd(e,t,s)}_apply(e){const t=this._parse(e);return iy(e._query,t),new na(e.firestore,e.converter,Wu(e._query,t))}_parse(e){const t=fu(e.firestore);return function(l,d,y,M,Z,ne,ye){let Ke;if(Z.isKeyField()){if("array-contains"===ne||"array-contains-any"===ne)throw new Yt(At.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ne}' queries on documentId().`);if("in"===ne||"not-in"===ne){Pc(ye,ne);const Ct=[];for(const sn of ye)Ct.push(Qh(M,l,sn));Ke={arrayValue:{values:Ct}}}else Ke=Qh(M,l,ye)}else"in"!==ne&&"not-in"!==ne&&"array-contains-any"!==ne||Pc(ye,ne),Ke=t_(y,"where",ye,"in"===ne||"not-in"===ne);return Ir.create(Z,ne,Ke)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Id extends jp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Id(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Ai.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,l){let d=s;const y=l.getFlattenedFilters();for(const M of y)iy(d,M),d=Wu(d,M)}(e._query,t),new na(e.firestore,e.converter,Wu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ga extends wd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ga(e,t)}_apply(e){const t=function(s,l,d){if(null!==s.startAt)throw new Yt(At.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Yt(At.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const y=new vu(l,d);return function(M,Z){if(null===bu(M)){const ne=Sl(M);null!==ne&&$p(0,ne,Z.field)}}(s,y),y}(e._query,this._field,this._direction);return new na(e.firestore,e.converter,function(s,l){const d=s.explicitOrderBy.concat([l]);return new Zo(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Zh extends wd{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Zh(e,t,s)}_apply(e){return new na(e.firestore,e.converter,qu(e._query,this._limit,this._limitType))}}class ka extends wd{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new ka(e,t,s)}_apply(e){const t=ry(e,this.type,this._docOrFields,this._inclusive);return new na(e.firestore,e.converter,(l=t,new Zo((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)));var s,l}}class Yh extends wd{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Yh(e,t,s)}_apply(e){const t=ry(e,this.type,this._docOrFields,this._inclusive);return new na(e.firestore,e.converter,(l=t,new Zo((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)));var s,l}}function ry(i,e,t,s){if(t[0]=(0,qe.m9)(t[0]),t[0]instanceof _d)return function(l,d,y,M,Z){if(!M)throw new Yt(At.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${y}().`);const ne=[];for(const ye of Al(l))if(ye.field.isKeyField())ne.push(Wa(d,M.key));else{const Ke=M.data.field(ye.field);if(Sn(Ke))throw new Yt(At.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ke){const Ct=ye.field.canonicalString();throw new Yt(At.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ct}' (used as the orderBy) does not exist.`)}ne.push(Ke)}return new cr(ne,Z)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const l=fu(i.firestore);return function(d,y,M,Z,ne,ye){const Ke=d.explicitOrderBy;if(ne.length>Ke.length)throw new Yt(At.INVALID_ARGUMENT,`Too many arguments provided to ${Z}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ct=[];for(let sn=0;sn<ne.length;sn++){const fn=ne[sn];if(Ke[sn].field.isKeyField()){if("string"!=typeof fn)throw new Yt(At.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Z}(), but got a ${typeof fn}`);if(!jc(d)&&-1!==fn.indexOf("/"))throw new Yt(At.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Z}() must be a plain document ID, but '${fn}' contains a slash.`);const er=d.path.child(wt.fromString(fn));if(!Xt.isDocumentKey(er))throw new Yt(At.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Z}() must result in a valid document path, but '${er}' is not because it contains an odd number of segments.`);const Cr=new Xt(er);Ct.push(Wa(y,Cr))}else{const er=t_(M,Z,fn);Ct.push(er)}}return new cr(Ct,ye)}(i._query,i.firestore._databaseId,l,e,t,s)}}function Qh(i,e,t){if("string"==typeof(t=(0,qe.m9)(t))){if(""===t)throw new Yt(At.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jc(e)&&-1!==t.indexOf("/"))throw new Yt(At.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(wt.fromString(t));if(!Xt.isDocumentKey(s))throw new Yt(At.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Wa(i,new Xt(s))}if(t instanceof Xs)return Wa(i,t._key);throw new Yt(At.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rh(t)}.`)}function Pc(i,e){if(!Array.isArray(i)||0===i.length)throw new Yt(At.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Yt(At.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function iy(i,e){if(e.isInequality()){const s=Sl(i),l=e.field;if(null!==s&&!s.isEqual(l))throw new Yt(At.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${l.toString()}'`);const d=bu(i);null!==d&&$p(0,l,d)}const t=function(s,l){for(const d of s)for(const y of d.getFlattenedFilters())if(l.indexOf(y.op)>=0)return y.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Yt(At.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function $p(i,e,t){if(!t.isEqual(e))throw new Yt(At.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Jh{convertValue(e,t="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ft(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Rn()}}convertObject(e,t){const s={};return Qi(e.fields,(l,d)=>{s[l]=this.convertValue(d,t)}),s}convertGeoPoint(e){return new vd(Ue(e.latitude),Ue(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Rr(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ln(e));default:return null}}convertTimestamp(e){const t=ke(e);return new Be(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=wt.fromString(e);Vn(Sg(s));const l=new ma(s.get(1),s.get(3)),d=new Xt(s.popFirst(5));return l.isEqual(t)||wr(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function Cd(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class Xh extends Jh{constructor(e){super(),this.firestore=e}convertBytes(e){return new rl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xs(this.firestore,null,t)}}class Bu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class El extends _d{constructor(e,t,s,l,d,y){super(e,t,s,l,y),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ed("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class kc extends El{data(e={}){return super.data(e)}}class wl{constructor(e,t,s,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Bu(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new kc(this._firestore,this._userDataWriter,s.key,s,new Bu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Yt(At.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(y=>({type:"added",doc:new kc(s._firestore,s._userDataWriter,y.doc.key,y.doc,new Bu(s._snapshot.mutatedKeys.has(y.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:d++}))}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(y=>l||3!==y.type).map(y=>{const M=new kc(s._firestore,s._userDataWriter,y.doc.key,y.doc,new Bu(s._snapshot.mutatedKeys.has(y.doc.key),s._snapshot.fromCache),s.query.converter);let Z=-1,ne=-1;return 0!==y.type&&(Z=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),1!==y.type&&(d=d.add(y.doc),ne=d.indexOf(y.doc.key)),{type:ef(y.type),doc:M,oldIndex:Z,newIndex:ne}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ef(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rn()}}function tf(i,e){return i instanceof El&&e instanceof El?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof wl&&e instanceof wl&&i._firestore===e._firestore&&Mp(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class Fl extends Jh{constructor(e){super(),this.firestore=e}convertBytes(e){return new rl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xs(this.firestore,null,t)}}function hy(i,e,t){i=Bi(i,Xs);const s=Bi(i.firestore,eo),l=Cd(i.converter,e,t);return Rc(s,[Mc(fu(s),"setDoc",i._key,l,null!==i.converter,t).toMutation(i._key,gs.none())])}function fy(i,e,t,...s){i=Bi(i,Xs);const l=Bi(i.firestore,eo),d=fu(l);let y;return y="string"==typeof(e=(0,qe.m9)(e))||e instanceof il?Wh(d,"updateDoc",i._key,e,t,s):zh(d,"updateDoc",i._key,e),Rc(l,[y.toMutation(i._key,gs.exists(!0))])}function py(i,...e){var t,s,l;i=(0,qe.m9)(i);let d={includeMetadataChanges:!1},y=0;"object"!=typeof e[y]||Vh(e[y])||(d=e[y],y++);const M={includeMetadataChanges:d.includeMetadataChanges};if(Vh(e[y])){const Ke=e[y];e[y]=null===(t=Ke.next)||void 0===t?void 0:t.bind(Ke),e[y+1]=null===(s=Ke.error)||void 0===s?void 0:s.bind(Ke),e[y+2]=null===(l=Ke.complete)||void 0===l?void 0:l.bind(Ke)}let Z,ne,ye;if(i instanceof Xs)ne=Bi(i.firestore,eo),ye=cl(i._key.path),Z={next:Ke=>{e[y]&&e[y](Hp(ne,i,Ke))},error:e[y+1],complete:e[y+2]};else{const Ke=Bi(i,na);ne=Bi(Ke.firestore,eo),ye=Ke._query;const Ct=new Fl(ne);Z={next:sn=>{e[y]&&e[y](new wl(ne,Ct,Ke,sn))},error:e[y+1],complete:e[y+2]},Uu(i._query)}return function(Ke,Ct,sn,fn){const er=new Fh(fn),Cr=new od(Ct,er,sn);return Ke.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return dp(yield nl(Ke),Cr)})),()=>{er.bc(),Ke.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return yh(yield nl(Ke),Cr)}))}}(Ao(ne),ye,M,Z)}function Rc(i,e){return function(t,s){const l=new Di;return t.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function Nv(i,e,t){return Da.apply(this,arguments)}(yield du(t),s,l)})),l.promise}(Ao(i),e)}function Hp(i,e,t){const s=t.docs.get(e._key),l=new Fl(i);return new El(i,l,e._key,s,new Bu(t.hasPendingWrites,t.fromCache),e.converter)}const l_={maxAttempts:5};class gy{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=fu(e)}set(e,t,s){this._verifyNotCommitted();const l=pu(e,this._firestore),d=Cd(l.converter,t,s),y=Mc(this._dataReader,"WriteBatch.set",l._key,d,null!==l.converter,s);return this._mutations.push(y.toMutation(l._key,gs.none())),this}update(e,t,s,...l){this._verifyNotCommitted();const d=pu(e,this._firestore);let y;return y="string"==typeof(t=(0,qe.m9)(t))||t instanceof il?Wh(this._dataReader,"WriteBatch.update",d._key,t,s,l):zh(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(y.toMutation(d._key,gs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pu(e,this._firestore);return this._mutations=this._mutations.concat(new Yu(t._key,gs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Yt(At.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pu(i,e){if((i=(0,qe.m9)(i)).firestore!==e)throw new Yt(At.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class u_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=fu(e)}get(e){const t=pu(e,this._firestore),s=new Xh(this._firestore);return this._transaction.lookup([t._key]).then(l=>{if(!l||1!==l.length)return Rn();const d=l[0];if(d.isFoundDocument())return new _d(this._firestore,s,d.key,d,t.converter);if(d.isNoDocument())return new _d(this._firestore,s,t._key,null,t.converter);throw Rn()})}set(e,t,s){const l=pu(e,this._firestore),d=Cd(l.converter,t,s),y=Mc(this._dataReader,"Transaction.set",l._key,d,null!==l.converter,s);return this._transaction.set(l._key,y),this}update(e,t,s,...l){const d=pu(e,this._firestore);let y;return y="string"==typeof(t=(0,qe.m9)(t))||t instanceof il?Wh(this._dataReader,"Transaction.update",d._key,t,s,l):zh(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,y),this}delete(e){const t=pu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=pu(e,this._firestore),s=new Fl(this._firestore);return super.get(e).then(l=>new El(this._firestore,s,t._key,l._document,new Bu(!1,!1),t.converter))}}function nf(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Yt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function zp(){if(typeof Uint8Array>"u")throw new Yt("unimplemented","Uint8Arrays are not available in this environment.")}function Wp(){if(!function N(){return typeof atob<"u"}())throw new Yt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){ri=Ot.SDK_VERSION,(0,Ot._registerComponent)(new Tt.wA("firestore",(t,{instanceIdentifier:s,options:l})=>{const d=t.getProvider("app").getImmediate(),y=new eo(new al(t.getProvider("auth-internal")),new Cl(t.getProvider("app-check-internal")),function(M,Z){if(!Object.prototype.hasOwnProperty.apply(M.options,["projectId"]))throw new Yt(At.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ma(M.options.projectId,Z)}(d,s),d);return l=Object.assign({useFetchStreams:e},l),y._setSettings(l),y},"PUBLIC").setMultipleInstances(!0)),(0,Ot.registerVersion)(ni,"3.8.3",i),(0,Ot.registerVersion)(ni,"3.8.3","esm2017")}();class ju{constructor(e){this._delegate=e}static fromBase64String(e){return Wp(),new ju(rl.fromBase64String(e))}static fromUint8Array(e){return zp(),new ju(rl.fromUint8Array(e))}toBase64(){return Wp(),this._delegate.toBase64()}toUint8Array(){return zp(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ll(i){return function m_(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(i,["next","error","complete"])}class y_{enableIndexedDbPersistence(e,t){return function Yv(i,e){Op(i=Bi(i,eo));const t=Ao(i),s=i._freezeSettings(),l=new fd;return yd(t,l,new bc(l,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Bh(i){Op(i=Bi(i,eo));const e=Ao(i),t=i._freezeSettings(),s=new fd;return yd(e,s,new Hv(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Rp(i){if(i._initialized&&!i._terminated)throw new Yt(At.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Di;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Oe.Z)(function*(){try{yield(t=(0,Oe.Z)(function*(s){if(!Co.C())return Promise.resolve();const l=s+"main";yield Co.delete(l)}),function(s){return t.apply(this,arguments)})(ih(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class $u{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof ma||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Us("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function km(i,e,t,s={}){var l;const d=(i=Bi(i,pd))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&Us("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let y,M;if("string"==typeof s.mockUserToken)y=s.mockUserToken,M=xn.MOCK_USER;else{y=(0,qe.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const Z=s.mockUserToken.sub||s.mockUserToken.user_id;if(!Z)throw new Yt(At.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new xn(Z)}i._authCredentials=new fa(new Oo(y,M))}}(this._delegate,e,t,s)}enableNetwork(){return function jh(i){return function Sc(i){return i.asyncQueue.enqueue((0,Oe.Z)(function*(){const e=yield Ou(i),t=yield cu(i);return e.setNetworkEnabled(!0),function(s){const l=Cn(s);return l._u.delete(0),mc(l)}(t)}))}(Ao(i=Bi(i,eo)))}(this._delegate)}disableNetwork(){return function $h(i){return function Ac(i){return i.asyncQueue.enqueue((0,Oe.Z)(function*(){const e=yield Ou(i),t=yield cu(i);return e.setNetworkEnabled(!1),(s=(0,Oe.Z)(function*(l){const d=Cn(l);d._u.add(0),yield iu(d),d.gu.set("Offline")}),function(l){return s.apply(this,arguments)})(t);var s}))}(Ao(i=Bi(i,eo)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,Am("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Qv(i){return function(e){const t=new Di;return e.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function bm(i,e){return Ip.apply(this,arguments)}(yield du(e),t)})),t.promise}(Ao(i=Bi(i,eo)))}(this._delegate)}onSnapshotsInSync(e){return function a_(i,e){return function Vm(i,e){const t=new Fh(e);return i.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return s=yield nl(i),l=t,Cn(s).Ru.add(l),void l.next();var s,l})),()=>{t.bc(),i.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return s=yield nl(i),l=t,void Cn(s).Ru.delete(l);var s,l}))}}(Ao(i=Bi(i,eo)),Vh(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Yt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Gs(this,Nh(this._delegate,e))}catch(t){throw pr(t,"collection()","Firestore.collection()")}}doc(e){try{return new ol(this,Oh(this._delegate,e))}catch(t){throw pr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Sa(this,function zv(i,e){if(i=Bi(i,pd),kh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Yt(At.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new na(i,null,(t=e,new Zo(wt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw pr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function c_(i,e,t){i=Bi(i,eo);const s=Object.assign(Object.assign({},l_),t);return function(l){if(l.maxAttempts<1)throw new Yt(At.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(l,d,y){const M=new Di;return l.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){const Z=yield function Fu(i){return Ta(i).then(e=>e.datastore)}(l);new qv(l.asyncQueue,Z,y,d,M).run()})),M.promise}(Ao(i),l=>e(new u_(i,l)),s)}(this._delegate,t=>e(new v_(this,t)))}batch(){return Ao(this._delegate),new Zp(new gy(this._delegate,e=>Rc(this._delegate,e)))}loadBundle(e){return function $m(i,e){const t=Ao(i=Bi(i,eo)),s=new Kv;return function Um(i,e,t,s){const l=function(d,y){let M;return M="string"==typeof d?(new TextEncoder).encode(d):d,Z=function(Z,ne){if(Z instanceof Uint8Array)return Nm(Z,void 0);if(Z instanceof ArrayBuffer)return Nm(new Uint8Array(Z),void 0);if(Z instanceof ReadableStream)return Z.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new Lh(Z,y);var Z}(t,Ru(e));i.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){!function Ph(i,e,t){const s=Cn(i);var l;(l=(0,Oe.Z)(function*(d,y,M){try{const Z=yield y.getMetadata();if(yield function(Ct,sn){const fn=Cn(Ct),er=Hs(sn.createTime);return fn.persistence.runTransaction("hasNewerBundle","readonly",Cr=>fn.Ns.getBundleMetadata(Cr,sn.id)).then(Cr=>!!Cr&&Cr.createTime.compareTo(er)>=0)}(d.localStore,Z))return yield y.close(),M._completeWith({taskState:"Success",documentsLoaded:(Ct=Z).totalDocuments,bytesLoaded:Ct.totalBytes,totalDocuments:Ct.totalDocuments,totalBytes:Ct.totalBytes}),Promise.resolve(new Set);M._updateProgress(pp(Z));const ne=new Eh(Z,d.localStore,y.yt);let ye=yield y.mc();for(;ye;){const Ct=yield ne.Fu(ye);Ct&&M._updateProgress(Ct),ye=yield y.mc()}const Ke=yield ne.complete();return yield el(d,Ke.Lu,void 0),yield function(Ct,sn){const fn=Cn(Ct);return fn.persistence.runTransaction("Save bundle","readwrite",er=>fn.Ns.saveBundleMetadata(er,sn))}(d.localStore,Z),M._completeWith(Ke.progress),Promise.resolve(Ke.Bu)}catch(Z){return Us("SyncEngine",`Loading bundle failed with ${Z}`),M._failWith(Z),Promise.resolve(new Set)}var Ct}),function(d,y,M){return l.apply(this,arguments)})(s,e,t).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield du(i),l,s)}))}(t,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function Np(i,e){return function Bm(i,e){return i.asyncQueue.enqueue((0,Oe.Z)(function*(){return function(t,s){const l=Cn(t);return l.persistence.runTransaction("Get named query","readonly",d=>l.Ns.getNamedQuery(d,s))}(yield Nl(i),e)}))}(Ao(i=Bi(i,eo)),e).then(t=>t?new na(i,null,t.query):null)}(this._delegate,e).then(t=>t?new Sa(this,t):null)}}class qp extends Jh{constructor(e){super(),this.firestore=e}convertBytes(e){return new ju(new rl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ol.forKey(t,this.firestore,null)}}class v_{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new qp(e)}get(e){const t=Oc(e);return this._delegate.get(t).then(s=>new Dd(this._firestore,new El(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const l=Oc(e);return s?(nf("Transaction.set",s),this._delegate.set(l,t,s)):this._delegate.set(l,t),this}update(e,t,s,...l){const d=Oc(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...l),this}delete(e){const t=Oc(e);return this._delegate.delete(t),this}}class Zp{constructor(e){this._delegate=e}set(e,t,s){const l=Oc(e);return s?(nf("WriteBatch.set",s),this._delegate.set(l,t,s)):this._delegate.set(l,t),this}update(e,t,s,...l){const d=Oc(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...l),this}delete(e){const t=Oc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class gu{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new kc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new bl(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=gu.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let d=l.get(t);return d||(d=new gu(e,new qp(e),t),l.set(t,d)),d}}gu.INSTANCES=new WeakMap;class ol{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qp(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Yt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ol(t,new Xs(t._delegate,s,new Xt(e)))}static forKey(e,t,s){return new ol(t,new Xs(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Gs(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Gs(this.firestore,Nh(this._delegate,e))}catch(t){throw pr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,qe.m9)(e))instanceof Xs&&Rm(this._delegate,e)}set(e,t){t=nf("DocumentReference.set",t);try{return t?hy(this._delegate,e,t):hy(this._delegate,e)}catch(s){throw pr(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?fy(this._delegate,e):fy(this._delegate,e,t,...s)}catch(l){throw pr(l,"updateDoc()","DocumentReference.update()")}}delete(){return function s_(i){return Rc(Bi(i.firestore,eo),[new Yu(i._key,gs.none())])}(this._delegate)}onSnapshot(...e){const t=Ey(e),s=wy(e,l=>new Dd(this.firestore,new El(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return py(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?function ay(i){i=Bi(i,Xs);const e=Bi(i.firestore,eo),t=Ao(e),s=new Fl(e);return function Fm(i,e){const t=new Di;return i.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return(s=(0,Oe.Z)(function*(l,d,y){try{const M=yield function(Z,ne){const ye=Cn(Z);return ye.persistence.runTransaction("read document","readonly",Ke=>ye.localDocuments.getDocument(Ke,ne))}(l,d);M.isFoundDocument()?y.resolve(M):M.isNoDocument()?y.resolve(null):y.reject(new Yt(At.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const Z=au(M,`Failed to get document '${d} from cache`);y.reject(Z)}}),function(l,d,y){return s.apply(this,arguments)})(yield Nl(i),e,t);var s})),t.promise}(t,i._key).then(l=>new El(e,s,i._key,l,new Bu(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function ly(i){i=Bi(i,Xs);const e=Bi(i.firestore,eo);return Pp(Ao(e),i._key,{source:"server"}).then(t=>Hp(e,i,t))}(this._delegate):function oy(i){i=Bi(i,Xs);const e=Bi(i.firestore,eo);return Pp(Ao(e),i._key).then(t=>Hp(e,i,t))}(this._delegate),t.then(s=>new Dd(this.firestore,new El(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new ol(this.firestore,this._delegate.withConverter(e?gu.getInstance(this.firestore,e):null))}}function pr(i,e,t){return i.message=i.message.replace(e,t),i}function Ey(i){for(const e of i)if("object"==typeof e&&!Ll(e))return e;return{}}function wy(i,e){var t,s;let l;return l=Ll(i[0])?i[0]:Ll(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{l.next&&l.next(e(d))},error:null===(t=l.error)||void 0===t?void 0:t.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class Dd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ol(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return tf(this._delegate,e._delegate)}}class bl extends Dd{data(e){const t=this._delegate.data(e);return function bo(i,e){i||Rn()}(void 0!==t),t}}class Sa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qp(e)}where(e,t,s){try{return new Sa(this.firestore,Ol(this._delegate,function Jm(i,e,t){const s=e,l=Ed("where",i);return bd._create(l,s,t)}(e,t,s)))}catch(l){throw pr(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Sa(this.firestore,Ol(this._delegate,function n_(i,e="asc"){const t=e,s=Ed("orderBy",i);return Ga._create(s,t)}(e,t)))}catch(s){throw pr(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Sa(this.firestore,Ol(this._delegate,function _l(i){return xm("limit",i),Zh._create("limit",i,"F")}(e)))}catch(t){throw pr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Sa(this.firestore,Ol(this._delegate,function sl(i){return xm("limitToLast",i),Zh._create("limitToLast",i,"L")}(e)))}catch(t){throw pr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Sa(this.firestore,Ol(this._delegate,function ty(...i){return ka._create("startAt",i,!0)}(...e)))}catch(t){throw pr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Sa(this.firestore,Ol(this._delegate,function ny(...i){return ka._create("startAfter",i,!1)}(...e)))}catch(t){throw pr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Sa(this.firestore,Ol(this._delegate,function r_(...i){return Yh._create("endBefore",i,!1)}(...e)))}catch(t){throw pr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Sa(this.firestore,Ol(this._delegate,function i_(...i){return Yh._create("endAt",i,!0)}(...e)))}catch(t){throw pr(t,"endAt()","Query.endAt()")}}isEqual(e){return Mp(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function cy(i){i=Bi(i,na);const e=Bi(i.firestore,eo),t=Ao(e),s=new Fl(e);return function Lm(i,e){const t=new Di;return i.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return(s=(0,Oe.Z)(function*(l,d,y){try{const M=yield fc(l,d,!0),Z=new bh(d,M.Hi),ne=Z.Wu(M.documents),ye=Z.applyChanges(ne,!1);y.resolve(ye.snapshot)}catch(M){const Z=au(M,`Failed to execute query '${d} against cache`);y.reject(Z)}}),function(l,d,y){return s.apply(this,arguments)})(yield Nl(i),e,t);var s})),t.promise}(t,i._query).then(l=>new wl(e,s,i,l))}(this._delegate):"server"===e?.source?function dy(i){i=Bi(i,na);const e=Bi(i.firestore,eo),t=Ao(e),s=new Fl(e);return kp(t,i._query,{source:"server"}).then(l=>new wl(e,s,i,l))}(this._delegate):function uy(i){i=Bi(i,na);const e=Bi(i.firestore,eo),t=Ao(e),s=new Fl(e);return Uu(i._query),kp(t,i._query).then(l=>new wl(e,s,i,l))}(this._delegate),t.then(s=>new Nc(this.firestore,new wl(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Ey(e),s=wy(e,l=>new Nc(this.firestore,new wl(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return py(this._delegate,t,s)}withConverter(e){return new Sa(this.firestore,this._delegate.withConverter(e?gu.getInstance(this.firestore,e):null))}}class rf{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new bl(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Nc{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Sa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new bl(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new rf(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new bl(this._firestore,s))})}isEqual(e){return tf(this._delegate,e._delegate)}}class Gs extends Sa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ol(this.firestore,e):null}doc(e){try{return new ol(this.firestore,void 0===e?Oh(this._delegate):Oh(this._delegate,e))}catch(t){throw pr(t,"doc()","CollectionReference.doc()")}}add(e){return function o_(i,e){const t=Bi(i.firestore,eo),s=Oh(i),l=Cd(i.converter,e);return Rc(t,[Mc(fu(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,gs.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new ol(this.firestore,t))}isEqual(e){return Rm(this._delegate,e._delegate)}withConverter(e){return new Gs(this.firestore,this._delegate.withConverter(e?gu.getInstance(this.firestore,e):null))}}function Oc(i){return Bi(i,Xs)}class sf{constructor(...e){this._delegate=new il(...e)}static documentId(){return new sf(gn.keyField().canonicalString())}isEqual(e){return(e=(0,qe.m9)(e))instanceof il&&this._delegate._internalPath.isEqual(e._internalPath)}}class mu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function h_(){return new Gh("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new mu(e)}static delete(){const e=function d_(){return new xc("deleteField")}();return e._methodName="FieldValue.delete",new mu(e)}static arrayUnion(...e){const t=function f_(...i){return new Wm("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new mu(t)}static arrayRemove(...e){const t=function my(...i){return new qm("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new mu(t)}static increment(e){const t=function yy(i){return new Km("increment",i)}(e);return t._methodName="FieldValue.increment",new mu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const __={Firestore:$u,GeoPoint:vd,Timestamp:Be,Blob:ju,Transaction:v_,WriteBatch:Zp,DocumentReference:ol,DocumentSnapshot:Dd,Query:Sa,QueryDocumentSnapshot:bl,QuerySnapshot:Nc,CollectionReference:Gs,FieldPath:sf,FieldValue:mu,setLogLevel:function Kp(i){!function No(i){As.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Iy(i){(function by(i,e){i.INTERNAL.registerComponent(new Tt.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),l=t.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},__)))})(i,(e,t)=>new $u(e,t,new y_)),i.registerVersion("@firebase/firestore-compat","0.3.3")}(on.Z);var Vl=H(3385),Cy=H(6217),E_=H(9260);function Dy(i,e){return function w_(i,e=O.z){return new ee.y(t=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},t)}):s=i.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(i,e)}function Yp(i,e){return Dy(i,e).pipe((0,_e.U)(t=>({payload:t,type:"query"})))}function af(i,e){return Yp(i,e).pipe((0,Ze.O)(void 0),de(),(0,_e.U)(([t,s])=>{const l=s.payload.docChanges(),d=l.map(y=>({type:y.type,payload:y}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((y,M)=>{const Z=l.find(ye=>ye.doc.ref.isEqual(y.ref)),ne=t?.payload.docs.find(ye=>ye.ref.isEqual(y.ref));Z&&JSON.stringify(Z.doc.metadata)===JSON.stringify(y.metadata)||!Z&&ne&&JSON.stringify(ne.metadata)===JSON.stringify(y.metadata)||d.push({type:"modified",payload:{oldIndex:M,newIndex:M,type:"modified",doc:y}})}),d}))}function Ty(i,e,t){return af(i,t).pipe((0,Pe.R)((s,l)=>function lf(i,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(i=function Sy(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return uf(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return uf(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return uf(i,e.oldIndex,1)}return i}(i,s))}),i}(s,l.map(d=>d.payload),e),[]),function rt(i,e=ft.y){return i=i??et,(0,Ge.e)((t,s)=>{let l,d=!0;t.subscribe((0,Qe.x)(s,y=>{const M=e(y);(d||!i(l,M))&&(d=!1,l=M,s.next(y))}))})}(),(0,_e.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function uf(i,e,t,...s){const l=i.slice();return l.splice(e,t,...s),l}function Qp(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Ay{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=af(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,_e.U)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),t.pipe((0,Ze.O)(void 0),de(),(0,Qt.h)(([s,l])=>l.length>0||!s),(0,_e.U)(([s,l])=>l),We.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Pe.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Qp(e);return Ty(this.query,t,this.afs.schedulers.outsideAngular).pipe(We.iC)}valueChanges(e={}){return Yp(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),We.iC)}get(e){return(0,Ve.D)(this.query.get(e)).pipe(We.iC)}add(e){return this.ref.add(e)}doc(e){return new Fc(this.ref.doc(e),this.afs)}}class Fc{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:l,query:d}=Xp(s,t);return new Ay(l,d,this.afs)}snapshotChanges(){return function Td(i,e){return Dy(i,e).pipe((0,Ze.O)(void 0),de(),(0,_e.U)(([t,s])=>s.exists?t?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(We.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,_e.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ve.D)(this.ref.get(e)).pipe(We.iC)}}class Sd{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?af(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,Qt.h)(t=>t.length>0),We.iC):af(this.query,this.afs.schedulers.outsideAngular).pipe(We.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Pe.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Qp(e);return Ty(this.query,t,this.afs.schedulers.outsideAngular).pipe(We.iC)}valueChanges(e={}){return Yp(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.U)(s=>s.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),We.iC)}get(e){return(0,Ve.D)(this.query.get(e)).pipe(We.iC)}}const My=new h.OlP("angularfire2.enableFirestorePersistence"),xy=new h.OlP("angularfire2.firestore.persistenceSettings"),b_=new h.OlP("angularfire2.firestore.settings"),Jp=new h.OlP("angularfire2.firestore.use-emulator");function Xp(i,e=(t=>t)){return{query:e(i),ref:i}}let eg=(()=>{class i{constructor(t,s,l,d,y,M,Z,ne,ye,Ke,Ct,sn,fn,er,Cr,xs,ao){this.schedulers=Z;const zi=(0,St.on)(t,M,s),Uo=ye;Ke&&(0,Vl.nw)(zi,M,Ct,fn,er,Cr,sn,xs),[this.firestore,this.persistenceEnabled$]=(0,St.cc)(`${zi.name}.firestore`,"AngularFirestore",zi.name,()=>{const xi=M.runOutsideAngular(()=>zi.firestore());if(d&&xi.settings(d),Uo&&xi.useEmulator(...Uo),l&&!(0,dt.PM)(y)){const ts=()=>{try{return(0,Ve.D)(xi.enablePersistence(ne||void 0).then(()=>!0,()=>!1))}catch(Xo){return typeof console<"u"&&console.warn(Xo),(0,ze.of)(!1)}};return[xi,M.runOutsideAngular(ts)]}return[xi,(0,ze.of)(!1)]},[d,Uo,l])}collection(t,s){let l;l="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:y}=Xp(l,s),M=this.schedulers.ngZone.run(()=>d);return new Ay(M,y,this)}collectionGroup(t,s){const l=s||(y=>y),d=this.firestore.collectionGroup(t);return new Sd(l(d),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const l=this.schedulers.ngZone.run(()=>s);return new Fc(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(h.LFG(St.Dh),h.LFG(St.xv,8),h.LFG(My,8),h.LFG(b_,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(We.HU),h.LFG(xy,8),h.LFG(Jp,8),h.LFG(Vl.zQ,8),h.LFG(Vl.Qv,8),h.LFG(Vl.L6,8),h.LFG(Vl._Q,8),h.LFG(Vl.rT,8),h.LFG(Vl.lh,8),h.LFG(Vl.f7,8),h.LFG(Cy.nm,8))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),I_=(()=>{class i{constructor(){E_.Z.registerVersion("angularfire",We.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:My,useValue:!0},{provide:xy,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:[eg]}),i})()},2228:(_n,at,H)=>{"use strict";H.d(at,{Qv:()=>St,Wq:()=>et,Xz:()=>rt,l4:()=>Qt});var h=H(4650),O=H(9646),ee=H(8996),Ve=H(5363),ze=H(3900),We=H(4004),Ze=H(3151),Ge=H(2122),Qe=H(2011),de=H(6217),_e=H(9260);const ft=new h.OlP("angularfire2.functions.origin"),rt=new h.OlP("angularfire2.functions.region"),et=new h.OlP("angularfire2.functions.use-emulator");let Qt=(()=>{class dt{constructor(on,Oe,Ot,Tt,Wt,qe,lt,Dt){const pt=lt,Rt=(0,O.of)(void 0).pipe((0,Ve.Q)(Tt.outsideAngular),(0,ze.w)(()=>H.e(818).then(H.bind(H,818))),(0,We.U)(()=>(0,Qe.on)(on,Ot,Oe)),(0,We.U)(ht=>(0,Qe.cc)(`${ht.name}.functions.${Wt||qe}`,"AngularFireFunctions",ht.name,()=>{let yt;if(Wt&&qe)throw new Error("REGION and ORIGIN can't be used at the same time.");return yt=ht.functions(Wt||qe||void 0),pt&&yt.useEmulator(...pt),yt},[Wt,qe,pt])),(0,Ze.d)({bufferSize:1,refCount:!1}));return this.httpsCallable=(ht,yt)=>Me=>(0,ee.D)(Rt).pipe((0,Ve.Q)(Tt.insideAngular),(0,ze.w)(tt=>tt.httpsCallable(ht,yt)(Me)),(0,We.U)(tt=>tt.data)),(0,Qe.pX)(this,Rt,Ot)}}return dt.\u0275fac=function(on){return new(on||dt)(h.LFG(Qe.Dh),h.LFG(Qe.xv,8),h.LFG(h.R0b),h.LFG(Ge.HU),h.LFG(rt,8),h.LFG(ft,8),h.LFG(et,8),h.LFG(de.nm,8))},dt.\u0275prov=h.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"any"}),dt})(),St=(()=>{class dt{constructor(){_e.Z.registerVersion("angularfire",Ge.q4.full,"fn-compat")}}return dt.\u0275fac=function(on){return new(on||dt)},dt.\u0275mod=h.oAB({type:dt}),dt.\u0275inj=h.cJS({providers:[Qt]}),dt})()},2011:(_n,at,H)=>{"use strict";H.d(at,{Dh:()=>Ge,GT:()=>We,cc:()=>rt,hO:()=>ft,on:()=>de,pX:()=>ze,xv:()=>Qe});var h=H(4650),O=H(9260),ee=H(2122);_n=H.hmd(_n);const Ve=["ngOnDestroy"],ze=(dt,pn,on,Oe={})=>new Proxy(dt,{get:(Ot,Tt)=>on.runOutsideAngular(()=>{var Wt;if(dt[Tt])return!(null===(Wt=Oe?.spy)||void 0===Wt)&&Wt.get&&Oe.spy.get(Tt,dt[Tt]),dt[Tt];if(Ve.indexOf(Tt)>-1)return()=>{};const qe=pn.toPromise().then(lt=>{const Dt=lt&&lt[Tt];return"function"==typeof Dt?Dt.bind(lt):Dt&&Dt.then?Dt.then(pt=>on.run(()=>pt)):on.run(()=>Dt)});return new Proxy(()=>{},{get:(lt,Dt)=>qe[Dt],apply:(lt,Dt,pt)=>qe.then(Rt=>{var ht;const yt=Rt&&Rt(...pt);return!(null===(ht=Oe?.spy)||void 0===ht)&&ht.apply&&Oe.spy.apply(Tt,pt,yt),yt})})})}),We=(dt,pn)=>{pn.forEach(on=>{Object.getOwnPropertyNames(on.prototype||on).forEach(Oe=>{Object.defineProperty(dt.prototype,Oe,Object.getOwnPropertyDescriptor(on.prototype||on,Oe))})})};class Ze{constructor(pn){return pn}}const Ge=new h.OlP("angularfire2.app.options"),Qe=new h.OlP("angularfire2.app.name");function de(dt,pn,on){const Ot="object"==typeof on&&on||{};Ot.name=Ot.name||"string"==typeof on&&on||"[DEFAULT]";const Wt=O.Z.apps.filter(qe=>qe&&qe.name===Ot.name)[0]||pn.runOutsideAngular(()=>O.Z.initializeApp(dt,Ot));try{JSON.stringify(dt)!==JSON.stringify(Wt.options)&&_e("error",`${Wt.name} Firebase App already initialized with different options${_n.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ze(Wt)}const _e=(dt,...pn)=>{(0,h.X6Q)()&&typeof console<"u"&&console[dt](...pn)},Pe={provide:Ze,useFactory:de,deps:[Ge,h.R0b,[new h.FiY,Qe]]};let ft=(()=>{class dt{constructor(on){O.Z.registerVersion("angularfire",ee.q4.full,"core"),O.Z.registerVersion("angularfire",ee.q4.full,"app-compat"),O.Z.registerVersion("angular",h.q4F.full,on.toString())}static initializeApp(on,Oe){return{ngModule:dt,providers:[{provide:Ge,useValue:on},{provide:Qe,useValue:Oe}]}}}return dt.\u0275fac=function(on){return new(on||dt)(h.LFG(h.Lbi))},dt.\u0275mod=h.oAB({type:dt}),dt.\u0275inj=h.cJS({providers:[Pe]}),dt})();function rt(dt,pn,on,Oe,Ot){const[,Tt,Wt]=globalThis.\u0275AngularfireInstanceCache.find(qe=>qe[0]===dt)||[];if(Tt)return function et(dt,pn){try{return dt.toString()===pn.toString()}catch{return dt===pn}}(Ot,Wt)||(St("error",`${pn} was already initialized on the ${on} Firebase App with different settings.${Qt?" You may need to reload as Firebase is not HMR aware.":""}`),St("warn",{is:Ot,was:Wt})),Tt;{const qe=Oe();return globalThis.\u0275AngularfireInstanceCache.push([dt,qe,Ot]),qe}}const Qt=!!_n.hot,St=(dt,...pn)=>{(0,h.X6Q)()&&typeof console<"u"&&console[dt](...pn)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(_n,at,H)=>{"use strict";H.d(at,{q4:()=>Qi,iC:()=>Aa,HU:()=>Qs,vb:()=>Rr,JM:()=>Sn});var h=H(4650),O=H(259),ee=H(5861),Ve=H(9681),ze=H(2090),We=H(4859),Ze=H(1877),Ge=H(8766);const Qe="@firebase/installations",Pe="w:0.6.3",ft="FIS_v2",pn=new ze.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function on(V){return V instanceof ze.ZR&&V.code.includes("request-failed")}function Oe({projectId:V}){return`https://firebaseinstallations.googleapis.com/v1/projects/${V}/installations`}function Ot(V){return{token:V.token,requestStatus:2,expiresIn:Rt(V.expiresIn),creationTime:Date.now()}}function Tt(V,q){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,ee.Z)(function*(V,q){const je=(yield q.json()).error;return pn.create("request-failed",{requestName:V,serverCode:je.code,serverMessage:je.message,serverStatus:je.status})})).apply(this,arguments)}function qe({apiKey:V}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V})}function lt(V,{refreshToken:q}){const oe=qe(V);return oe.append("Authorization",function ht(V){return`${ft} ${V}`}(q)),oe}function Dt(V){return pt.apply(this,arguments)}function pt(){return(pt=(0,ee.Z)(function*(V){const q=yield V();return q.status>=500&&q.status<600?V():q})).apply(this,arguments)}function Rt(V){return Number(V.replace("s","000"))}function yt(V,q){return Me.apply(this,arguments)}function Me(){return(Me=(0,ee.Z)(function*({appConfig:V,heartbeatServiceProvider:q},{fid:oe}){const je=Oe(V),ct=qe(V),Nt=q.getImmediate({optional:!0});if(Nt){const cr=yield Nt.getHeartbeatsHeader();cr&&ct.append("x-firebase-client",cr)}const Xn={method:"POST",headers:ct,body:JSON.stringify({fid:oe,authVersion:ft,appId:V.appId,sdkVersion:Pe})},mr=yield Dt(()=>fetch(je,Xn));if(mr.ok){const cr=yield mr.json();return{fid:cr.fid||oe,registrationStatus:2,refreshToken:cr.refreshToken,authToken:Ot(cr.authToken)}}throw yield Tt("Create Installation",mr)})).apply(this,arguments)}function tt(V){return new Promise(q=>{setTimeout(q,V)})}const jt=/^[cdef][\w-]{21}$/;function It(){try{const V=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(V),V[0]=112+V[0]%16;const oe=function Nn(V){return function ut(V){return btoa(String.fromCharCode(...V)).replace(/\+/g,"-").replace(/\//g,"_")}(V).substr(0,22)}(V);return jt.test(oe)?oe:""}catch{return""}}function yn(V){return`${V.appName}!${V.appId}`}const Ar=new Map;function en(V,q){const oe=yn(V);Lt(oe,q),function mn(V,q){const oe=function Un(){return!Bn&&"BroadcastChannel"in self&&(Bn=new BroadcastChannel("[Firebase] FID Change"),Bn.onmessage=V=>{Lt(V.data.key,V.data.fid)}),Bn}();oe&&oe.postMessage({key:V,fid:q}),function ei(){0===Ar.size&&Bn&&(Bn.close(),Bn=null)}()}(oe,q)}function Lt(V,q){const oe=Ar.get(V);if(oe)for(const je of oe)je(q)}let Bn=null;const dr="firebase-installations-store";let ti=null;function xr(){return ti||(ti=(0,Ge.X3)("firebase-installations-database",1,{upgrade:(V,q)=>{0===q&&V.createObjectStore(dr)}})),ti}function bn(V,q){return gi.apply(this,arguments)}function gi(){return(gi=(0,ee.Z)(function*(V,q){const oe=yn(V),ct=(yield xr()).transaction(dr,"readwrite"),Nt=ct.objectStore(dr),dn=yield Nt.get(oe);return yield Nt.put(q,oe),yield ct.done,(!dn||dn.fid!==q.fid)&&en(V,q.fid),q})).apply(this,arguments)}function yr(V){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,ee.Z)(function*(V){const q=yn(V),je=(yield xr()).transaction(dr,"readwrite");yield je.objectStore(dr).delete(q),yield je.done})).apply(this,arguments)}function mi(V,q){return zs.apply(this,arguments)}function zs(){return(zs=(0,ee.Z)(function*(V,q){const oe=yn(V),ct=(yield xr()).transaction(dr,"readwrite"),Nt=ct.objectStore(dr),dn=yield Nt.get(oe),Xn=q(dn);return void 0===Xn?yield Nt.delete(oe):yield Nt.put(Xn,oe),yield ct.done,Xn&&(!dn||dn.fid!==Xn.fid)&&en(V,Xn.fid),Xn})).apply(this,arguments)}function yi(V){return cn.apply(this,arguments)}function cn(){return(cn=(0,ee.Z)(function*(V){let q;const oe=yield mi(V.appConfig,je=>{const ct=br(je),Nt=Dn(V,ct);return q=Nt.registrationPromise,Nt.installationEntry});return""===oe.fid?{installationEntry:yield q}:{installationEntry:oe,registrationPromise:q}})).apply(this,arguments)}function br(V){return nr(V||{fid:It(),registrationStatus:0})}function Dn(V,q){if(0===q.registrationStatus){if(!navigator.onLine)return{installationEntry:q,registrationPromise:Promise.reject(pn.create("app-offline"))};const oe={fid:q.fid,registrationStatus:1,registrationTime:Date.now()},je=function jn(V,q){return ar.apply(this,arguments)}(V,oe);return{installationEntry:oe,registrationPromise:je}}return 1===q.registrationStatus?{installationEntry:q,registrationPromise:si(V)}:{installationEntry:q}}function ar(){return(ar=(0,ee.Z)(function*(V,q){try{const oe=yield yt(V,q);return bn(V.appConfig,oe)}catch(oe){throw on(oe)&&409===oe.customData.serverCode?yield yr(V.appConfig):yield bn(V.appConfig,{fid:q.fid,registrationStatus:0}),oe}})).apply(this,arguments)}function si(V){return zr.apply(this,arguments)}function zr(){return(zr=(0,ee.Z)(function*(V){let q=yield Wr(V.appConfig);for(;1===q.registrationStatus;)yield tt(100),q=yield Wr(V.appConfig);if(0===q.registrationStatus){const{installationEntry:oe,registrationPromise:je}=yield yi(V);return je||oe}return q})).apply(this,arguments)}function Wr(V){return mi(V,q=>{if(!q)throw pn.create("installation-not-found");return nr(q)})}function nr(V){return function Pi(V){return 1===V.registrationStatus&&V.registrationTime+1e4<Date.now()}(V)?{fid:V.fid,registrationStatus:0}:V}function lr(V,q){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,ee.Z)(function*({appConfig:V,heartbeatServiceProvider:q},oe){const je=Qn(V,oe),ct=lt(V,oe),Nt=q.getImmediate({optional:!0});if(Nt){const cr=yield Nt.getHeartbeatsHeader();cr&&ct.append("x-firebase-client",cr)}const Xn={method:"POST",headers:ct,body:JSON.stringify({installation:{sdkVersion:Pe,appId:V.appId}})},mr=yield Dt(()=>fetch(je,Xn));if(mr.ok)return Ot(yield mr.json());throw yield Tt("Generate Auth Token",mr)})).apply(this,arguments)}function Qn(V,{fid:q}){return`${Oe(V)}/${q}/authTokens:generate`}function jr(V){return zn.apply(this,arguments)}function zn(){return(zn=(0,ee.Z)(function*(V,q=!1){let oe;const je=yield mi(V.appConfig,Nt=>{if(!zt(Nt))throw pn.create("not-registered");const dn=Nt.authToken;if(!q&&Le(dn))return Nt;if(1===dn.requestStatus)return oe=vn(V,q),Nt;{if(!navigator.onLine)throw pn.create("app-offline");const Xn=Ye(Nt);return oe=sr(V,Xn),Xn}});return oe?yield oe:je.authToken})).apply(this,arguments)}function vn(V,q){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,ee.Z)(function*(V,q){let oe=yield wn(V.appConfig);for(;1===oe.authToken.requestStatus;)yield tt(100),oe=yield wn(V.appConfig);const je=oe.authToken;return 0===je.requestStatus?jr(V,q):je})).apply(this,arguments)}function wn(V){return mi(V,q=>{if(!zt(q))throw pn.create("not-registered");return function Te(V){return 1===V.requestStatus&&V.requestTime+1e4<Date.now()}(q.authToken)?Object.assign(Object.assign({},q),{authToken:{requestStatus:0}}):q})}function sr(V,q){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,ee.Z)(function*(V,q){try{const oe=yield lr(V,q),je=Object.assign(Object.assign({},q),{authToken:oe});return yield bn(V.appConfig,je),oe}catch(oe){if(!on(oe)||401!==oe.customData.serverCode&&404!==oe.customData.serverCode){const je=Object.assign(Object.assign({},q),{authToken:{requestStatus:0}});yield bn(V.appConfig,je)}else yield yr(V.appConfig);throw oe}})).apply(this,arguments)}function zt(V){return void 0!==V&&2===V.registrationStatus}function Le(V){return 2===V.requestStatus&&!function Re(V){const q=Date.now();return q<V.creationTime||V.creationTime+V.expiresIn<q+36e5}(V)}function Ye(V){const q={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},V),{authToken:q})}function Ie(){return(Ie=(0,ee.Z)(function*(V){const q=V,{installationEntry:oe,registrationPromise:je}=yield yi(q);return je?je.catch(console.error):jr(q).catch(console.error),oe.fid})).apply(this,arguments)}function $t(){return($t=(0,ee.Z)(function*(V,q=!1){const oe=V;return yield Tn(oe),(yield jr(oe,q)).token})).apply(this,arguments)}function Tn(V){return un.apply(this,arguments)}function un(){return(un=(0,ee.Z)(function*(V){const{registrationPromise:q}=yield yi(V);q&&(yield q)})).apply(this,arguments)}function oi(V){return pn.create("missing-app-config-values",{valueName:V})}const Ji="installations",Wi=V=>{const q=V.getProvider("app").getImmediate(),oe=function $n(V){if(!V||!V.options)throw oi("App Configuration");if(!V.name)throw oi("App Name");const q=["projectId","apiKey","appId"];for(const oe of q)if(!V.options[oe])throw oi(oe);return{appName:V.name,projectId:V.options.projectId,apiKey:V.options.apiKey,appId:V.options.appId}}(q);return{app:q,appConfig:oe,heartbeatServiceProvider:(0,Ve._getProvider)(q,"heartbeat"),_delete:()=>Promise.resolve()}},Ni=V=>{const q=V.getProvider("app").getImmediate(),oe=(0,Ve._getProvider)(q,Ji).getImmediate();return{getId:()=>function ie(V){return Ie.apply(this,arguments)}(oe),getToken:ct=>function ot(V){return $t.apply(this,arguments)}(oe,ct)}};(function lo(){(0,Ve._registerComponent)(new We.wA(Ji,Wi,"PUBLIC")),(0,Ve._registerComponent)(new We.wA("installations-internal",Ni,"PRIVATE"))})(),(0,Ve.registerVersion)(Qe,"0.6.3"),(0,Ve.registerVersion)(Qe,"0.6.3","esm2017");const Oi="@firebase/remote-config",qr=new ze.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class uo{constructor(q,oe,je,ct){this.client=q,this.storage=oe,this.storageCache=je,this.logger=ct}isCachedDataFresh(q,oe){if(!oe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const je=Date.now()-oe,ct=je<=q;return this.logger.debug(`Config fetch cache check. Cache age millis: ${je}. Cache max age millis (minimumFetchIntervalMillis setting): ${q}. Is cache hit: ${ct}.`),ct}fetch(q){var oe=this;return(0,ee.Z)(function*(){const[je,ct]=yield Promise.all([oe.storage.getLastSuccessfulFetchTimestampMillis(),oe.storage.getLastSuccessfulFetchResponse()]);if(ct&&oe.isCachedDataFresh(q.cacheMaxAgeMillis,je))return ct;q.eTag=ct&&ct.eTag;const Nt=yield oe.client.fetch(q),dn=[oe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Nt.status&&dn.push(oe.storage.setLastSuccessfulFetchResponse(Nt)),yield Promise.all(dn),Nt})()}}function ds(V=navigator){return V.languages&&V.languages[0]||V.language}class hs{constructor(q,oe,je,ct,Nt,dn){this.firebaseInstallations=q,this.sdkVersion=oe,this.namespace=je,this.projectId=ct,this.apiKey=Nt,this.appId=dn}fetch(q){var oe=this;return(0,ee.Z)(function*(){const[je,ct]=yield Promise.all([oe.firebaseInstallations.getId(),oe.firebaseInstallations.getToken()]),dn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${oe.projectId}/namespaces/${oe.namespace}:fetch?key=${oe.apiKey}`,Xn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":q.eTag||"*"},mr={sdk_version:oe.sdkVersion,app_instance_id:je,app_instance_id_token:ct,app_id:oe.appId,language_code:ds()},cr={method:"POST",headers:Xn,body:JSON.stringify(mr)},pi=fetch(dn,cr),Nr=new Promise((To,ea)=>{q.signal.addEventListener(()=>{const Bl=new Error("The operation was aborted.");Bl.name="AbortError",ea(Bl)})});let Ko;try{yield Promise.race([pi,Nr]),Ko=yield pi}catch(To){let ea="fetch-client-network";throw"AbortError"===To?.name&&(ea="fetch-timeout"),qr.create(ea,{originalErrorMessage:To?.message})}let Ir=Ko.status;const Ai=Ko.headers.get("ETag")||void 0;let Oa,Ka;if(200===Ko.status){let To;try{To=yield Ko.json()}catch(ea){throw qr.create("fetch-client-parse",{originalErrorMessage:ea?.message})}Oa=To.entries,Ka=To.state}if("INSTANCE_STATE_UNSPECIFIED"===Ka?Ir=500:"NO_CHANGE"===Ka?Ir=304:("NO_TEMPLATE"===Ka||"EMPTY_CONFIG"===Ka)&&(Oa={}),304!==Ir&&200!==Ir)throw qr.create("fetch-status",{httpStatus:Ir});return{status:Ir,eTag:Ai,config:Oa}})()}}class Je{constructor(q,oe){this.client=q,this.storage=oe}fetch(q){var oe=this;return(0,ee.Z)(function*(){const je=(yield oe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return oe.attemptFetch(q,je)})()}attemptFetch(q,{throttleEndTimeMillis:oe,backoffCount:je}){var ct=this;return(0,ee.Z)(function*(){yield function ii(V,q){return new Promise((oe,je)=>{const ct=Math.max(q-Date.now(),0),Nt=setTimeout(oe,ct);V.addEventListener(()=>{clearTimeout(Nt),je(qr.create("fetch-throttle",{throttleEndTimeMillis:q}))})})}(q.signal,oe);try{const Nt=yield ct.client.fetch(q);return yield ct.storage.deleteThrottleMetadata(),Nt}catch(Nt){if(!function it(V){if(!(V instanceof ze.ZR&&V.customData))return!1;const q=Number(V.customData.httpStatus);return 429===q||500===q||503===q||504===q}(Nt))throw Nt;const dn={throttleEndTimeMillis:Date.now()+(0,ze.$s)(je),backoffCount:je+1};return yield ct.storage.setThrottleMetadata(dn),ct.attemptFetch(q,dn)}})()}}class En{constructor(q,oe,je,ct,Nt){this.app=q,this._client=oe,this._storageCache=je,this._storage=ct,this._logger=Nt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function tr(V,q){const oe=V.target.error||void 0;return qr.create(q,{originalErrorMessage:oe&&oe?.message})}const Tr="app_namespace_store";class bs{constructor(q,oe,je,ct=function to(){return new Promise((V,q)=>{try{const oe=indexedDB.open("firebase_remote_config",1);oe.onerror=je=>{q(tr(je,"storage-open"))},oe.onsuccess=je=>{V(je.target.result)},oe.onupgradeneeded=je=>{0===je.oldVersion&&je.target.result.createObjectStore(Tr,{keyPath:"compositeKey"})}}catch(oe){q(qr.create("storage-open",{originalErrorMessage:oe?.message}))}})}()){this.appId=q,this.appName=oe,this.namespace=je,this.openDbPromise=ct}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(q){return this.set("last_fetch_status",q)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(q){return this.set("last_successful_fetch_timestamp_millis",q)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(q){return this.set("last_successful_fetch_response",q)}getActiveConfig(){return this.get("active_config")}setActiveConfig(q){return this.set("active_config",q)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(q){return this.set("active_config_etag",q)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(q){return this.set("throttle_metadata",q)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(q){var oe=this;return(0,ee.Z)(function*(){const je=yield oe.openDbPromise;return new Promise((ct,Nt)=>{const Xn=je.transaction([Tr],"readonly").objectStore(Tr),mr=oe.createCompositeKey(q);try{const cr=Xn.get(mr);cr.onerror=pi=>{Nt(tr(pi,"storage-get"))},cr.onsuccess=pi=>{const Nr=pi.target.result;ct(Nr?Nr.value:void 0)}}catch(cr){Nt(qr.create("storage-get",{originalErrorMessage:cr?.message}))}})})()}set(q,oe){var je=this;return(0,ee.Z)(function*(){const ct=yield je.openDbPromise;return new Promise((Nt,dn)=>{const mr=ct.transaction([Tr],"readwrite").objectStore(Tr),cr=je.createCompositeKey(q);try{const pi=mr.put({compositeKey:cr,value:oe});pi.onerror=Nr=>{dn(tr(Nr,"storage-set"))},pi.onsuccess=()=>{Nt()}}catch(pi){dn(qr.create("storage-set",{originalErrorMessage:pi?.message}))}})})()}delete(q){var oe=this;return(0,ee.Z)(function*(){const je=yield oe.openDbPromise;return new Promise((ct,Nt)=>{const Xn=je.transaction([Tr],"readwrite").objectStore(Tr),mr=oe.createCompositeKey(q);try{const cr=Xn.delete(mr);cr.onerror=pi=>{Nt(tr(pi,"storage-delete"))},cr.onsuccess=()=>{ct()}}catch(cr){Nt(qr.create("storage-delete",{originalErrorMessage:cr?.message}))}})})()}createCompositeKey(q){return[this.appId,this.appName,this.namespace,q].join()}}class Ii{constructor(q){this.storage=q}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var q=this;return(0,ee.Z)(function*(){const oe=q.storage.getLastFetchStatus(),je=q.storage.getLastSuccessfulFetchTimestampMillis(),ct=q.storage.getActiveConfig(),Nt=yield oe;Nt&&(q.lastFetchStatus=Nt);const dn=yield je;dn&&(q.lastSuccessfulFetchTimestampMillis=dn);const Xn=yield ct;Xn&&(q.activeConfig=Xn)})()}setLastFetchStatus(q){return this.lastFetchStatus=q,this.storage.setLastFetchStatus(q)}setLastSuccessfulFetchTimestampMillis(q){return this.lastSuccessfulFetchTimestampMillis=q,this.storage.setLastSuccessfulFetchTimestampMillis(q)}setActiveConfig(q){return this.activeConfig=q,this.storage.setActiveConfig(q)}}function $o(){return ks.apply(this,arguments)}function ks(){return(ks=(0,ee.Z)(function*(){if(!(0,ze.hl)())return!1;try{return yield(0,ze.eu)()}catch{return!1}})).apply(this,arguments)}!function co(){(0,Ve._registerComponent)(new We.wA("remote-config",function V(q,{instanceIdentifier:oe}){const je=q.getProvider("app").getImmediate(),ct=q.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw qr.create("registration-window");if(!(0,ze.hl)())throw qr.create("indexed-db-unavailable");const{projectId:Nt,apiKey:dn,appId:Xn}=je.options;if(!Nt)throw qr.create("registration-project-id");if(!dn)throw qr.create("registration-api-key");if(!Xn)throw qr.create("registration-app-id");const mr=new bs(Xn,je.name,oe=oe||"firebase"),cr=new Ii(mr),pi=new Ze.Yd(Oi);pi.logLevel=Ze.in.ERROR;const Nr=new hs(ct,Ve.SDK_VERSION,oe,Nt,dn,Xn),Ko=new Je(Nr,mr),Ir=new uo(Ko,mr,cr,pi),Ai=new En(je,Ir,cr,mr,pi);return function Vr(V){const q=(0,ze.m9)(V);q._initializePromise||(q._initializePromise=q._storageCache.loadFromStorage().then(()=>{q._isInitializationComplete=!0}))}(Ai),Ai},"PUBLIC").setMultipleInstances(!0)),(0,Ve.registerVersion)(Oi,"0.4.3"),(0,Ve.registerVersion)(Oi,"0.4.3","esm2017")}();const Ri="/firebase-messaging-sw.js",no="/firebase-cloud-messaging-push-scope",Xi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ho="google.c.a.c_id",Is="google.c.a.c_l",xo="google.c.a.ts",ro="google.c.a.e";var ji=(()=>{return(V=ji||(ji={})).PUSH_RECEIVED="push-received",V.NOTIFICATION_CLICKED="notification-clicked",ji;var V})();function Cs(V){const q=new Uint8Array(V);return btoa(String.fromCharCode(...q)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ki(V){const oe=(V+"=".repeat((4-V.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),je=atob(oe),ct=new Uint8Array(je.length);for(let Nt=0;Nt<je.length;++Nt)ct[Nt]=je.charCodeAt(Nt);return ct}const Zi="fcm_token_details_db",Rs="fcm_token_object_Store";function ss(V){return _i.apply(this,arguments)}function _i(){return _i=(0,ee.Z)(function*(V){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Nt=>Nt.name).includes(Zi))return null;let q=null;return(yield(0,Ge.X3)(Zi,5,{upgrade:(je=(0,ee.Z)(function*(ct,Nt,dn,Xn){var mr;if(Nt<2||!ct.objectStoreNames.contains(Rs))return;const cr=Xn.objectStore(Rs),pi=yield cr.index("fcmSenderId").get(V);if(yield cr.clear(),pi)if(2===Nt){const Nr=pi;if(!Nr.auth||!Nr.p256dh||!Nr.endpoint)return;q={token:Nr.fcmToken,createTime:null!==(mr=Nr.createTime)&&void 0!==mr?mr:Date.now(),subscriptionOptions:{auth:Nr.auth,p256dh:Nr.p256dh,endpoint:Nr.endpoint,swScope:Nr.swScope,vapidKey:"string"==typeof Nr.vapidKey?Nr.vapidKey:Cs(Nr.vapidKey)}}}else if(3===Nt){const Nr=pi;q={token:Nr.fcmToken,createTime:Nr.createTime,subscriptionOptions:{auth:Cs(Nr.auth),p256dh:Cs(Nr.p256dh),endpoint:Nr.endpoint,swScope:Nr.swScope,vapidKey:Cs(Nr.vapidKey)}}}else if(4===Nt){const Nr=pi;q={token:Nr.fcmToken,createTime:Nr.createTime,subscriptionOptions:{auth:Cs(Nr.auth),p256dh:Cs(Nr.p256dh),endpoint:Nr.endpoint,swScope:Nr.swScope,vapidKey:Cs(Nr.vapidKey)}}}}),function(Nt,dn,Xn,mr){return je.apply(this,arguments)})})).close(),yield(0,Ge.Lj)(Zi),yield(0,Ge.Lj)("fcm_vapid_details_db"),yield(0,Ge.Lj)("undefined"),Ur(q)?q:null;var je}),_i.apply(this,arguments)}function Ur(V){if(!V||!V.subscriptionOptions)return!1;const{subscriptionOptions:q}=V;return"number"==typeof V.createTime&&V.createTime>0&&"string"==typeof V.token&&V.token.length>0&&"string"==typeof q.auth&&q.auth.length>0&&"string"==typeof q.p256dh&&q.p256dh.length>0&&"string"==typeof q.endpoint&&q.endpoint.length>0&&"string"==typeof q.swScope&&q.swScope.length>0&&"string"==typeof q.vapidKey&&q.vapidKey.length>0}const Ds="firebase-messaging-store";let _r=null;function os(){return _r||(_r=(0,Ge.X3)("firebase-messaging-database",1,{upgrade:(V,q)=>{0===q&&V.createObjectStore(Ds)}})),_r}function Os(V){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,ee.Z)(function*(V){const q=Ls(V),je=yield(yield os()).transaction(Ds).objectStore(Ds).get(q);if(je)return je;{const ct=yield ss(V.appConfig.senderId);if(ct)return yield Lr(V,ct),ct}})).apply(this,arguments)}function Lr(V,q){return qs.apply(this,arguments)}function qs(){return(qs=(0,ee.Z)(function*(V,q){const oe=Ls(V),ct=(yield os()).transaction(Ds,"readwrite");return yield ct.objectStore(Ds).put(q,oe),yield ct.done,q})).apply(this,arguments)}function Fs(V){return zo.apply(this,arguments)}function zo(){return(zo=(0,ee.Z)(function*(V){const q=Ls(V),je=(yield os()).transaction(Ds,"readwrite");yield je.objectStore(Ds).delete(q),yield je.done})).apply(this,arguments)}function Ls({appConfig:V}){return V.appId}const Ci=new ze.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function or(V,q){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,ee.Z)(function*(V,q){const oe=yield as(V),je=nn(q),ct={method:"POST",headers:oe,body:JSON.stringify(je)};let Nt;try{Nt=yield(yield fetch(Ks(V.appConfig),ct)).json()}catch(dn){throw Ci.create("token-subscribe-failed",{errorInfo:dn?.toString()})}if(Nt.error)throw Ci.create("token-subscribe-failed",{errorInfo:Nt.error.message});if(!Nt.token)throw Ci.create("token-subscribe-no-token");return Nt.token})).apply(this,arguments)}function ha(V,q){return fo.apply(this,arguments)}function fo(){return(fo=(0,ee.Z)(function*(V,q){const oe=yield as(V),je=nn(q.subscriptionOptions),ct={method:"PATCH",headers:oe,body:JSON.stringify(je)};let Nt;try{Nt=yield(yield fetch(`${Ks(V.appConfig)}/${q.token}`,ct)).json()}catch(dn){throw Ci.create("token-update-failed",{errorInfo:dn?.toString()})}if(Nt.error)throw Ci.create("token-update-failed",{errorInfo:Nt.error.message});if(!Nt.token)throw Ci.create("token-update-no-token");return Nt.token})).apply(this,arguments)}function io(V,q){return hi.apply(this,arguments)}function hi(){return(hi=(0,ee.Z)(function*(V,q){const je={method:"DELETE",headers:yield as(V)};try{const Nt=yield(yield fetch(`${Ks(V.appConfig)}/${q}`,je)).json();if(Nt.error)throw Ci.create("token-unsubscribe-failed",{errorInfo:Nt.error.message})}catch(ct){throw Ci.create("token-unsubscribe-failed",{errorInfo:ct?.toString()})}})).apply(this,arguments)}function Ks({projectId:V}){return`https://fcmregistrations.googleapis.com/v1/projects/${V}/registrations`}function as(V){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,ee.Z)(function*({appConfig:V,installations:q}){const oe=yield q.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V.apiKey,"x-goog-firebase-installations-auth":`FIS ${oe}`})})).apply(this,arguments)}function nn({p256dh:V,auth:q,endpoint:oe,vapidKey:je}){const ct={web:{endpoint:oe,auth:q,p256dh:V}};return je!==Xi&&(ct.web.applicationPubKey=je),ct}const Pr=6048e5;function ko(V){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,ee.Z)(function*(V){const q=yield Si(V.swRegistration,V.vapidKey),oe={vapidKey:V.vapidKey,swScope:V.swRegistration.scope,endpoint:q.endpoint,auth:Cs(q.getKey("auth")),p256dh:Cs(q.getKey("p256dh"))},je=yield Os(V.firebaseDependencies);if(je){if(Y(je.subscriptionOptions,oe))return Date.now()>=je.createTime+Pr?so(V,{token:je.token,createTime:Date.now(),subscriptionOptions:oe}):je.token;try{yield io(V.firebaseDependencies,je.token)}catch(ct){console.warn(ct)}return ra(V.firebaseDependencies,oe)}return ra(V.firebaseDependencies,oe)})).apply(this,arguments)}function Hi(V){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,ee.Z)(function*(V){const q=yield Os(V.firebaseDependencies);q&&(yield io(V.firebaseDependencies,q.token),yield Fs(V.firebaseDependencies));const oe=yield V.swRegistration.pushManager.getSubscription();return!oe||oe.unsubscribe()})).apply(this,arguments)}function so(V,q){return fi.apply(this,arguments)}function fi(){return(fi=(0,ee.Z)(function*(V,q){try{const oe=yield ha(V.firebaseDependencies,q),je=Object.assign(Object.assign({},q),{token:oe,createTime:Date.now()});return yield Lr(V.firebaseDependencies,je),oe}catch(oe){throw yield Hi(V),oe}})).apply(this,arguments)}function ra(V,q){return po.apply(this,arguments)}function po(){return(po=(0,ee.Z)(function*(V,q){const je={token:yield or(V,q),createTime:Date.now(),subscriptionOptions:q};return yield Lr(V,je),je.token})).apply(this,arguments)}function Si(V,q){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,ee.Z)(function*(V,q){return(yield V.pushManager.getSubscription())||V.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ki(q)})})).apply(this,arguments)}function Y(V,q){return q.vapidKey===V.vapidKey&&q.endpoint===V.endpoint&&q.auth===V.auth&&q.p256dh===V.p256dh}function B(V){const q={from:V.from,collapseKey:V.collapse_key,messageId:V.fcmMessageId};return function L(V,q){if(!q.notification)return;V.notification={};const oe=q.notification.title;oe&&(V.notification.title=oe);const je=q.notification.body;je&&(V.notification.body=je);const ct=q.notification.image;ct&&(V.notification.image=ct);const Nt=q.notification.icon;Nt&&(V.notification.icon=Nt)}(q,V),function ue(V,q){!q.data||(V.data=q.data)}(q,V),function _t(V,q){var oe,je,ct,Nt,dn;if(!(q.fcmOptions||null!==(oe=q.notification)&&void 0!==oe&&oe.click_action))return;V.fcmOptions={};const Xn=null!==(ct=null===(je=q.fcmOptions)||void 0===je?void 0:je.link)&&void 0!==ct?ct:null===(Nt=q.notification)||void 0===Nt?void 0:Nt.click_action;Xn&&(V.fcmOptions.link=Xn);const mr=null===(dn=q.fcmOptions)||void 0===dn?void 0:dn.analytics_label;mr&&(V.fcmOptions.analyticsLabel=mr)}(q,V),q}function On(V){return"object"==typeof V&&!!V&&Ho in V}function ur(V,q){const oe=[];for(let je=0;je<V.length;je++)oe.push(V.charAt(je)),je<q.length&&oe.push(q.charAt(je));return oe.join("")}function u(V){return Ci.create("missing-app-config-values",{valueName:V})}ur("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ur("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class p{constructor(q,oe,je){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ct=function ls(V){if(!V||!V.options)throw u("App Configuration Object");if(!V.name)throw u("App Name");const q=["projectId","apiKey","appId","messagingSenderId"],{options:oe}=V;for(const je of q)if(!oe[je])throw u(je);return{appName:V.name,projectId:oe.projectId,apiKey:oe.apiKey,appId:oe.appId,senderId:oe.messagingSenderId}}(q);this.firebaseDependencies={app:q,appConfig:ct,installations:oe,analyticsProvider:je}}_delete(){return Promise.resolve()}}function _(V){return x.apply(this,arguments)}function x(){return(x=(0,ee.Z)(function*(V){try{V.swRegistration=yield navigator.serviceWorker.register(Ri,{scope:no}),V.swRegistration.update().catch(()=>{})}catch(q){throw Ci.create("failed-service-worker-registration",{browserErrorMessage:q?.message})}})).apply(this,arguments)}function $(V,q){return G.apply(this,arguments)}function G(){return(G=(0,ee.Z)(function*(V,q){if(!q&&!V.swRegistration&&(yield _(V)),q||!V.swRegistration){if(!(q instanceof ServiceWorkerRegistration))throw Ci.create("invalid-sw-registration");V.swRegistration=q}})).apply(this,arguments)}function le(V,q){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,ee.Z)(function*(V,q){q?V.vapidKey=q:V.vapidKey||(V.vapidKey=Xi)})).apply(this,arguments)}function He(){return(He=(0,ee.Z)(function*(V,q){if(!navigator)throw Ci.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ci.create("permission-blocked");return yield le(V,q?.vapidKey),yield $(V,q?.serviceWorkerRegistration),ko(V)})).apply(this,arguments)}function Xe(V,q,oe){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,ee.Z)(function*(V,q,oe){const je=ge(q);(yield V.firebaseDependencies.analyticsProvider.get()).logEvent(je,{message_id:oe[Ho],message_name:oe[Is],message_time:oe[xo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ge(V){switch(V){case ji.NOTIFICATION_CLICKED:return"notification_open";case ji.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function k(){return(k=(0,ee.Z)(function*(V,q){const oe=q.data;if(!oe.isFirebaseMessaging)return;V.onMessageHandler&&oe.messageType===ji.PUSH_RECEIVED&&("function"==typeof V.onMessageHandler?V.onMessageHandler(B(oe)):V.onMessageHandler.next(B(oe)));const je=oe.data;On(je)&&"1"===je[ro]&&(yield Xe(V,oe.messageType,je))})).apply(this,arguments)}const T="@firebase/messaging",U="0.12.3",z=V=>{const q=new p(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),V.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",oe=>function I(V,q){return k.apply(this,arguments)}(q,oe)),q},X=V=>{const q=V.getProvider("messaging").getImmediate();return{getToken:je=>function he(V,q){return He.apply(this,arguments)}(q,je)}};function J(){return se.apply(this,arguments)}function se(){return(se=(0,ee.Z)(function*(){try{yield(0,ze.eu)()}catch{return!1}return typeof window<"u"&&(0,ze.hl)()&&(0,ze.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function W(){(0,Ve._registerComponent)(new We.wA("messaging",z,"PUBLIC")),(0,Ve._registerComponent)(new We.wA("messaging-internal",X,"PRIVATE")),(0,Ve.registerVersion)(T,U),(0,Ve.registerVersion)(T,U,"esm2017")}();const kn="analytics",Vt="firebase_id",fe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fe="https://www.googletagmanager.com/gtag/js",Ut=new Ze.Yd("@firebase/analytics");function kt(V){return Promise.all(V.map(q=>q.catch(oe=>oe)))}function Kn(V,q){const oe=document.createElement("script");oe.src=`${Fe}?l=${V}&id=${q}`,oe.async=!0,document.head.appendChild(oe)}function Mr(V,q,oe,je,ct,Nt){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,ee.Z)(function*(V,q,oe,je,ct,Nt){const dn=je[ct];try{if(dn)yield q[dn];else{const mr=(yield kt(oe)).find(cr=>cr.measurementId===ct);mr&&(yield q[mr.appId])}}catch(Xn){Ut.error(Xn)}V("config",ct,Nt)})).apply(this,arguments)}function Xr(V,q,oe,je,ct){return ys.apply(this,arguments)}function ys(){return(ys=(0,ee.Z)(function*(V,q,oe,je,ct){try{let Nt=[];if(ct&&ct.send_to){let dn=ct.send_to;Array.isArray(dn)||(dn=[dn]);const Xn=yield kt(oe);for(const mr of dn){const cr=Xn.find(Nr=>Nr.measurementId===mr),pi=cr&&q[cr.appId];if(!pi){Nt=[];break}Nt.push(pi)}}0===Nt.length&&(Nt=Object.values(q)),yield Promise.all(Nt),V("event",je,ct||{})}catch(Nt){Ut.error(Nt)}})).apply(this,arguments)}function us(V){const q=window.document.getElementsByTagName("script");for(const oe of Object.values(q))if(oe.src&&oe.src.includes(Fe)&&oe.src.includes(V))return oe;return null}const ni=new ze.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),go=new class As{constructor(q={},oe=1e3){this.throttleMetadata=q,this.intervalMillis=oe}getThrottleMetadata(q){return this.throttleMetadata[q]}setThrottleMetadata(q,oe){this.throttleMetadata[q]=oe}deleteThrottleMetadata(q){delete this.throttleMetadata[q]}};function No(V){return new Headers({Accept:"application/json","x-goog-api-key":V})}function an(V){return wr.apply(this,arguments)}function wr(){return(wr=(0,ee.Z)(function*(V){var q;const{appId:oe,apiKey:je}=V,ct={method:"GET",headers:No(je)},Nt=fe.replace("{app-id}",oe),dn=yield fetch(Nt,ct);if(200!==dn.status&&304!==dn.status){let Xn="";try{const mr=yield dn.json();null!==(q=mr.error)&&void 0!==q&&q.message&&(Xn=mr.error.message)}catch{}throw ni.create("config-fetch-failed",{httpStatus:dn.status,responseMessage:Xn})}return dn.json()})).apply(this,arguments)}function Us(V){return wi.apply(this,arguments)}function wi(){return(wi=(0,ee.Z)(function*(V,q=go,oe){const{appId:je,apiKey:ct,measurementId:Nt}=V.options;if(!je)throw ni.create("no-app-id");if(!ct){if(Nt)return{measurementId:Nt,appId:je};throw ni.create("no-api-key")}const dn=q.getThrottleMetadata(je)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xn=new At;return setTimeout((0,ee.Z)(function*(){Xn.abort()}),void 0!==oe?oe:6e4),Rn({appId:je,apiKey:ct,measurementId:Nt},dn,Xn,q)})).apply(this,arguments)}function Rn(V,q,oe){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,ee.Z)(function*(V,{throttleEndTimeMillis:q,backoffCount:oe},je,ct=go){var Nt;const{appId:dn,measurementId:Xn}=V;try{yield bo(je,q)}catch(mr){if(Xn)return Ut.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xn} provided in the "measurementId" field in the local Firebase config. [${mr?.message}]`),{appId:dn,measurementId:Xn};throw mr}try{const mr=yield an(V);return ct.deleteThrottleMetadata(dn),mr}catch(mr){const cr=mr;if(!Cn(cr)){if(ct.deleteThrottleMetadata(dn),Xn)return Ut.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xn} provided in the "measurementId" field in the local Firebase config. [${cr?.message}]`),{appId:dn,measurementId:Xn};throw mr}const pi=503===Number(null===(Nt=cr?.customData)||void 0===Nt?void 0:Nt.httpStatus)?(0,ze.$s)(oe,ct.intervalMillis,30):(0,ze.$s)(oe,ct.intervalMillis),Nr={throttleEndTimeMillis:Date.now()+pi,backoffCount:oe+1};return ct.setThrottleMetadata(dn,Nr),Ut.debug(`Calling attemptFetch again in ${pi} millis`),Rn(V,Nr,je,ct)}})).apply(this,arguments)}function bo(V,q){return new Promise((oe,je)=>{const ct=Math.max(q-Date.now(),0),Nt=setTimeout(oe,ct);V.addEventListener(()=>{clearTimeout(Nt),je(ni.create("fetch-throttle",{throttleEndTimeMillis:q}))})})}function Cn(V){if(!(V instanceof ze.ZR&&V.customData))return!1;const q=Number(V.customData.httpStatus);return 429===q||500===q||503===q||504===q}class At{constructor(){this.listeners=[]}addEventListener(q){this.listeners.push(q)}abort(){this.listeners.forEach(q=>q())}}let Yt,v;function Oo(){return(Oo=(0,ee.Z)(function*(V,q,oe,je,ct){if(ct&&ct.global)V("event",oe,je);else{const Nt=yield q;V("event",oe,Object.assign(Object.assign({},je),{send_to:Nt}))}})).apply(this,arguments)}function w(V){v=V}function R(V){Yt=V}function te(){return me.apply(this,arguments)}function me(){return(me=(0,ee.Z)(function*(){if(!(0,ze.hl)())return Ut.warn(ni.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ze.eu)()}catch(V){return Ut.warn(ni.create("indexeddb-unavailable",{errorInfo:V?.toString()}).message),!1}return!0})).apply(this,arguments)}function Se(){return(Se=(0,ee.Z)(function*(V,q,oe,je,ct,Nt,dn){var Xn;const mr=Us(V);mr.then(Ir=>{oe[Ir.measurementId]=Ir.appId,V.options.measurementId&&Ir.measurementId!==V.options.measurementId&&Ut.warn(`The measurement ID in the local Firebase config (${V.options.measurementId}) does not match the measurement ID fetched from the server (${Ir.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ir=>Ut.error(Ir)),q.push(mr);const cr=te().then(Ir=>{if(Ir)return je.getId()}),[pi,Nr]=yield Promise.all([mr,cr]);us(Nt)||Kn(Nt,pi.measurementId),v&&(ct("consent","default",v),w(void 0)),ct("js",new Date);const Ko=null!==(Xn=dn?.config)&&void 0!==Xn?Xn:{};return Ko.origin="firebase",Ko.update=!0,null!=Nr&&(Ko[Vt]=Nr),ct("config",pi.measurementId,Ko),Yt&&(ct("set",Yt),R(void 0)),pi.measurementId})).apply(this,arguments)}class Et{constructor(q){this.app=q}_delete(){return delete wt[this.app.options.appId],Promise.resolve()}}let wt={},Fn=[];const gn={};let hr,rr,Xt="dataLayer",bi=!1;function vs(V,q,oe){!function mo(){const V=[];if((0,ze.ru)()&&V.push("This is a browser extension environment."),(0,ze.zI)()||V.push("Cookies are not available."),V.length>0){const q=V.map((je,ct)=>`(${ct+1}) ${je}`).join(" "),oe=ni.create("invalid-analytics-context",{errorInfo:q});Ut.warn(oe.message)}}();const je=V.options.appId;if(!je)throw ni.create("no-app-id");if(!V.options.apiKey){if(!V.options.measurementId)throw ni.create("no-api-key");Ut.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${V.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wt[je])throw ni.create("already-exists",{id:je});if(!bi){!function Or(V){let q=[];Array.isArray(window[V])?q=window[V]:window[V]=q}(Xt);const{wrappedGtag:Nt,gtagCore:dn}=function Ss(V,q,oe,je,ct){let Nt=function(...dn){window[je].push(arguments)};return window[ct]&&"function"==typeof window[ct]&&(Nt=window[ct]),window[ct]=function Vs(V,q,oe,je){function Nt(){return(Nt=(0,ee.Z)(function*(dn,Xn,mr){try{"event"===dn?yield Xr(V,q,oe,Xn,mr):"config"===dn?yield Mr(V,q,oe,je,Xn,mr):"consent"===dn?V("consent","update",mr):V("set",Xn)}catch(cr){Ut.error(cr)}})).apply(this,arguments)}return function ct(dn,Xn,mr){return Nt.apply(this,arguments)}}(Nt,V,q,oe),{gtagCore:Nt,wrappedGtag:window[ct]}}(wt,Fn,gn,Xt,"gtag");rr=Nt,hr=dn,bi=!0}return wt[je]=function Be(V,q,oe,je,ct,Nt,dn){return Se.apply(this,arguments)}(V,Fn,gn,q,hr,Xt,oe),new Et(V)}function Ms(){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,ee.Z)(function*(){if((0,ze.ru)()||!(0,ze.zI)()||!(0,ze.hl)())return!1;try{return yield(0,ze.eu)()}catch{return!1}})).apply(this,arguments)}const za="@firebase/analytics";!function Gn(){(0,Ve._registerComponent)(new We.wA(kn,(q,{options:oe})=>vs(q.getProvider("app").getImmediate(),q.getProvider("installations-internal").getImmediate(),oe),"PUBLIC")),(0,Ve._registerComponent)(new We.wA("analytics-internal",function V(q){try{const oe=q.getProvider(kn).getImmediate();return{logEvent:(je,ct,Nt)=>function Io(V,q,oe,je){V=(0,ze.m9)(V),function Di(V,q,oe,je,ct){return Oo.apply(this,arguments)}(rr,wt[V.app.options.appId],q,oe,je).catch(ct=>Ut.error(ct))}(oe,je,ct,Nt)}}catch(oe){throw ni.create("interop-component-reg-failed",{reason:oe})}},"PRIVATE")),(0,Ve.registerVersion)(za,"0.9.3"),(0,Ve.registerVersion)(za,"0.9.3","esm2017")}();var fr=H(4408),Yi=H(7565);const Lo=new class Ys extends Yi.v{}(class Br extends fr.o{constructor(q,oe){super(q,oe),this.scheduler=q,this.work=oe}schedule(q,oe=0){return oe>0?super.schedule(q,oe):(this.delay=oe,this.state=q,this.scheduler.flush(this),this)}execute(q,oe){return oe>0||this.closed?super.execute(q,oe):this._execute(q,oe)}requestAsyncId(q,oe,je=0){return null!=je&&je>0||null==je&&this.delay>0?super.requestAsyncId(q,oe,je):(q.flush(this),0)}});var ai=H(4986),ba=H(8505),ma=H(9468),js=H(5363);const Qi=new h.GfV("7.5.0"),vo="__angularfire_symbol__analyticsIsSupportedValue",C="__angularfire_symbol__analyticsIsSupported",D="__angularfire_symbol__remoteConfigIsSupportedValue",b="__angularfire_symbol__remoteConfigIsSupported",N="__angularfire_symbol__messagingIsSupportedValue",j="__angularfire_symbol__messagingIsSupported";function Sn(V,q,oe){if(q){if(1===q.length)return q[0];const Nt=q.filter(dn=>dn.app===oe);if(1===Nt.length)return Nt[0]}return oe.container.getProvider(V).getImmediate({optional:!0})}globalThis[C]||(globalThis[C]=Ms().then(V=>globalThis[vo]=V).catch(()=>globalThis[vo]=!1)),globalThis[j]||(globalThis[j]=J().then(V=>globalThis[N]=V).catch(()=>globalThis[N]=!1)),globalThis[b]||(globalThis[b]=$o().then(V=>globalThis[D]=V).catch(()=>globalThis[D]=!1));const Rr=(V,q)=>{const oe=q?[q]:(0,O.C6)(),je=[];return oe.forEach(ct=>{ct.container.getProvider(V).instances.forEach(dn=>{je.includes(dn)||je.push(dn)})}),je};function Ln(){}class Zr{constructor(q,oe=Lo){this.zone=q,this.delegate=oe}now(){return this.delegate.now()}schedule(q,oe,je){const ct=this.zone;return this.delegate.schedule(function(dn){ct.runGuarded(()=>{q.apply(this,[dn])})},oe,je)}}class oo{constructor(q){this.zone=q,this.task=null}call(q,oe){const je=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ln,{},Ln,Ln)),oe.pipe((0,ba.b)({next:je,complete:je,error:je})).subscribe(q).add(je)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qs=(()=>{class V{constructor(oe){this.ngZone=oe,this.outsideAngular=oe.runOutsideAngular(()=>new Zr(Zone.current)),this.insideAngular=oe.run(()=>new Zr(Zone.current,ai.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return V.\u0275fac=function(oe){return new(oe||V)(h.LFG(h.R0b))},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function ps(){const V=globalThis.\u0275AngularFireScheduler;if(!V)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return V}function Aa(V){return ps(),function Wa(V){return function(oe){return(oe=oe.lift(new oo(V.ngZone))).pipe((0,ma.R)(V.outsideAngular),(0,js.Q)(V.insideAngular))}}(ps())(V)}},2722:(_n,at,H)=>{"use strict";H.d(at,{$:()=>Ks,A:()=>_e,B:()=>rt,G:()=>Ni,H:()=>ns,J:()=>Je,L:()=>Le,M:()=>ks,N:()=>Qo,P:()=>ai,Q:()=>Ho,R:()=>ll,T:()=>Is,U:()=>Xi,V:()=>ji,W:()=>Cs,X:()=>ss,Y:()=>Po,Z:()=>or,_:()=>ha,a:()=>ri,a0:()=>ko,a1:()=>Hi,a2:()=>so,a3:()=>ra,a4:()=>Si,a5:()=>Y,a6:()=>L,a7:()=>ue,a8:()=>On,a9:()=>ur,aA:()=>Re,aB:()=>mr,aC:()=>Na,aD:()=>qo,aE:()=>qn,aI:()=>No,aL:()=>ro,aa:()=>_,ab:()=>$,ac:()=>le,af:()=>Xe,ag:()=>ge,ah:()=>I,ak:()=>Ds,al:()=>ve,an:()=>Fe,ao:()=>Vi,ap:()=>Dt,aq:()=>we,ar:()=>Tn,as:()=>on,at:()=>ul,au:()=>To,av:()=>Ce,aw:()=>Oe,ax:()=>qe,ay:()=>Ir,az:()=>Rt,b:()=>ni,c:()=>N,d:()=>Ue,e:()=>ae,f:()=>Wa,g:()=>je,h:()=>V,i:()=>me,j:()=>dn,k:()=>Zo,l:()=>Zn,m:()=>Ld,o:()=>Ge,r:()=>fr,s:()=>Co,u:()=>Lo});var h=H(5861),O=H(2090),ee=H(9681),Ve=H(1877),ze=H(655),We=H(4859);const Ge={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},_e={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const rt=function Pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},et=function ft(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Qt=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),dt=new Ve.Yd("@firebase/auth");function pn(S,...g){dt.logLevel<=Ve.in.ERROR&&dt.error(`Auth (${ee.SDK_VERSION}): ${S}`,...g)}function on(S,...g){throw Wt(S,...g)}function Oe(S,...g){return Wt(S,...g)}function Ot(S,g,m){const P=Object.assign(Object.assign({},et()),{[g]:m});return new O.LL("auth","Firebase",P).create(g,{appName:S.name})}function Tt(S,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&on(S,"argument-error"),Ot(S,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wt(S,...g){if("string"!=typeof S){const m=g[0],P=[...g.slice(1)];return P[0]&&(P[0].appName=S.name),S._errorFactory.create(m,...P)}return Qt.create(S,...g)}function qe(S,g,...m){if(!S)throw Wt(g,...m)}function lt(S){const g="INTERNAL ASSERTION FAILED: "+S;throw pn(g),new Error(g)}function Dt(S,g){S||lt(g)}const pt=new Map;function Rt(S){Dt(S instanceof Function,"Expected a class definition");let g=pt.get(S);return g?(Dt(g instanceof S,"Instance stored in cache mismatched with class"),g):(g=new S,pt.set(S,g),g)}function Me(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.href)||""}function tt(){return"http:"===ut()||"https:"===ut()}function ut(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.protocol)||null}class It{constructor(g,m){this.shortDelay=g,this.longDelay=m,Dt(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function jt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(tt()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nn(S,g){Dt(S.emulator,"Emulator should always be set here");const{url:m}=S.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class yn{static initialize(g,m,P){this.fetchImpl=g,m&&(this.headersImpl=m),P&&(this.responseImpl=P)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void lt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void lt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void lt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ar={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},en=new It(3e4,6e4);function qt(S,g){return S.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:S.tenantId}):g}function Ht(S,g,m,P){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,h.Z)(function*(S,g,m,P,re={}){return mn(S,re,(0,h.Z)(function*(){let Ee={},Mt={};P&&("GET"===g?Mt=P:Ee={body:JSON.stringify(P)});const ln=(0,O.xO)(Object.assign({key:S.config.apiKey},Mt)).slice(1),ir=yield S._getAdditionalHeaders();return ir["Content-Type"]="application/json",S.languageCode&&(ir["X-Firebase-Locale"]=S.languageCode),yn.fetch()(ci(S,S.config.apiHost,m,ln),Object.assign({method:g,headers:ir,referrerPolicy:"no-referrer"},Ee))}))})).apply(this,arguments)}function mn(S,g,m){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,h.Z)(function*(S,g,m){S._canInitEmulator=!1;const P=Object.assign(Object.assign({},Ar),g);try{const re=new Jn(S),Ee=yield Promise.race([m(),re.promise]);re.clearNetworkTimeout();const Mt=yield Ee.json();if("needConfirmation"in Mt)throw dr(S,"account-exists-with-different-credential",Mt);if(Ee.ok&&!("errorMessage"in Mt))return Mt;{const ln=Ee.ok?Mt.errorMessage:Mt.error.message,[ir,Sr]=ln.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ir)throw dr(S,"credential-already-in-use",Mt);if("EMAIL_EXISTS"===ir)throw dr(S,"email-already-in-use",Mt);if("USER_DISABLED"===ir)throw dr(S,"user-disabled",Mt);const li=P[ir]||ir.toLowerCase().replace(/[_\s]+/g,"-");if(Sr)throw Ot(S,li,Sr);on(S,li)}}catch(re){if(re instanceof O.ZR)throw re;on(S,"network-request-failed")}})).apply(this,arguments)}function Un(S,g,m,P){return ei.apply(this,arguments)}function ei(){return(ei=(0,h.Z)(function*(S,g,m,P,re={}){const Ee=yield Ht(S,g,m,P,re);return"mfaPendingCredential"in Ee&&on(S,"multi-factor-auth-required",{_serverResponse:Ee}),Ee})).apply(this,arguments)}function ci(S,g,m,P){const re=`${g}${m}?${P}`;return S.config.emulator?Nn(S.config,re):`${S.config.apiScheme}://${re}`}class Jn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,P)=>{this.timer=setTimeout(()=>P(Oe(this.auth,"network-request-failed")),en.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dr(S,g,m){const P={appName:S.name};m.email&&(P.email=m.email),m.phoneNumber&&(P.phoneNumber=m.phoneNumber);const re=Oe(S,g,P);return re.customData._tokenResponse=m,re}function xr(){return(xr=(0,h.Z)(function*(S,g){return Ht(S,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function bn(S,g){return gi.apply(this,arguments)}function gi(){return(gi=(0,h.Z)(function*(S,g){return Ht(S,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function yr(S,g){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,h.Z)(function*(S,g){return Ht(S,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function mi(S){if(S)try{const g=new Date(Number(S));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function cn(){return(cn=(0,h.Z)(function*(S,g=!1){const m=(0,O.m9)(S),P=yield m.getIdToken(g),re=Dn(P);qe(re&&re.exp&&re.auth_time&&re.iat,m.auth,"internal-error");const Ee="object"==typeof re.firebase?re.firebase:void 0,Mt=Ee?.sign_in_provider;return{claims:re,token:P,authTime:mi(br(re.auth_time)),issuedAtTime:mi(br(re.iat)),expirationTime:mi(br(re.exp)),signInProvider:Mt||null,signInSecondFactor:Ee?.sign_in_second_factor||null}})).apply(this,arguments)}function br(S){return 1e3*Number(S)}function Dn(S){const[g,m,P]=S.split(".");if(void 0===g||void 0===m||void 0===P)return pn("JWT malformed, contained fewer than 3 sections"),null;try{const re=(0,O.tV)(m);return re?JSON.parse(re):(pn("Failed to decode base64 JWT payload"),null)}catch(re){return pn("Caught error parsing JWT payload as JSON",re?.toString()),null}}function ar(S,g){return si.apply(this,arguments)}function si(){return(si=(0,h.Z)(function*(S,g,m=!1){if(m)return g;try{return yield g}catch(P){throw P instanceof O.ZR&&zr(P)&&S.auth.currentUser===S&&(yield S.auth.signOut()),P}})).apply(this,arguments)}function zr({code:S}){return"auth/user-disabled"===S||"auth/user-token-expired"===S}class Wr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const P=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),P}{this.errorBackoff=3e4;const re=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,re)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const P=this.getInterval(g);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),P)}iteration(){var g=this;return(0,h.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&g.schedule(!0))}g.schedule()})()}}class nr{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=mi(this.lastLoginAt),this.creationTime=mi(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pi(S){return lr.apply(this,arguments)}function lr(){return(lr=(0,h.Z)(function*(S){var g;const m=S.auth,P=yield S.getIdToken(),re=yield ar(S,yr(m,{idToken:P}));qe(re?.users.length,m,"internal-error");const Ee=re.users[0];S._notifyReloadListener(Ee);const Mt=null!==(g=Ee.providerUserInfo)&&void 0!==g&&g.length?zn(Ee.providerUserInfo):[],ln=jr(S.providerData,Mt),li=!!S.isAnonymous&&!(S.email&&Ee.passwordHash||ln?.length),es={uid:Ee.localId,displayName:Ee.displayName||null,photoURL:Ee.photoUrl||null,email:Ee.email||null,emailVerified:Ee.emailVerified||!1,phoneNumber:Ee.phoneNumber||null,tenantId:Ee.tenantId||null,providerData:ln,metadata:new nr(Ee.createdAt,Ee.lastLoginAt),isAnonymous:li};Object.assign(S,es)})).apply(this,arguments)}function Qn(){return(Qn=(0,h.Z)(function*(S){const g=(0,O.m9)(S);yield Pi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function jr(S,g){return[...S.filter(P=>!g.some(re=>re.providerId===P.providerId)),...g]}function zn(S){return S.map(g=>{var{providerId:m}=g,P=(0,ze._T)(g,["providerId"]);return{providerId:m,uid:P.rawId||"",displayName:P.displayName||null,email:P.email||null,phoneNumber:P.phoneNumber||null,photoURL:P.photoUrl||null}})}function Gt(){return(Gt=(0,h.Z)(function*(S,g){const m=yield mn(S,{},(0,h.Z)(function*(){const P=(0,O.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:re,apiKey:Ee}=S.config,Mt=ci(S,re,"/v1/token",`key=${Ee}`),ln=yield S._getAdditionalHeaders();return ln["Content-Type"]="application/x-www-form-urlencoded",yn.fetch()(Mt,{method:"POST",headers:ln,body:P})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class wn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){qe(g.idToken,"internal-error"),qe(typeof g.idToken<"u","internal-error"),qe(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function jn(S){const g=Dn(S);return qe(g,"internal-error"),qe(typeof g.exp<"u","internal-error"),qe(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var P=this;return(0,h.Z)(function*(){return qe(!P.accessToken||P.refreshToken,g,"user-token-expired"),m||!P.accessToken||P.isExpired?P.refreshToken?(yield P.refresh(g,P.refreshToken),P.accessToken):null:P.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var P=this;return(0,h.Z)(function*(){const{accessToken:re,refreshToken:Ee,expiresIn:Mt}=yield function vn(S,g){return Gt.apply(this,arguments)}(g,m);P.updateTokensAndExpiration(re,Ee,Number(Mt))})()}updateTokensAndExpiration(g,m,P){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*P}static fromJSON(g,m){const{refreshToken:P,accessToken:re,expirationTime:Ee}=m,Mt=new wn;return P&&(qe("string"==typeof P,"internal-error",{appName:g}),Mt.refreshToken=P),re&&(qe("string"==typeof re,"internal-error",{appName:g}),Mt.accessToken=re),Ee&&(qe("number"==typeof Ee,"internal-error",{appName:g}),Mt.expirationTime=Ee),Mt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new wn,this.toJSON())}_performRefresh(){return lt("not implemented")}}function sr(S,g){qe("string"==typeof S||typeof S>"u","internal-error",{appName:g})}class Wn{constructor(g){var{uid:m,auth:P,stsTokenManager:re}=g,Ee=(0,ze._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=P,this.stsTokenManager=re,this.accessToken=re.accessToken,this.displayName=Ee.displayName||null,this.email=Ee.email||null,this.emailVerified=Ee.emailVerified||!1,this.phoneNumber=Ee.phoneNumber||null,this.photoURL=Ee.photoURL||null,this.isAnonymous=Ee.isAnonymous||!1,this.tenantId=Ee.tenantId||null,this.providerData=Ee.providerData?[...Ee.providerData]:[],this.metadata=new nr(Ee.createdAt||void 0,Ee.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,h.Z)(function*(){const P=yield ar(m,m.stsTokenManager.getToken(m.auth,g));return qe(P,m.auth,"internal-error"),m.accessToken!==P&&(m.accessToken=P,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),P})()}getIdTokenResult(g){return function yi(S){return cn.apply(this,arguments)}(this,g)}reload(){return function Pn(S){return Qn.apply(this,arguments)}(this)}_assign(g){this!==g&&(qe(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Wn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var P=this;return(0,h.Z)(function*(){let re=!1;g.idToken&&g.idToken!==P.stsTokenManager.accessToken&&(P.stsTokenManager.updateFromServerResponse(g),re=!0),m&&(yield Pi(P)),yield P.auth._persistUserIfCurrent(P),re&&P.auth._notifyListenersIfCurrent(P)})()}delete(){var g=this;return(0,h.Z)(function*(){const m=yield g.getIdToken();return yield ar(g,function ti(S,g){return xr.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var P,re,Ee,Mt,ln,ir,Sr,li;const es=null!==(P=m.displayName)&&void 0!==P?P:void 0,la=null!==(re=m.email)&&void 0!==re?re:void 0,Za=null!==(Ee=m.phoneNumber)&&void 0!==Ee?Ee:void 0,Ma=null!==(Mt=m.photoURL)&&void 0!==Mt?Mt:void 0,Iu=null!==(ln=m.tenantId)&&void 0!==ln?ln:void 0,dl=null!==(ir=m._redirectEventId)&&void 0!==ir?ir:void 0,Zu=null!==(Sr=m.createdAt)&&void 0!==Sr?Sr:void 0,$c=null!==(li=m.lastLoginAt)&&void 0!==li?li:void 0,{uid:Fa,emailVerified:Vd,isAnonymous:Ud,providerData:gs,stsTokenManager:Ml}=m;qe(Fa&&Ml,g,"internal-error");const Cu=wn.fromJSON(this.name,Ml);qe("string"==typeof Fa,g,"internal-error"),sr(es,g.name),sr(la,g.name),qe("boolean"==typeof Vd,g,"internal-error"),qe("boolean"==typeof Ud,g,"internal-error"),sr(Za,g.name),sr(Ma,g.name),sr(Iu,g.name),sr(dl,g.name),sr(Zu,g.name),sr($c,g.name);const Hc=new Wn({uid:Fa,auth:g,email:la,emailVerified:Vd,displayName:es,isAnonymous:Ud,photoURL:Ma,phoneNumber:Za,tenantId:Iu,stsTokenManager:Cu,createdAt:Zu,lastLoginAt:$c});return gs&&Array.isArray(gs)&&(Hc.providerData=gs.map(Hl=>Object.assign({},Hl))),dl&&(Hc._redirectEventId=dl),Hc}static _fromIdTokenResponse(g,m,P=!1){return(0,h.Z)(function*(){const re=new wn;re.updateFromServerResponse(m);const Ee=new Wn({uid:m.localId,auth:g,stsTokenManager:re,isAnonymous:P});return yield Pi(Ee),Ee})()}}const Le=(()=>{class S{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,P){var re=this;return(0,h.Z)(function*(){re.storage[m]=P})()}_get(m){var P=this;return(0,h.Z)(function*(){const re=P.storage[m];return void 0===re?null:re})()}_remove(m){var P=this;return(0,h.Z)(function*(){delete P.storage[m]})()}_addListener(m,P){}_removeListener(m,P){}}return S.type="NONE",S})();function Re(S,g,m){return`firebase:${S}:${g}:${m}`}class Ye{constructor(g,m,P){this.persistence=g,this.auth=m,this.userKey=P;const{config:re,name:Ee}=this.auth;this.fullUserKey=Re(this.userKey,re.apiKey,Ee),this.fullPersistenceKey=Re("persistence",re.apiKey,Ee),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,h.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Wn._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,h.Z)(function*(){if(m.persistence===g)return;const P=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,P?m.setCurrentUser(P):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,P="authUser"){return(0,h.Z)(function*(){if(!m.length)return new Ye(Rt(Le),g,P);const re=(yield Promise.all(m.map(function(){var Sr=(0,h.Z)(function*(li){if(yield li._isAvailable())return li});return function(li){return Sr.apply(this,arguments)}}()))).filter(Sr=>Sr);let Ee=re[0]||Rt(Le);const Mt=Re(P,g.config.apiKey,g.name);let ln=null;for(const Sr of m)try{const li=yield Sr._get(Mt);if(li){const es=Wn._fromJSON(g,li);Sr!==Ee&&(ln=es),Ee=Sr;break}}catch{}const ir=re.filter(Sr=>Sr._shouldAllowMigration);return Ee._shouldAllowMigration&&ir.length?(Ee=ir[0],ln&&(yield Ee._set(Mt,ln.toJSON())),yield Promise.all(m.map(function(){var Sr=(0,h.Z)(function*(li){if(li!==Ee)try{yield li._remove(Mt)}catch{}});return function(li){return Sr.apply(this,arguments)}}())),new Ye(Ee,g,P)):new Ye(Ee,g,P)})()}}function Te(S){const g=S.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if($t(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(ie(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(un(g))return"Blackberry";if(xe(g))return"Webos";if(Ie(g))return"Safari";if((g.includes("chrome/")||ot(g))&&!g.includes("edge/"))return"Chrome";if(Tn(g))return"Android";{const P=S.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===P?.length)return P[1]}return"Other"}function ie(S=(0,O.z$)()){return/firefox\//i.test(S)}function Ie(S=(0,O.z$)()){const g=S.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ot(S=(0,O.z$)()){return/crios\//i.test(S)}function $t(S=(0,O.z$)()){return/iemobile/i.test(S)}function Tn(S=(0,O.z$)()){return/android/i.test(S)}function un(S=(0,O.z$)()){return/blackberry/i.test(S)}function xe(S=(0,O.z$)()){return/webos/i.test(S)}function we(S=(0,O.z$)()){return/iphone|ipad|ipod/i.test(S)||/macintosh/i.test(S)&&/mobile/i.test(S)}function Ce(S=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(S)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(S)}function In(S=(0,O.z$)()){return we(S)||Tn(S)||xe(S)||un(S)||/windows phone/i.test(S)||$t(S)}function $n(S,g=[]){let m;switch(S){case"Browser":m=Te((0,O.z$)());break;case"Worker":m=`${Te((0,O.z$)())}-${S}`;break;default:m=S}const P=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${ee.SDK_VERSION}/${P}`}class oi{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const P=Ee=>new Promise((Mt,ln)=>{try{Mt(g(Ee))}catch(ir){ln(ir)}});P.onAbort=m,this.queue.push(P);const re=this.queue.length-1;return()=>{this.queue[re]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,h.Z)(function*(){if(m.auth.currentUser===g)return;const P=[];try{for(const re of m.queue)yield re(g),re.onAbort&&P.push(re.onAbort)}catch(re){P.reverse();for(const Ee of P)try{Ee()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:re?.message})}})()}}class Ji{constructor(g,m,P){this.app=g,this.heartbeatServiceProvider=m,this.config=P,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wi(this),this.idTokenSubscription=new Wi(this),this.beforeStateQueue=new oi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=P.sdkClientVersion}_initializeWithPersistence(g,m){var P=this;return m&&(this._popupRedirectResolver=Rt(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var re,Ee;if(!P._deleted&&(P.persistenceManager=yield Ye.create(P,g),!P._deleted)){if(null!==(re=P._popupRedirectResolver)&&void 0!==re&&re._shouldInitProactively)try{yield P._popupRedirectResolver._initialize(P)}catch{}yield P.initializeCurrentUser(m),P.lastNotifiedUid=(null===(Ee=P.currentUser)||void 0===Ee?void 0:Ee.uid)||null,!P._deleted&&(P._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,h.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,h.Z)(function*(){var P;const re=yield m.assertedPersistence.getCurrentUser();let Ee=re,Mt=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ln=null===(P=m.redirectUser)||void 0===P?void 0:P._redirectEventId,ir=Ee?._redirectEventId,Sr=yield m.tryRedirectSignIn(g);(!ln||ln===ir)&&Sr?.user&&(Ee=Sr.user,Mt=!0)}if(!Ee)return m.directlySetCurrentUser(null);if(!Ee._redirectEventId){if(Mt)try{yield m.beforeStateQueue.runMiddleware(Ee)}catch(ln){Ee=re,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ln))}return Ee?m.reloadAndSetCurrentUserOrClear(Ee):m.directlySetCurrentUser(null)}return qe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===Ee._redirectEventId?m.directlySetCurrentUser(Ee):m.reloadAndSetCurrentUserOrClear(Ee)})()}tryRedirectSignIn(g){var m=this;return(0,h.Z)(function*(){let P=null;try{P=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return P})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,h.Z)(function*(){try{yield Pi(g)}catch(P){if("auth/network-request-failed"!==P?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Bt(){if(typeof navigator>"u")return null;const S=navigator;return S.languages&&S.languages[0]||S.language||null}()}_delete(){var g=this;return(0,h.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,h.Z)(function*(){const P=g?(0,O.m9)(g):null;return P&&qe(P.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(P&&P._clone(m))})()}_updateCurrentUser(g,m=!1){var P=this;return(0,h.Z)(function*(){if(!P._deleted)return g&&qe(P.tenantId===g.tenantId,P,"tenant-id-mismatch"),m||(yield P.beforeStateQueue.runMiddleware(g)),P.queue((0,h.Z)(function*(){yield P.directlySetCurrentUser(g),P.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,h.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(Rt(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new O.LL("auth","Firebase",g())}onAuthStateChanged(g,m,P){return this.registerStateListener(this.authStateSubscription,g,m,P)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,P){return this.registerStateListener(this.idTokenSubscription,g,m,P)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var P=this;return(0,h.Z)(function*(){const re=yield P.getOrInitRedirectPersistenceManager(m);return null===g?re.removeCurrentUser():re.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const P=g&&Rt(g)||m._popupRedirectResolver;qe(P,m,"argument-error"),m.redirectPersistenceManager=yield Ye.create(m,[Rt(P._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,h.Z)(function*(){var P,re;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(P=m._currentUser)||void 0===P?void 0:P._redirectEventId)===g?m._currentUser:(null===(re=m.redirectUser)||void 0===re?void 0:re._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,h.Z)(function*(){if(g===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const P=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==P&&(this.lastNotifiedUid=P,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,P,re){if(this._deleted)return()=>{};const Ee="function"==typeof m?m:m.next.bind(m),Mt=this._isInitialized?Promise.resolve():this._initializationPromise;return qe(Mt,this,"internal-error"),Mt.then(()=>Ee(this.currentUser)),"function"==typeof m?g.addObserver(m,P,re):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=$n(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,h.Z)(function*(){var m;const P={"X-Client-Version":g.clientVersion};g.app.options.appId&&(P["X-Firebase-gmpid"]=g.app.options.appId);const re=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return re&&(P["X-Firebase-Client"]=re),P})()}}function qn(S){return(0,O.m9)(S)}class Wi{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,O.ne)(m=>this.observer=m)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ni(S,g,m){const P=qn(S);qe(P._canInitEmulator,P,"emulator-config-failed"),qe(/^https?:\/\//.test(g),P,"invalid-emulator-scheme");const re=!!m?.disableWarnings,Ee=lo(g),{host:Mt,port:ln}=function Oi(S){const g=lo(S),m=/(\/\/)?([^?#/]+)/.exec(S.substr(g.length));if(!m)return{host:"",port:null};const P=m[2].split("@").pop()||"",re=/^(\[[^\]]+\])(:|$)/.exec(P);if(re){const Ee=re[1];return{host:Ee,port:Qr(P.substr(Ee.length+1))}}{const[Ee,Mt]=P.split(":");return{host:Ee,port:Qr(Mt)}}}(g);P.config.emulator={url:`${Ee}//${Mt}${null===ln?"":`:${ln}`}/`},P.settings.appVerificationDisabledForTesting=!0,P.emulatorConfig=Object.freeze({host:Mt,port:ln,protocol:Ee.replace(":",""),options:Object.freeze({disableWarnings:re})}),re||function ws(){function S(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",S):S())}()}function lo(S){const g=S.indexOf(":");return g<0?"":S.substr(0,g+1)}function Qr(S){if(!S)return null;const g=Number(S);return isNaN(g)?null:g}class ns{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return lt("not implemented")}_getIdTokenResponse(g){return lt("not implemented")}_linkToIdToken(g,m){return lt("not implemented")}_getReauthenticationResolver(g){return lt("not implemented")}}function Fi(S,g){return qr.apply(this,arguments)}function qr(){return(qr=(0,h.Z)(function*(S,g){return Ht(S,"POST","/v1/accounts:resetPassword",qt(S,g))})).apply(this,arguments)}function vi(S,g){return vr.apply(this,arguments)}function vr(){return(vr=(0,h.Z)(function*(S,g){return Ht(S,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function _o(S,g){return rs.apply(this,arguments)}function rs(){return(rs=(0,h.Z)(function*(S,g){return Ht(S,"POST","/v1/accounts:update",qt(S,g))})).apply(this,arguments)}function ms(){return(ms=(0,h.Z)(function*(S,g){return Un(S,"POST","/v1/accounts:signInWithPassword",qt(S,g))})).apply(this,arguments)}function Li(S,g){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,h.Z)(function*(S,g){return Ht(S,"POST","/v1/accounts:sendOobCode",qt(S,g))})).apply(this,arguments)}function Ws(S,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,h.Z)(function*(S,g){return Li(S,g)})).apply(this,arguments)}function cs(S,g){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,h.Z)(function*(S,g){return Li(S,g)})).apply(this,arguments)}function is(S,g){return $r.apply(this,arguments)}function $r(){return($r=(0,h.Z)(function*(S,g){return Li(S,g)})).apply(this,arguments)}function jo(S,g){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,h.Z)(function*(S,g){return Li(S,g)})).apply(this,arguments)}function Eo(){return(Eo=(0,h.Z)(function*(S,g){return Un(S,"POST","/v1/accounts:signInWithEmailLink",qt(S,g))})).apply(this,arguments)}function uo(){return(uo=(0,h.Z)(function*(S,g){return Un(S,"POST","/v1/accounts:signInWithEmailLink",qt(S,g))})).apply(this,arguments)}class ds extends ns{constructor(g,m,P,re=null){super("password",P),this._email=g,this._password=m,this._tenantId=re}static _fromEmailAndPassword(g,m){return new ds(g,m,"password")}static _fromEmailAndCode(g,m,P=null){return new ds(g,m,"emailLink",P)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,h.Z)(function*(){switch(m.signInMethod){case"password":return function ki(S,g){return ms.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Jr(S,g){return Eo.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:on(g,"internal-error")}})()}_linkToIdToken(g,m){var P=this;return(0,h.Z)(function*(){switch(P.signInMethod){case"password":return vi(g,{idToken:m,returnSecureToken:!0,email:P._email,password:P._password});case"emailLink":return function Ps(S,g){return uo.apply(this,arguments)}(g,{idToken:m,email:P._email,oobCode:P._password});default:on(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function hs(S,g){return ii.apply(this,arguments)}function ii(){return(ii=(0,h.Z)(function*(S,g){return Un(S,"POST","/v1/accounts:signInWithIdp",qt(S,g))})).apply(this,arguments)}class Je extends ns{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Je(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):on("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:P,signInMethod:re}=m,Ee=(0,ze._T)(m,["providerId","signInMethod"]);if(!P||!re)return null;const Mt=new Je(P,re);return Mt.idToken=Ee.idToken||void 0,Mt.accessToken=Ee.accessToken||void 0,Mt.secret=Ee.secret,Mt.nonce=Ee.nonce,Mt.pendingToken=Ee.pendingToken||null,Mt}_getIdTokenResponse(g){return hs(g,this.buildRequest())}_linkToIdToken(g,m){const P=this.buildRequest();return P.idToken=m,hs(g,P)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,hs(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,O.xO)(m)}return g}}function mt(S,g){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,h.Z)(function*(S,g){return Ht(S,"POST","/v1/accounts:sendVerificationCode",qt(S,g))})).apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(S,g){return Un(S,"POST","/v1/accounts:signInWithPhoneNumber",qt(S,g))})).apply(this,arguments)}function di(){return(di=(0,h.Z)(function*(S,g){const m=yield Un(S,"POST","/v1/accounts:signInWithPhoneNumber",qt(S,g));if(m.temporaryProof)throw dr(S,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Hr={USER_NOT_FOUND:"user-not-found"};function bs(){return(bs=(0,h.Z)(function*(S,g){return Un(S,"POST","/v1/accounts:signInWithPhoneNumber",qt(S,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Hr)})).apply(this,arguments)}class Ii extends ns{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new Ii({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new Ii({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function En(S,g){return tr.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function Tr(S,g){return di.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function to(S,g){return bs.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:P,verificationCode:re}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:P,code:re}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:P,phoneNumber:re,temporaryProof:Ee}=g;return P||m||re||Ee?new Ii({verificationId:m,verificationCode:P,phoneNumber:re,temporaryProof:Ee}):null}}class qi{constructor(g){var m,P,re,Ee,Mt,ln;const ir=(0,O.zd)((0,O.pd)(g)),Sr=null!==(m=ir.apiKey)&&void 0!==m?m:null,li=null!==(P=ir.oobCode)&&void 0!==P?P:null,es=function co(S){switch(S){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(re=ir.mode)&&void 0!==re?re:null);qe(Sr&&li&&es,"argument-error"),this.apiKey=Sr,this.operation=es,this.code=li,this.continueUrl=null!==(Ee=ir.continueUrl)&&void 0!==Ee?Ee:null,this.languageCode=null!==(Mt=ir.languageCode)&&void 0!==Mt?Mt:null,this.tenantId=null!==(ln=ir.tenantId)&&void 0!==ln?ln:null}static parseLink(g){const m=function ho(S){const g=(0,O.zd)((0,O.pd)(S)).link,m=g?(0,O.zd)((0,O.pd)(g)).deep_link_id:null,P=(0,O.zd)((0,O.pd)(S)).deep_link_id;return(P?(0,O.zd)((0,O.pd)(P)).link:null)||P||m||g||S}(g);try{return new qi(m)}catch{return null}}}let ks=(()=>{class S{constructor(){this.providerId=S.PROVIDER_ID}static credential(m,P){return ds._fromEmailAndPassword(m,P)}static credentialWithLink(m,P){const re=qi.parseLink(P);return qe(re,"argument-error"),ds._fromEmailAndCode(m,re.code,re.tenantId)}}return S.PROVIDER_ID="password",S.EMAIL_PASSWORD_SIGN_IN_METHOD="password",S.EMAIL_LINK_SIGN_IN_METHOD="emailLink",S})();class Ri{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class no extends Ri{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Xi extends no{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return qe("providerId"in m&&"signInMethod"in m,"argument-error"),Je._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return qe(g.idToken||g.accessToken,"argument-error"),Je._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Xi.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Xi.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:P,oauthTokenSecret:re,pendingToken:Ee,nonce:Mt,providerId:ln}=g;if(!P&&!re&&!m&&!Ee||!ln)return null;try{return new Xi(ln)._credential({idToken:m,accessToken:P,nonce:Mt,pendingToken:Ee})}catch{return null}}}let Qo=(()=>{class S extends no{constructor(){super("facebook.com")}static credential(m){return Je._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return S.credentialFromTaggedObject(m)}static credentialFromError(m){return S.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return S.credential(m.oauthAccessToken)}catch{return null}}}return S.FACEBOOK_SIGN_IN_METHOD="facebook.com",S.PROVIDER_ID="facebook.com",S})(),Ho=(()=>{class S extends no{constructor(){super("google.com"),this.addScope("profile")}static credential(m,P){return Je._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:P})}static credentialFromResult(m){return S.credentialFromTaggedObject(m)}static credentialFromError(m){return S.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:P,oauthAccessToken:re}=m;if(!P&&!re)return null;try{return S.credential(P,re)}catch{return null}}}return S.GOOGLE_SIGN_IN_METHOD="google.com",S.PROVIDER_ID="google.com",S})(),Is=(()=>{class S extends no{constructor(){super("github.com")}static credential(m){return Je._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return S.credentialFromTaggedObject(m)}static credentialFromError(m){return S.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return S.credential(m.oauthAccessToken)}catch{return null}}}return S.GITHUB_SIGN_IN_METHOD="github.com",S.PROVIDER_ID="github.com",S})();class ro extends ns{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return hs(g,this.buildRequest())}_linkToIdToken(g,m){const P=this.buildRequest();return P.idToken=m,hs(g,P)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,hs(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:P,signInMethod:re,pendingToken:Ee}=m;return P&&re&&Ee&&P===re?new ro(P,Ee):null}static _create(g,m){return new ro(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ji extends Ri{constructor(g){qe(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return ji.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return ji.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=ro.fromJSON(g);return qe(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:P}=g;if(!m||!P)return null;try{return ro._create(P,m)}catch{return null}}}let Cs=(()=>{class S extends no{constructor(){super("twitter.com")}static credential(m,P){return Je._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:P})}static credentialFromResult(m){return S.credentialFromTaggedObject(m)}static credentialFromError(m){return S.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:P,oauthTokenSecret:re}=m;if(!P||!re)return null;try{return S.credential(P,re)}catch{return null}}}return S.TWITTER_SIGN_IN_METHOD="twitter.com",S.PROVIDER_ID="twitter.com",S})();function Ki(S,g){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,h.Z)(function*(S,g){return Un(S,"POST","/v1/accounts:signUp",qt(S,g))})).apply(this,arguments)}class $i{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,P,re=!1){return(0,h.Z)(function*(){const Ee=yield Wn._fromIdTokenResponse(g,P,re),Mt=Rs(P);return new $i({user:Ee,providerId:Mt,_tokenResponse:P,operationType:m})})()}static _forOperation(g,m,P){return(0,h.Z)(function*(){yield g._updateTokensIfNecessary(P,!0);const re=Rs(P);return new $i({user:g,providerId:re,_tokenResponse:P,operationType:m})})()}}function Rs(S){return S.providerId?S.providerId:"phoneNumber"in S?"phone":null}function ss(S){return _i.apply(this,arguments)}function _i(){return(_i=(0,h.Z)(function*(S){var g;const m=qn(S);if(yield m._initializationPromise,null!==(g=m.currentUser)&&void 0!==g&&g.isAnonymous)return new $i({user:m.currentUser,providerId:null,operationType:"signIn"});const P=yield Ki(m,{returnSecureToken:!0}),re=yield $i._fromIdTokenResponse(m,"signIn",P,!0);return yield m._updateCurrentUser(re.user),re})).apply(this,arguments)}class Ur extends O.ZR{constructor(g,m,P,re){var Ee;super(m.code,m.message),this.operationType=P,this.user=re,Object.setPrototypeOf(this,Ur.prototype),this.customData={appName:g.name,tenantId:null!==(Ee=g.tenantId)&&void 0!==Ee?Ee:void 0,_serverResponse:m.customData._serverResponse,operationType:P}}static _fromErrorAndOperation(g,m,P,re){return new Ur(g,m,P,re)}}function Ns(S,g,m,P){return("reauthenticate"===g?m._getReauthenticationResolver(S):m._getIdTokenResponse(S)).catch(Ee=>{throw"auth/multi-factor-auth-required"===Ee.code?Ur._fromErrorAndOperation(S,Ee,g,P):Ee})}function wo(S){return new Set(S.map(({providerId:g})=>g).filter(g=>!!g))}function Ds(S,g){return _r.apply(this,arguments)}function _r(){return(_r=(0,h.Z)(function*(S,g){const m=(0,O.m9)(S);yield Ts(!0,m,g);const{providerUserInfo:P}=yield bn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),re=wo(P||[]);return m.providerData=m.providerData.filter(Ee=>re.has(Ee.providerId)),re.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function os(S,g){return Os.apply(this,arguments)}function Os(){return(Os=(0,h.Z)(function*(S,g,m=!1){const P=yield ar(S,g._linkToIdToken(S.auth,yield S.getIdToken()),m);return $i._forOperation(S,"link",P)})).apply(this,arguments)}function Ts(S,g,m){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,h.Z)(function*(S,g,m){yield Pi(g);const re=!1===S?"provider-already-linked":"no-such-provider";qe(wo(g.providerData).has(m)===S,g.auth,re)})).apply(this,arguments)}function qs(S,g){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,h.Z)(function*(S,g,m=!1){const{auth:P}=S,re="reauthenticate";try{const Ee=yield ar(S,Ns(P,re,g,S),m);qe(Ee.idToken,P,"internal-error");const Mt=Dn(Ee.idToken);qe(Mt,P,"internal-error");const{sub:ln}=Mt;return qe(S.uid===ln,P,"user-mismatch"),$i._forOperation(S,re,Ee)}catch(Ee){throw"auth/user-not-found"===Ee?.code&&on(P,"user-mismatch"),Ee}})).apply(this,arguments)}function zo(S,g){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,h.Z)(function*(S,g,m=!1){const P="signIn",re=yield Ns(S,P,g),Ee=yield $i._fromIdTokenResponse(S,P,re);return m||(yield S._updateCurrentUser(Ee.user)),Ee})).apply(this,arguments)}function Po(S,g){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,h.Z)(function*(S,g){return zo(qn(S),g)})).apply(this,arguments)}function or(S,g){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,h.Z)(function*(S,g){const m=(0,O.m9)(S);return yield Ts(!1,m,g.providerId),os(m,g)})).apply(this,arguments)}function ha(S,g){return fo.apply(this,arguments)}function fo(){return(fo=(0,h.Z)(function*(S,g){return qs((0,O.m9)(S),g)})).apply(this,arguments)}function io(S,g){return hi.apply(this,arguments)}function hi(){return(hi=(0,h.Z)(function*(S,g){return Un(S,"POST","/v1/accounts:signInWithCustomToken",qt(S,g))})).apply(this,arguments)}function Ks(S,g){return as.apply(this,arguments)}function as(){return(as=(0,h.Z)(function*(S,g){const m=qn(S),P=yield io(m,{token:g,returnSecureToken:!0}),re=yield $i._fromIdTokenResponse(m,"signIn",P);return yield m._updateCurrentUser(re.user),re})).apply(this,arguments)}class Zs{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?nn._fromServerResponse(g,m):on(g,"internal-error")}}class nn extends Zs{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new nn(m)}}function Pr(S,g,m){var P;qe((null===(P=m.url)||void 0===P?void 0:P.length)>0,S,"invalid-continue-uri"),qe(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,S,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(qe(m.iOS.bundleId.length>0,S,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(qe(m.android.packageName.length>0,S,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function ko(S,g,m){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,h.Z)(function*(S,g,m){const P=(0,O.m9)(S),re={requestType:"PASSWORD_RESET",email:g};m&&Pr(P,re,m),yield cs(P,re)})).apply(this,arguments)}function Hi(S,g,m){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,h.Z)(function*(S,g,m){yield Fi((0,O.m9)(S),{oobCode:g,newPassword:m})})).apply(this,arguments)}function so(S,g){return fi.apply(this,arguments)}function fi(){return(fi=(0,h.Z)(function*(S,g){yield _o((0,O.m9)(S),{oobCode:g})})).apply(this,arguments)}function ra(S,g){return po.apply(this,arguments)}function po(){return(po=(0,h.Z)(function*(S,g){const m=(0,O.m9)(S),P=yield Fi(m,{oobCode:g}),re=P.requestType;switch(qe(re,m,"internal-error"),re){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":qe(P.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":qe(P.mfaInfo,m,"internal-error");default:qe(P.email,m,"internal-error")}let Ee=null;return P.mfaInfo&&(Ee=Zs._fromServerResponse(qn(m),P.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.newEmail:P.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.email:P.newEmail)||null,multiFactorInfo:Ee},operation:re}})).apply(this,arguments)}function Si(S,g){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,h.Z)(function*(S,g){const{data:m}=yield ra((0,O.m9)(S),g);return m.email})).apply(this,arguments)}function Y(S,g,m){return B.apply(this,arguments)}function B(){return(B=(0,h.Z)(function*(S,g,m){const P=qn(S),re=yield Ki(P,{returnSecureToken:!0,email:g,password:m}),Ee=yield $i._fromIdTokenResponse(P,"signIn",re);return yield P._updateCurrentUser(Ee.user),Ee})).apply(this,arguments)}function L(S,g,m){return Po((0,O.m9)(S),ks.credential(g,m))}function ue(S,g,m){return _t.apply(this,arguments)}function _t(){return(_t=(0,h.Z)(function*(S,g,m){const P=(0,O.m9)(S),re={requestType:"EMAIL_SIGNIN",email:g};qe(m.handleCodeInApp,P,"argument-error"),m&&Pr(P,re,m),yield is(P,re)})).apply(this,arguments)}function On(S,g){return"EMAIL_SIGNIN"===qi.parseLink(g)?.operation}function ur(S,g,m){return ls.apply(this,arguments)}function ls(){return(ls=(0,h.Z)(function*(S,g,m){const P=(0,O.m9)(S),re=ks.credentialWithLink(g,m||Me());return qe(re._tenantId===(P.tenantId||null),P,"tenant-id-mismatch"),Po(P,re)})).apply(this,arguments)}function u(S,g){return p.apply(this,arguments)}function p(){return(p=(0,h.Z)(function*(S,g){return Ht(S,"POST","/v1/accounts:createAuthUri",qt(S,g))})).apply(this,arguments)}function _(S,g){return x.apply(this,arguments)}function x(){return(x=(0,h.Z)(function*(S,g){const P={identifier:g,continueUri:tt()?Me():"http://localhost"},{signinMethods:re}=yield u((0,O.m9)(S),P);return re||[]})).apply(this,arguments)}function $(S,g){return G.apply(this,arguments)}function G(){return(G=(0,h.Z)(function*(S,g){const m=(0,O.m9)(S),re={requestType:"VERIFY_EMAIL",idToken:yield S.getIdToken()};g&&Pr(m.auth,re,g);const{email:Ee}=yield Ws(m.auth,re);Ee!==S.email&&(yield S.reload())})).apply(this,arguments)}function le(S,g,m){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,h.Z)(function*(S,g,m){const P=(0,O.m9)(S),Ee={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield S.getIdToken(),newEmail:g};m&&Pr(P.auth,Ee,m);const{email:Mt}=yield jo(P.auth,Ee);Mt!==S.email&&(yield S.reload())})).apply(this,arguments)}function he(S,g){return He.apply(this,arguments)}function He(){return(He=(0,h.Z)(function*(S,g){return Ht(S,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Xe(S,g){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,h.Z)(function*(S,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const P=(0,O.m9)(S),Ee={idToken:yield P.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},Mt=yield ar(P,he(P.auth,Ee));P.displayName=Mt.displayName||null,P.photoURL=Mt.photoUrl||null;const ln=P.providerData.find(({providerId:ir})=>"password"===ir);ln&&(ln.displayName=P.displayName,ln.photoURL=P.photoURL),yield P._updateTokensIfNecessary(Mt)})).apply(this,arguments)}function ge(S,g){return k((0,O.m9)(S),g,null)}function I(S,g){return k((0,O.m9)(S),null,g)}function k(S,g,m){return T.apply(this,arguments)}function T(){return(T=(0,h.Z)(function*(S,g,m){const{auth:P}=S,Ee={idToken:yield S.getIdToken(),returnSecureToken:!0};g&&(Ee.email=g),m&&(Ee.password=m);const Mt=yield ar(S,vi(P,Ee));yield S._updateTokensIfNecessary(Mt,!0)})).apply(this,arguments)}class z{constructor(g,m,P={}){this.isNewUser=g,this.providerId=m,this.profile=P}}class X extends z{constructor(g,m,P,re){super(g,m,P),this.username=re}}class W extends z{constructor(g,m){super(g,"facebook.com",m)}}class J extends X{constructor(g,m){super(g,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class se extends z{constructor(g,m){super(g,"google.com",m)}}class pe extends X{constructor(g,m,P){super(g,"twitter.com",m,P)}}function ve(S){const{user:g,_tokenResponse:m}=S;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function U(S){var g,m;if(!S)return null;const{providerId:P}=S,re=S.rawUserInfo?JSON.parse(S.rawUserInfo):{},Ee=S.isNewUser||"identitytoolkit#SignupNewUserResponse"===S.kind;if(!P&&S?.idToken){const Mt=null===(m=null===(g=Dn(S.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(Mt)return new z(Ee,"anonymous"!==Mt&&"custom"!==Mt?Mt:null)}if(!P)return null;switch(P){case"facebook.com":return new W(Ee,re);case"github.com":return new J(Ee,re);case"google.com":return new se(Ee,re);case"twitter.com":return new pe(Ee,re,S.screenName||null);case"custom":case"anonymous":return new z(Ee,null);default:return new z(Ee,P,re)}}(m)}class De{constructor(g,m,P){this.type=g,this.credential=m,this.auth=P}static _fromIdtoken(g,m){return new De("enroll",g,m)}static _fromMfaPendingCredential(g){return new De("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,P;if(g?.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return De._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(P=g.multiFactorSession)&&void 0!==P&&P.idToken)return De._fromIdtoken(g.multiFactorSession.idToken)}return null}}class fe{constructor(g,m,P){this.session=g,this.hints=m,this.signInResolver=P}static _fromError(g,m){const P=qn(g),re=m.customData._serverResponse,Ee=(re.mfaInfo||[]).map(ln=>Zs._fromServerResponse(P,ln));qe(re.mfaPendingCredential,P,"internal-error");const Mt=De._fromMfaPendingCredential(re.mfaPendingCredential);return new fe(Mt,Ee,function(){var ln=(0,h.Z)(function*(ir){const Sr=yield ir._process(P,Mt);delete re.mfaInfo,delete re.mfaPendingCredential;const li=Object.assign(Object.assign({},re),{idToken:Sr.idToken,refreshToken:Sr.refreshToken});switch(m.operationType){case"signIn":const es=yield $i._fromIdTokenResponse(P,m.operationType,li);return yield P._updateCurrentUser(es.user),es;case"reauthenticate":return qe(m.user,P,"internal-error"),$i._forOperation(m.user,m.operationType,li);default:on(P,"internal-error")}});return function(ir){return ln.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,h.Z)(function*(){return m.signInResolver(g)})()}}function Fe(S,g){var m;const P=(0,O.m9)(S),re=g;return qe(g.customData.operationType,P,"argument-error"),qe(null===(m=re.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,P,"argument-error"),fe._fromError(P,re)}function Ut(S,g){return Ht(S,"POST","/v2/accounts/mfaEnrollment:start",qt(S,g))}class Or{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(P=>Zs._fromServerResponse(g.auth,P)))})}static _fromUser(g){return new Or(g)}getSession(){var g=this;return(0,h.Z)(function*(){return De._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,m){var P=this;return(0,h.Z)(function*(){const re=g,Ee=yield P.getSession(),Mt=yield ar(P.user,re._process(P.user.auth,Ee,m));return yield P.user._updateTokensIfNecessary(Mt),P.user.reload()})()}unenroll(g){var m=this;return(0,h.Z)(function*(){const P="string"==typeof g?g:g.uid,re=yield m.user.getIdToken();try{const Ee=yield ar(m.user,function Kn(S,g){return Ht(S,"POST","/v2/accounts/mfaEnrollment:withdraw",qt(S,g))}(m.user.auth,{idToken:re,mfaEnrollmentId:P}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Mt})=>Mt!==P),yield m.user._updateTokensIfNecessary(Ee),yield m.user.reload()}catch(Ee){throw Ee}})()}}const Mr=new WeakMap;function Vi(S){const g=(0,O.m9)(S);return Mr.has(g)||Mr.set(g,Or._fromUser(g)),Mr.get(g)}const Xr="__sak";class ys{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Xr,"1"),this.storage.removeItem(Xr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const ni=(()=>{class S extends ys{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,P)=>this.onStorageEvent(m,P),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Vs(){const S=(0,O.z$)();return Ie(S)||we(S)}()&&function Hn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=In(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const P of Object.keys(this.listeners)){const re=this.storage.getItem(P),Ee=this.localCache[P];re!==Ee&&m(P,Ee,re)}}onStorageEvent(m,P=!1){if(!m.key)return void this.forAllChangedKeys((ln,ir,Sr)=>{this.notifyListeners(ln,Sr)});const re=m.key;if(P?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ln=this.storage.getItem(re);if(m.newValue!==ln)null!==m.newValue?this.storage.setItem(re,m.newValue):this.storage.removeItem(re);else if(this.localCache[re]===m.newValue&&!P)return}const Ee=()=>{const ln=this.storage.getItem(re);!P&&this.localCache[re]===ln||this.notifyListeners(re,ln)},Mt=this.storage.getItem(re);!function bt(){return(0,O.w1)()&&10===document.documentMode}()||Mt===m.newValue||m.newValue===m.oldValue?Ee():setTimeout(Ee,10)}notifyListeners(m,P){this.localCache[m]=P;const re=this.listeners[m];if(re)for(const Ee of Array.from(re))Ee(P&&JSON.parse(P))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,P,re)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:P,newValue:re}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,P){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(P)}_removeListener(m,P){this.listeners[m]&&(this.listeners[m].delete(P),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,P){var re=()=>super._set,Ee=this;return(0,h.Z)(function*(){yield re().call(Ee,m,P),Ee.localCache[m]=JSON.stringify(P)})()}_get(m){var P=()=>super._get,re=this;return(0,h.Z)(function*(){const Ee=yield P().call(re,m);return re.localCache[m]=JSON.stringify(Ee),Ee})()}_remove(m){var P=()=>super._remove,re=this;return(0,h.Z)(function*(){yield P().call(re,m),delete re.localCache[m]})()}}return S.type="LOCAL",S})(),ri=(()=>{class S extends ys{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,P){}_removeListener(m,P){}}return S.type="SESSION",S})();let go=(()=>{class S{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const P=this.receivers.find(Ee=>Ee.isListeningto(m));if(P)return P;const re=new S(m);return this.receivers.push(re),re}isListeningto(m){return this.eventTarget===m}handleEvent(m){var P=this;return(0,h.Z)(function*(){const re=m,{eventId:Ee,eventType:Mt,data:ln}=re.data,ir=P.handlersMap[Mt];if(!ir?.size)return;re.ports[0].postMessage({status:"ack",eventId:Ee,eventType:Mt});const Sr=Array.from(ir).map(function(){var es=(0,h.Z)(function*(la){return la(re.origin,ln)});return function(la){return es.apply(this,arguments)}}()),li=yield function As(S){return Promise.all(S.map(function(){var g=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(P){return{fulfilled:!1,reason:P}}});return function(m){return g.apply(this,arguments)}}()))}(Sr);re.ports[0].postMessage({status:"done",eventId:Ee,eventType:Mt,response:li})})()}_subscribe(m,P){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(P)}_unsubscribe(m,P){this.handlersMap[m]&&P&&this.handlersMap[m].delete(P),(!P||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return S.receivers=[],S})();function No(S="",g=10){let m="";for(let P=0;P<g;P++)m+=Math.floor(10*Math.random());return S+m}class an{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,P=50){var re=this;return(0,h.Z)(function*(){const Ee=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ee)throw new Error("connection_unavailable");let Mt,ln;return new Promise((ir,Sr)=>{const li=No("",20);Ee.port1.start();const es=setTimeout(()=>{Sr(new Error("unsupported_event"))},P);ln={messageChannel:Ee,onMessage(la){const Za=la;if(Za.data.eventId===li)switch(Za.data.status){case"ack":clearTimeout(es),Mt=setTimeout(()=>{Sr(new Error("timeout"))},3e3);break;case"done":clearTimeout(Mt),ir(Za.data.response);break;default:clearTimeout(es),clearTimeout(Mt),Sr(new Error("invalid_response"))}}},re.handlers.add(ln),Ee.port1.addEventListener("message",ln.onMessage),re.target.postMessage({eventType:g,eventId:li,data:m},[Ee.port2])}).finally(()=>{ln&&re.removeMessageHandler(ln)})})()}}function wr(){return window}function wi(){return typeof wr().WorkerGlobalScope<"u"&&"function"==typeof wr().importScripts}function Vn(){return(Vn=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const At="firebaseLocalStorageDb",Di="firebaseLocalStorage",Oo="fbase_key";class va{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function fa(S,g){return S.transaction([Di],g?"readwrite":"readonly").objectStore(Di)}function Ra(){const S=indexedDB.open(At,1);return new Promise((g,m)=>{S.addEventListener("error",()=>{m(S.error)}),S.addEventListener("upgradeneeded",()=>{const P=S.result;try{P.createObjectStore(Di,{keyPath:Oo})}catch(re){m(re)}}),S.addEventListener("success",(0,h.Z)(function*(){const P=S.result;P.objectStoreNames.contains(Di)?g(P):(P.close(),yield function al(){const S=indexedDB.deleteDatabase(At);return new va(S).toPromise()}(),g(yield Ra()))}))})}function _a(S,g,m){return ia.apply(this,arguments)}function ia(){return(ia=(0,h.Z)(function*(S,g,m){const P=fa(S,!0).put({[Oo]:g,value:m});return new va(P).toPromise()})).apply(this,arguments)}function K(){return(K=(0,h.Z)(function*(S,g){const m=fa(S,!1).get(g),P=yield new va(m).toPromise();return void 0===P?null:P.value})).apply(this,arguments)}function v(S,g){const m=fa(S,!0).delete(g);return new va(m).toPromise()}const me=(()=>{class S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield Ra()),m.db})()}_withRetries(m){var P=this;return(0,h.Z)(function*(){let re=0;for(;;)try{const Ee=yield P._openDb();return yield m(Ee)}catch(Ee){if(re++>3)throw Ee;P.db&&(P.db.close(),P.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return wi()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=go._getInstance(function Cn(){return wi()?self:null}()),m.receiver._subscribe("keyChanged",function(){var P=(0,h.Z)(function*(re,Ee){return{keyProcessed:(yield m._poll()).includes(Ee.key)}});return function(re,Ee){return P.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var P=(0,h.Z)(function*(re,Ee){return["keyChanged"]});return function(re,Ee){return P.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var P,re;if(m.activeServiceWorker=yield function Rn(){return Vn.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new an(m.activeServiceWorker);const Ee=yield m.sender._send("ping",{},800);!Ee||(null===(P=Ee[0])||void 0===P?void 0:P.fulfilled)&&(null===(re=Ee[0])||void 0===re?void 0:re.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var P=this;return(0,h.Z)(function*(){if(P.sender&&P.activeServiceWorker&&function bo(){var S;return(null===(S=navigator?.serviceWorker)||void 0===S?void 0:S.controller)||null}()===P.activeServiceWorker)try{yield P.sender._send("keyChanged",{key:m},P.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ra();return yield _a(m,Xr,"1"),yield v(m,Xr),!0}catch{}return!1})()}_withPendingWrite(m){var P=this;return(0,h.Z)(function*(){P.pendingWrites++;try{yield m()}finally{P.pendingWrites--}})()}_set(m,P){var re=this;return(0,h.Z)(function*(){return re._withPendingWrite((0,h.Z)(function*(){return yield re._withRetries(Ee=>_a(Ee,m,P)),re.localCache[m]=P,re.notifyServiceWorker(m)}))})()}_get(m){var P=this;return(0,h.Z)(function*(){const re=yield P._withRetries(Ee=>function Cl(S,g){return K.apply(this,arguments)}(Ee,m));return P.localCache[m]=re,re})()}_remove(m){var P=this;return(0,h.Z)(function*(){return P._withPendingWrite((0,h.Z)(function*(){return yield P._withRetries(re=>v(re,m)),delete P.localCache[m],P.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const P=yield m._withRetries(Mt=>{const ln=fa(Mt,!1).getAll();return new va(ln).toPromise()});if(!P)return[];if(0!==m.pendingWrites)return[];const re=[],Ee=new Set;for(const{fbase_key:Mt,value:ln}of P)Ee.add(Mt),JSON.stringify(m.localCache[Mt])!==JSON.stringify(ln)&&(m.notifyListeners(Mt,ln),re.push(Mt));for(const Mt of Object.keys(m.localCache))m.localCache[Mt]&&!Ee.has(Mt)&&(m.notifyListeners(Mt,null),re.push(Mt));return re})()}notifyListeners(m,P){this.localCache[m]=P;const re=this.listeners[m];if(re)for(const Ee of Array.from(re))Ee(P)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,P){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(P)}_removeListener(m,P){this.listeners[m]&&(this.listeners[m].delete(P),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return S.type="LOCAL",S})();function Be(S,g){return Ht(S,"POST","/v2/accounts/mfaSignIn:start",qt(S,g))}function wt(){return(wt=(0,h.Z)(function*(S){return(yield Ht(S,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function gn(S){return new Promise((g,m)=>{const P=document.createElement("script");P.setAttribute("src",S),P.onload=g,P.onerror=re=>{const Ee=Oe("internal-error");Ee.customData=re,m(Ee)},P.type="text/javascript",P.charset="UTF-8",function Fn(){var S,g;return null!==(g=null===(S=document.getElementsByTagName("head"))||void 0===S?void 0:S[0])&&void 0!==g?g:document}().appendChild(P)})}function Xt(S){return`__${S}${Math.floor(1e6*Math.random())}`}const rr=1e12;class bi{constructor(g){this.auth=g,this.counter=rr,this._widgets=new Map}render(g,m){const P=this.counter;return this._widgets.set(P,new gr(g,this.auth.name,m||{})),this.counter++,P}reset(g){var m;const P=g||rr;null===(m=this._widgets.get(P))||void 0===m||m.delete(),this._widgets.delete(P)}getResponse(g){var m;return(null===(m=this._widgets.get(g||rr))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,h.Z)(function*(){var P;return null===(P=m._widgets.get(g||rr))||void 0===P||P.execute(),""})()}}class gr{constructor(g,m,P){this.params=P,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const re="string"==typeof g?document.getElementById(g):g;qe(re,"argument-error",{appName:m}),this.container=re,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function mo(S){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let P=0;P<S;P++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const vs=Xt("rcb"),_s=new It(3e4,6e4);class Ms{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=wr().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return qe(function Bs(S){return S.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(S)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(wr().grecaptcha):new Promise((P,re)=>{const Ee=wr().setTimeout(()=>{re(Oe(g,"network-request-failed"))},_s.get());wr()[vs]=()=>{wr().clearTimeout(Ee),delete wr()[vs];const ln=wr().grecaptcha;if(!ln)return void re(Oe(g,"internal-error"));const ir=ln.render;ln.render=(Sr,li)=>{const es=ir(Sr,li);return this.counter++,es},this.hostLanguage=m,P(ln)},gn(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:vs,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(Ee),re(Oe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=wr().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class pa{load(g){return(0,h.Z)(function*(){return new bi(g)})()}clearedOneInstance(){}}const yo="recaptcha",Fo={theme:"light",type:"image"};class ll{constructor(g,m=Object.assign({},Fo),P){this.parameters=m,this.type=yo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qn(P),this.isInvisible="invisible"===this.parameters.size,qe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const re="string"==typeof g?document.getElementById(g):g;qe(re,this.auth,"argument-error"),this.container=re,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pa:new Ms,this.validateStartingState()}verify(){var g=this;return(0,h.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),P=g.getAssertedRecaptcha();return P.getResponse(m)||new Promise(Ee=>{const Mt=ln=>{!ln||(g.tokenChangeListeners.delete(Mt),Ee(ln))};g.tokenChangeListeners.add(Mt),g.isInvisible&&P.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){qe(!this.parameters.sitekey,this.auth,"argument-error"),qe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),qe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(P=>P(m)),"function"==typeof g)g(m);else if("string"==typeof g){const P=wr()[g];"function"==typeof P&&P(m)}}}assertNotDestroyed(){qe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,h.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const P=document.createElement("div");m.appendChild(P),m=P}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,h.Z)(function*(){qe(tt()&&!wi(),g.auth,"internal-error"),yield function gt(){let S=null;return new Promise(g=>{"complete"!==document.readyState?(S=()=>g(),window.addEventListener("load",S)):g()}).catch(g=>{throw S&&window.removeEventListener("load",S),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function Et(S){return wt.apply(this,arguments)}(g.auth);qe(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return qe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Io{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=Ii._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Co(S,g,m){return za.apply(this,arguments)}function za(){return(za=(0,h.Z)(function*(S,g,m){const P=qn(S),re=yield Yi(P,g,(0,O.m9)(m));return new Io(re,Ee=>Po(P,Ee))})).apply(this,arguments)}function Zn(S,g,m){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,h.Z)(function*(S,g,m){const P=(0,O.m9)(S);yield Ts(!1,P,"phone");const re=yield Yi(P.auth,g,(0,O.m9)(m));return new Io(re,Ee=>or(P,Ee))})).apply(this,arguments)}function fr(S,g,m){return Br.apply(this,arguments)}function Br(){return(Br=(0,h.Z)(function*(S,g,m){const P=(0,O.m9)(S),re=yield Yi(P.auth,g,(0,O.m9)(m));return new Io(re,Ee=>ha(P,Ee))})).apply(this,arguments)}function Yi(S,g,m){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,h.Z)(function*(S,g,m){var P;const re=yield m.verify();try{let Ee;if(qe("string"==typeof re,S,"argument-error"),qe(m.type===yo,S,"argument-error"),Ee="string"==typeof g?{phoneNumber:g}:g,"session"in Ee){const Mt=Ee.session;if("phoneNumber"in Ee)return qe("enroll"===Mt.type,S,"internal-error"),(yield Ut(S,{idToken:Mt.credential,phoneEnrollmentInfo:{phoneNumber:Ee.phoneNumber,recaptchaToken:re}})).phoneSessionInfo.sessionInfo;{qe("signin"===Mt.type,S,"internal-error");const ln=(null===(P=Ee.multiFactorHint)||void 0===P?void 0:P.uid)||Ee.multiFactorUid;return qe(ln,S,"missing-multi-factor-info"),(yield Be(S,{mfaPendingCredential:Mt.credential,mfaEnrollmentId:ln,phoneSignInInfo:{recaptchaToken:re}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Mt}=yield mt(S,{phoneNumber:Ee.phoneNumber,recaptchaToken:re});return Mt}}finally{m._reset()}})).apply(this,arguments)}function Lo(S,g){return ga.apply(this,arguments)}function ga(){return(ga=(0,h.Z)(function*(S,g){yield os((0,O.m9)(S),g)})).apply(this,arguments)}let ai=(()=>{class S{constructor(m){this.providerId=S.PROVIDER_ID,this.auth=qn(m)}verifyPhoneNumber(m,P){return Yi(this.auth,m,(0,O.m9)(P))}static credential(m,P){return Ii._fromVerification(m,P)}static credentialFromResult(m){return S.credentialFromTaggedObject(m)}static credentialFromError(m){return S.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:P,temporaryProof:re}=m;return P&&re?Ii._fromTokenResponse(P,re):null}}return S.PROVIDER_ID="phone",S.PHONE_SIGN_IN_METHOD="phone",S})();function ba(S,g){return g?Rt(g):(qe(S._popupRedirectResolver,S,"argument-error"),S._popupRedirectResolver)}class ma extends ns{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return hs(g,this._buildIdpRequest())}_linkToIdToken(g,m){return hs(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return hs(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function js(S){return zo(S.auth,new ma(S),S.bypassAuthState)}function Qi(S){const{auth:g,user:m}=S;return qe(m,g,"internal-error"),qs(m,new ma(S),S.bypassAuthState)}function vo(S){return C.apply(this,arguments)}function C(){return(C=(0,h.Z)(function*(S){const{auth:g,user:m}=S;return qe(m,g,"internal-error"),os(m,new ma(S),S.bypassAuthState)})).apply(this,arguments)}class D{constructor(g,m,P,re,Ee=!1){this.auth=g,this.resolver=P,this.user=re,this.bypassAuthState=Ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,h.Z)(function*(P,re){g.pendingPromise={resolve:P,reject:re};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(Ee){g.reject(Ee)}});return function(P,re){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,h.Z)(function*(){const{urlResponse:P,sessionId:re,postBody:Ee,tenantId:Mt,error:ln,type:ir}=g;if(ln)return void m.reject(ln);const Sr={auth:m.auth,requestUri:P,sessionId:re,tenantId:Mt||void 0,postBody:Ee||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(ir)(Sr))}catch(li){m.reject(li)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return js;case"linkViaPopup":case"linkViaRedirect":return vo;case"reauthViaPopup":case"reauthViaRedirect":return Qi;default:on(this.auth,"internal-error")}}resolve(g){Dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const b=new It(2e3,1e4);function N(S,g,m){return j.apply(this,arguments)}function j(){return(j=(0,h.Z)(function*(S,g,m){const P=qn(S);Tt(S,g,Ri);const re=ba(P,m);return new Sn(P,"signInViaPopup",g,re).executeNotNull()})).apply(this,arguments)}function ae(S,g,m){return ke.apply(this,arguments)}function ke(){return(ke=(0,h.Z)(function*(S,g,m){const P=(0,O.m9)(S);Tt(P.auth,g,Ri);const re=ba(P.auth,m);return new Sn(P.auth,"reauthViaPopup",g,re,P).executeNotNull()})).apply(this,arguments)}function Ue(S,g,m){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,h.Z)(function*(S,g,m){const P=(0,O.m9)(S);Tt(P.auth,g,Ri);const re=ba(P.auth,m);return new Sn(P.auth,"linkViaPopup",g,re,P).executeNotNull()})).apply(this,arguments)}let Sn=(()=>{class S extends D{constructor(m,P,re,Ee,Mt){super(m,P,Ee,Mt),this.provider=re,this.authWindow=null,this.pollId=null,S.currentPopupAction&&S.currentPopupAction.cancel(),S.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const P=yield m.execute();return qe(P,m.auth,"internal-error"),P})()}onExecution(){var m=this;return(0,h.Z)(function*(){Dt(1===m.filter.length,"Popup operations only handle one event");const P=No();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],P),m.authWindow.associatedEvent=P,m.resolver._originValidation(m.auth).catch(re=>{m.reject(re)}),m.resolver._isIframeWebStorageSupported(m.auth,re=>{re||m.reject(Oe(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,S.currentPopupAction=null}pollUserCancellation(){const m=()=>{var P,re;this.pollId=null!==(re=null===(P=this.authWindow)||void 0===P?void 0:P.window)&&void 0!==re&&re.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,b.get())};m()}}return S.currentPopupAction=null,S})();const Ln=new Map;class Zr extends D{constructor(g,m,P=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,P),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,h.Z)(function*(){let P=Ln.get(m.auth._key());if(!P){try{const Ee=(yield function oo(S,g){return Qs.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;P=()=>Promise.resolve(Ee)}catch(re){P=()=>Promise.reject(re)}Ln.set(m.auth._key(),P)}return m.bypassAuthState||Ln.set(m.auth._key(),()=>Promise.resolve(null)),P()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,P=this;return(0,h.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(P,g);if("unknown"!==g.type){if(g.eventId){const re=yield P.auth._redirectUserForId(g.eventId);if(re)return P.user=re,m().call(P,g);P.resolve(null)}}else P.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Qs(){return(Qs=(0,h.Z)(function*(S,g){const m=Aa(g),P=wa(S);if(!(yield P._isAvailable()))return!1;const re="true"===(yield P._get(m));return yield P._remove(m),re})).apply(this,arguments)}function ps(S,g){return Do.apply(this,arguments)}function Do(){return(Do=(0,h.Z)(function*(S,g){return wa(S)._set(Aa(g),"true")})).apply(this,arguments)}function qo(){Ln.clear()}function Na(S,g){Ln.set(S._key(),g)}function wa(S){return Rt(S._redirectPersistence)}function Aa(S){return Re("pendingRedirect",S.config.apiKey,S.name)}function Wa(S,g,m){return function Js(S,g,m){return qa.apply(this,arguments)}(S,g,m)}function qa(){return(qa=(0,h.Z)(function*(S,g,m){const P=qn(S);Tt(S,g,Ri),yield P._initializationPromise;const re=ba(P,m);return yield ps(re,P),re._openRedirect(P,g,"signInViaRedirect")})).apply(this,arguments)}function V(S,g,m){return function q(S,g,m){return oe.apply(this,arguments)}(S,g,m)}function oe(){return(oe=(0,h.Z)(function*(S,g,m){const P=(0,O.m9)(S);Tt(P.auth,g,Ri),yield P.auth._initializationPromise;const re=ba(P.auth,m);yield ps(re,P.auth);const Ee=yield pi(P);return re._openRedirect(P.auth,g,"reauthViaRedirect",Ee)})).apply(this,arguments)}function je(S,g,m){return function ct(S,g,m){return Nt.apply(this,arguments)}(S,g,m)}function Nt(){return(Nt=(0,h.Z)(function*(S,g,m){const P=(0,O.m9)(S);Tt(P.auth,g,Ri),yield P.auth._initializationPromise;const re=ba(P.auth,m);yield Ts(!1,P,g.providerId),yield ps(re,P.auth);const Ee=yield pi(P);return re._openRedirect(P.auth,g,"linkViaRedirect",Ee)})).apply(this,arguments)}function dn(S,g){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,h.Z)(function*(S,g){return yield qn(S)._initializationPromise,mr(S,g,!1)})).apply(this,arguments)}function mr(S,g){return cr.apply(this,arguments)}function cr(){return(cr=(0,h.Z)(function*(S,g,m=!1){const P=qn(S),re=ba(P,g),Mt=yield new Zr(P,re,m).execute();return Mt&&!m&&(delete Mt.user._redirectEventId,yield P._persistUserIfCurrent(Mt.user),yield P._setRedirectUser(null,g)),Mt})).apply(this,arguments)}function pi(S){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,h.Z)(function*(S){const g=No(`${S.uid}:::`);return S._redirectEventId=g,yield S.auth._setRedirectUser(S),yield S.auth._persistUserIfCurrent(S),g})).apply(this,arguments)}class Ir{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(P=>{this.isEventForConsumer(g,P)&&(m=!0,this.sendToConsumer(g,P),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ka(S){switch(S.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Oa(S);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var P;if(g.error&&!Oa(g)){const re=(null===(P=g.error.code)||void 0===P?void 0:P.split("auth/")[1])||"internal-error";m.onError(Oe(this.auth,re))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const P=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&P}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ai(g))}saveEventToCache(g){this.cachedEventUids.add(Ai(g)),this.lastProcessedEventTime=Date.now()}}function Ai(S){return[S.type,S.eventId,S.sessionId,S.tenantId].filter(g=>g).join("-")}function Oa({type:S,error:g}){return"unknown"===S&&"auth/no-auth-event"===g?.code}function To(S){return ea.apply(this,arguments)}function ea(){return(ea=(0,h.Z)(function*(S,g={}){return Ht(S,"GET","/v1/projects",g)})).apply(this,arguments)}const Bl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ff=/^https?/;function Gu(){return(Gu=(0,h.Z)(function*(S){if(S.config.emulator)return;const{authorizedDomains:g}=yield To(S);for(const m of g)try{if(sg(m))return}catch{}on(S,"unauthorized-domain")})).apply(this,arguments)}function sg(S){const g=Me(),{protocol:m,hostname:P}=new URL(g);if(S.startsWith("chrome-extension://")){const Mt=new URL(S);return""===Mt.hostname&&""===P?"chrome-extension:"===m&&S.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&Mt.hostname===P}if(!ff.test(m))return!1;if(Bl.test(S))return P===S;const re=S.replace(/\./g,"\\.");return new RegExp("^(.+\\."+re+"|"+re+")$","i").test(P)}const pf=new It(3e4,6e4);function Pd(){const S=wr().___jsl;if(S?.H)for(const g of Object.keys(S.H))if(S.H[g].r=S.H[g].r||[],S.H[g].L=S.H[g].L||[],S.H[g].r=[...S.H[g].L],S.CP)for(let m=0;m<S.CP.length;m++)S.CP[m]=null}let Dl=null;function Uc(S){return Dl=Dl||function kd(S){return new Promise((g,m)=>{var P,re,Ee;function Mt(){Pd(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Pd(),m(Oe(S,"network-request-failed"))},timeout:pf.get()})}if(null!==(re=null===(P=wr().gapi)||void 0===P?void 0:P.iframes)&&void 0!==re&&re.Iframe)g(gapi.iframes.getContext());else{if(null===(Ee=wr().gapi)||void 0===Ee||!Ee.load){const ln=Xt("iframefcb");return wr()[ln]=()=>{gapi.load?Mt():m(Oe(S,"network-request-failed"))},gn(`https://apis.google.com/js/api.js?onload=${ln}`).catch(ir=>m(ir))}Mt()}}).catch(g=>{throw Dl=null,g})}(S),Dl}const gf=new It(5e3,15e3),Nd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},So=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zu(S){const g=S.config;qe(g.authDomain,S,"auth-domain-config-required");const m=g.emulator?Nn(g,"emulator/auth/iframe"):`https://${S.config.authDomain}/__/auth/iframe`,P={apiKey:g.apiKey,appName:S.name,v:ee.SDK_VERSION},re=So.get(S.config.apiHost);re&&(P.eid=re);const Ee=S._getFrameworks();return Ee.length&&(P.fw=Ee.join(",")),`${m}?${(0,O.xO)(P).slice(1)}`}function Gi(){return Gi=(0,h.Z)(function*(S){const g=yield Uc(S),m=wr().gapi;return qe(m,S,"internal-error"),g.open({where:document.body,url:zu(S),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nd,dontclear:!0},P=>new Promise(function(){var re=(0,h.Z)(function*(Ee,Mt){yield P.restyle({setHideOnLeave:!1});const ln=Oe(S,"network-request-failed"),ir=wr().setTimeout(()=>{Mt(ln)},gf.get());function Sr(){wr().clearTimeout(ir),Ee(P)}P.ping(Sr).then(Sr,()=>{Mt(ln)})});return function(Ee,Mt){return re.apply(this,arguments)}}()))}),Gi.apply(this,arguments)}const mf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $s{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ul(S,g,m,P,re,Ee){qe(S.config.authDomain,S,"auth-domain-config-required"),qe(S.config.apiKey,S,"invalid-api-key");const Mt={apiKey:S.config.apiKey,appName:S.name,authType:m,redirectUrl:P,v:ee.SDK_VERSION,eventId:re};if(g instanceof Ri){g.setDefaultLanguage(S.languageCode),Mt.providerId=g.providerId||"",(0,O.xb)(g.getCustomParameters())||(Mt.customParameters=JSON.stringify(g.getCustomParameters()));for(const[ir,Sr]of Object.entries(Ee||{}))Mt[ir]=Sr}if(g instanceof no){const ir=g.getScopes().filter(Sr=>""!==Sr);ir.length>0&&(Mt.scopes=ir.join(","))}S.tenantId&&(Mt.tid=S.tenantId);const ln=Mt;for(const ir of Object.keys(ln))void 0===ln[ir]&&delete ln[ir];return`${function Eu({config:S}){return S.emulator?Nn(S,"emulator/auth/handler"):`https://${S.authDomain}/__/auth/handler`}(S)}?${(0,O.xO)(ln).slice(1)}`}const wu="webStorageSupport",Zo=class Bc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ri,this._completeRedirectFn=mr,this._overrideRedirectResult=Na}_openPopup(g,m,P,re){var Ee=this;return(0,h.Z)(function*(){var Mt;Dt(null===(Mt=Ee.eventManagers[g._key()])||void 0===Mt?void 0:Mt.manager,"_initialize() not called before _openPopup()");const ln=ul(g,m,P,Me(),re);return function og(S,g,m,P=500,re=600){const Ee=Math.max((window.screen.availHeight-re)/2,0).toString(),Mt=Math.max((window.screen.availWidth-P)/2,0).toString();let ln="";const ir=Object.assign(Object.assign({},mf),{width:P.toString(),height:re.toString(),top:Ee,left:Mt}),Sr=(0,O.z$)().toLowerCase();m&&(ln=ot(Sr)?"_blank":m),ie(Sr)&&(g=g||"http://localhost",ir.scrollbars="yes");const li=Object.entries(ir).reduce((la,[Za,Ma])=>`${la}${Za}=${Ma},`,"");if(function st(S=(0,O.z$)()){var g;return we(S)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Sr)&&"_self"!==ln)return function Od(S,g){const m=document.createElement("a");m.href=S,m.target=g;const P=document.createEvent("MouseEvent");P.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(P)}(g||"",ln),new $s(null);const es=window.open(g||"",ln,li);qe(es,S,"popup-blocked");try{es.focus()}catch{}return new $s(es)}(g,ln,No())})()}_openRedirect(g,m,P,re){var Ee=this;return(0,h.Z)(function*(){return yield Ee._originValidation(g),function Us(S){wr().location.href=S}(ul(g,m,P,Me(),re)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:re,promise:Ee}=this.eventManagers[m];return re?Promise.resolve(re):(Dt(Ee,"If manager is not set, promise should be"),Ee)}const P=this.initAndGetManager(g);return this.eventManagers[m]={promise:P},P.catch(()=>{delete this.eventManagers[m]}),P}initAndGetManager(g){var m=this;return(0,h.Z)(function*(){const P=yield function ta(S){return Gi.apply(this,arguments)}(g),re=new Ir(g);return P.register("authEvent",Ee=>(qe(Ee?.authEvent,g,"invalid-auth-event"),{status:re.onEvent(Ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:re},m.iframes[g._key()]=P,re})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(wu,{type:wu},re=>{var Ee;const Mt=null===(Ee=re?.[0])||void 0===Ee?void 0:Ee[wu];void 0!==Mt&&m(!!Mt),on(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Vc(S){return Gu.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return In()||Ie()||we()}};class cl extends class Fd{constructor(g){this.factorId=g}_process(g,m,P){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,P);case"signin":return this._finalizeSignIn(g,m.credential);default:return lt("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new cl(g)}_finalizeEnroll(g,m,P){return function kt(S,g){return Ht(S,"POST","/v2/accounts/mfaEnrollment:finalize",qt(S,g))}(g,{idToken:m,displayName:P,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Se(S,g){return Ht(S,"POST","/v2/accounts/mfaSignIn:finalize",qt(S,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ld=(()=>{class S{constructor(){}static assertion(m){return cl._fromCredential(m)}}return S.FACTOR_ID="phone",S})();var bu="@firebase/auth";class jc{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(P=>{g(P?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,O.Pz)("authIdTokenMaxAge"),function ya(S){(0,ee._registerComponent)(new We.wA("auth",(g,{options:m})=>{const P=g.getProvider("app").getImmediate(),re=g.getProvider("heartbeat"),{apiKey:Ee,authDomain:Mt}=P.options;return((ln,ir)=>{qe(Ee&&!Ee.includes(":"),"invalid-api-key",{appName:ln.name}),qe(!Mt?.includes(":"),"argument-error",{appName:ln.name});const Sr={apiKey:Ee,authDomain:Mt,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$n(S)},li=new Ji(ln,ir,Sr);return function yt(S,g){const m=g?.persistence||[],P=(Array.isArray(m)?m:[m]).map(Rt);g?.errorMap&&S._updateErrorMap(g.errorMap),S._initializeWithPersistence(P,g?.popupRedirectResolver)}(li,m),li})(P,re)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,P)=>{g.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new We.wA("auth-internal",g=>{const m=qn(g.getProvider("auth").getImmediate());return new jc(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)(bu,"0.21.3",function Al(S){switch(S){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(S)),(0,ee.registerVersion)(bu,"0.21.3","esm2017")}("Browser")},2090:(_n,at,H)=>{"use strict";H.d(at,{$s:()=>wn,BH:()=>Ot,G6:()=>ut,L:()=>Ge,LL:()=>Ar,Pz:()=>Oe,Sg:()=>Tt,UG:()=>lt,US:()=>We,ZB:()=>_e,ZR:()=>yn,aH:()=>on,b$:()=>Rt,eu:()=>Bt,hl:()=>jt,jU:()=>Dt,m9:()=>zt,ne:()=>cn,pd:()=>zs,r3:()=>Jn,ru:()=>pt,tV:()=>Qe,uI:()=>qe,vZ:()=>bn,w1:()=>yt,xO:()=>Dr,xb:()=>ti,z$:()=>Wt,zI:()=>It,zd:()=>mi});const Ve=function(Le){const Re=[];let Ye=0;for(let Te=0;Te<Le.length;Te++){let ie=Le.charCodeAt(Te);ie<128?Re[Ye++]=ie:ie<2048?(Re[Ye++]=ie>>6|192,Re[Ye++]=63&ie|128):55296==(64512&ie)&&Te+1<Le.length&&56320==(64512&Le.charCodeAt(Te+1))?(ie=65536+((1023&ie)<<10)+(1023&Le.charCodeAt(++Te)),Re[Ye++]=ie>>18|240,Re[Ye++]=ie>>12&63|128,Re[Ye++]=ie>>6&63|128,Re[Ye++]=63&ie|128):(Re[Ye++]=ie>>12|224,Re[Ye++]=ie>>6&63|128,Re[Ye++]=63&ie|128)}return Re},We={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Le,Re){if(!Array.isArray(Le))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ye=Re?this.byteToCharMapWebSafe_:this.byteToCharMap_,Te=[];for(let ie=0;ie<Le.length;ie+=3){const Ie=Le[ie],ot=ie+1<Le.length,$t=ot?Le[ie+1]:0,Tn=ie+2<Le.length,un=Tn?Le[ie+2]:0;let Ce=(15&$t)<<2|un>>6,st=63&un;Tn||(st=64,ot||(Ce=64)),Te.push(Ye[Ie>>2],Ye[(3&Ie)<<4|$t>>4],Ye[Ce],Ye[st])}return Te.join("")},encodeString(Le,Re){return this.HAS_NATIVE_SUPPORT&&!Re?btoa(Le):this.encodeByteArray(Ve(Le),Re)},decodeString(Le,Re){return this.HAS_NATIVE_SUPPORT&&!Re?atob(Le):function(Le){const Re=[];let Ye=0,Te=0;for(;Ye<Le.length;){const ie=Le[Ye++];if(ie<128)Re[Te++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const Ie=Le[Ye++];Re[Te++]=String.fromCharCode((31&ie)<<6|63&Ie)}else if(ie>239&&ie<365){const Tn=((7&ie)<<18|(63&Le[Ye++])<<12|(63&Le[Ye++])<<6|63&Le[Ye++])-65536;Re[Te++]=String.fromCharCode(55296+(Tn>>10)),Re[Te++]=String.fromCharCode(56320+(1023&Tn))}else{const Ie=Le[Ye++],ot=Le[Ye++];Re[Te++]=String.fromCharCode((15&ie)<<12|(63&Ie)<<6|63&ot)}}return Re.join("")}(this.decodeStringToByteArray(Le,Re))},decodeStringToByteArray(Le,Re){this.init_();const Ye=Re?this.charToByteMapWebSafe_:this.charToByteMap_,Te=[];for(let ie=0;ie<Le.length;){const Ie=Ye[Le.charAt(ie++)],$t=ie<Le.length?Ye[Le.charAt(ie)]:0;++ie;const un=ie<Le.length?Ye[Le.charAt(ie)]:64;++ie;const we=ie<Le.length?Ye[Le.charAt(ie)]:64;if(++ie,null==Ie||null==$t||null==un||null==we)throw Error();Te.push(Ie<<2|$t>>4),64!==un&&(Te.push($t<<4&240|un>>2),64!==we&&Te.push(un<<6&192|we))}return Te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Le=0;Le<this.ENCODED_VALS.length;Le++)this.byteToCharMap_[Le]=this.ENCODED_VALS.charAt(Le),this.charToByteMap_[this.byteToCharMap_[Le]]=Le,this.byteToCharMapWebSafe_[Le]=this.ENCODED_VALS_WEBSAFE.charAt(Le),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Le]]=Le,Le>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Le)]=Le,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Le)]=Le)}}},Ge=function(Le){return function(Le){const Re=Ve(Le);return We.encodeByteArray(Re,!0)}(Le).replace(/\./g,"")},Qe=function(Le){try{return We.decodeString(Le,!0)}catch(Re){console.error("base64Decode failed: ",Re)}return null};function _e(Le,Re){if(!(Re instanceof Object))return Re;switch(Re.constructor){case Date:return new Date(Re.getTime());case Object:void 0===Le&&(Le={});break;case Array:Le=[];break;default:return Re}for(const Ye in Re)!Re.hasOwnProperty(Ye)||!Pe(Ye)||(Le[Ye]=_e(Le[Ye],Re[Ye]));return Le}function Pe(Le){return"__proto__"!==Le}const St=()=>{try{return function ft(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Le=process.env.__FIREBASE_DEFAULTS__;return Le?JSON.parse(Le):void 0})()||(()=>{if(typeof document>"u")return;let Le;try{Le=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Re=Le&&Qe(Le[1]);return Re&&JSON.parse(Re)})()}catch(Le){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Le}`)}},on=()=>{var Le;return null===(Le=St())||void 0===Le?void 0:Le.config},Oe=Le=>{var Re;return null===(Re=St())||void 0===Re?void 0:Re[`_${Le}`]};class Ot{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Re,Ye)=>{this.resolve=Re,this.reject=Ye})}wrapCallback(Re){return(Ye,Te)=>{Ye?this.reject(Ye):this.resolve(Te),"function"==typeof Re&&(this.promise.catch(()=>{}),1===Re.length?Re(Ye):Re(Ye,Te))}}}function Tt(Le,Re){if(Le.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Te=Re||"demo-project",ie=Le.iat||0,Ie=Le.sub||Le.user_id;if(!Ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ot=Object.assign({iss:`https://securetoken.google.com/${Te}`,aud:Te,iat:ie,exp:ie+3600,auth_time:ie,sub:Ie,user_id:Ie,firebase:{sign_in_provider:"custom",identities:{}}},Le);return[Ge(JSON.stringify({alg:"none",type:"JWT"})),Ge(JSON.stringify(ot)),""].join(".")}function Wt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function qe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function lt(){var Le;const Re=null===(Le=St())||void 0===Le?void 0:Le.forceEnvironment;if("node"===Re)return!0;if("browser"===Re)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Dt(){return"object"==typeof self&&self.self===self}function pt(){const Le="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Le&&void 0!==Le.id}function Rt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function yt(){const Le=Wt();return Le.indexOf("MSIE ")>=0||Le.indexOf("Trident/")>=0}function ut(){return!lt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jt(){try{return"object"==typeof indexedDB}catch{return!1}}function Bt(){return new Promise((Le,Re)=>{try{let Ye=!0;const Te="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(Te);ie.onsuccess=()=>{ie.result.close(),Ye||self.indexedDB.deleteDatabase(Te),Le(!0)},ie.onupgradeneeded=()=>{Ye=!1},ie.onerror=()=>{var Ie;Re((null===(Ie=ie.error)||void 0===Ie?void 0:Ie.message)||"")}}catch(Ye){Re(Ye)}})}function It(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class yn extends Error{constructor(Re,Ye,Te){super(Ye),this.code=Re,this.customData=Te,this.name="FirebaseError",Object.setPrototypeOf(this,yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ar.prototype.create)}}class Ar{constructor(Re,Ye,Te){this.service=Re,this.serviceName=Ye,this.errors=Te}create(Re,...Ye){const Te=Ye[0]||{},ie=`${this.service}/${Re}`,Ie=this.errors[Re],ot=Ie?function en(Le,Re){return Le.replace(qt,(Ye,Te)=>{const ie=Re[Te];return null!=ie?String(ie):`<${Te}?>`})}(Ie,Te):"Error";return new yn(ie,`${this.serviceName}: ${ot} (${ie}).`,Te)}}const qt=/\{\$([^}]+)}/g;function Jn(Le,Re){return Object.prototype.hasOwnProperty.call(Le,Re)}function ti(Le){for(const Re in Le)if(Object.prototype.hasOwnProperty.call(Le,Re))return!1;return!0}function bn(Le,Re){if(Le===Re)return!0;const Ye=Object.keys(Le),Te=Object.keys(Re);for(const ie of Ye){if(!Te.includes(ie))return!1;const Ie=Le[ie],ot=Re[ie];if(gi(Ie)&&gi(ot)){if(!bn(Ie,ot))return!1}else if(Ie!==ot)return!1}for(const ie of Te)if(!Ye.includes(ie))return!1;return!0}function gi(Le){return null!==Le&&"object"==typeof Le}function Dr(Le){const Re=[];for(const[Ye,Te]of Object.entries(Le))Array.isArray(Te)?Te.forEach(ie=>{Re.push(encodeURIComponent(Ye)+"="+encodeURIComponent(ie))}):Re.push(encodeURIComponent(Ye)+"="+encodeURIComponent(Te));return Re.length?"&"+Re.join("&"):""}function mi(Le){const Re={};return Le.replace(/^\?/,"").split("&").forEach(Te=>{if(Te){const[ie,Ie]=Te.split("=");Re[decodeURIComponent(ie)]=decodeURIComponent(Ie)}}),Re}function zs(Le){const Re=Le.indexOf("?");if(!Re)return"";const Ye=Le.indexOf("#",Re);return Le.substring(Re,Ye>0?Ye:void 0)}function cn(Le,Re){const Ye=new br(Le,Re);return Ye.subscribe.bind(Ye)}class br{constructor(Re,Ye){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ye,this.task.then(()=>{Re(this)}).catch(Te=>{this.error(Te)})}next(Re){this.forEachObserver(Ye=>{Ye.next(Re)})}error(Re){this.forEachObserver(Ye=>{Ye.error(Re)}),this.close(Re)}complete(){this.forEachObserver(Re=>{Re.complete()}),this.close()}subscribe(Re,Ye,Te){let ie;if(void 0===Re&&void 0===Ye&&void 0===Te)throw new Error("Missing Observer.");ie=function jn(Le,Re){if("object"!=typeof Le||null===Le)return!1;for(const Ye of Re)if(Ye in Le&&"function"==typeof Le[Ye])return!0;return!1}(Re,["next","error","complete"])?Re:{next:Re,error:Ye,complete:Te},void 0===ie.next&&(ie.next=ar),void 0===ie.error&&(ie.error=ar),void 0===ie.complete&&(ie.complete=ar);const Ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch{}}),this.observers.push(ie),Ie}unsubscribeOne(Re){void 0===this.observers||void 0===this.observers[Re]||(delete this.observers[Re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Re){if(!this.finalized)for(let Ye=0;Ye<this.observers.length;Ye++)this.sendOne(Ye,Re)}sendOne(Re,Ye){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Re])try{Ye(this.observers[Re])}catch(Te){typeof console<"u"&&console.error&&console.error(Te)}})}close(Re){this.finalized||(this.finalized=!0,void 0!==Re&&(this.finalError=Re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ar(){}function wn(Le,Re=1e3,Ye=2){const Te=Re*Math.pow(Ye,Le),ie=Math.round(.5*Te*(Math.random()-.5)*2);return Math.min(144e5,Te+ie)}function zt(Le){return Le&&Le._delegate?Le._delegate:Le}},5642:(_n,at,H)=>{"use strict";H.d(at,{K:()=>We});var h=H(6895),O=H(5119),ee=H(433),Ve=H(1),ze=H(4650);let We=(()=>{class Ze{}return Ze.\u0275fac=function(Qe){return new(Qe||Ze)},Ze.\u0275mod=ze.oAB({type:Ze}),Ze.\u0275inj=ze.cJS({imports:[h.ez,O.Bz,ee.u5,Ve.CT]}),Ze})()},1819:(_n,at,H)=>{"use strict";H.d(at,{B:()=>Rt});var h=H(4650),O=H(5861),ee=H(2135),Ve=H(3027),ze=H(5294),We=H(2305),Ze=H(5119),Ge=H(6895),Qe=H(433),de=H(1);function _e(ht,yt){1&ht&&(h.TgZ(0,"p",8),h._uU(1," What type of feedback? "),h.qZA())}function Pe(ht,yt){1&ht&&(h.TgZ(0,"p",8),h._uU(1," Feedback received! "),h.qZA())}function ft(ht,yt){if(1&ht){const Me=h.EpF();h.TgZ(0,"div")(1,"ng-lottie",9),h.NdJ("animationCreated",function(ut){h.CHM(Me);const jt=h.oxw();return h.KtG(jt.successAnimationCreated(ut))}),h.qZA()()}if(2&ht){const Me=h.oxw();h.xp6(1),h.Q6J("options",Me.successAnimationOptions)}}const rt=function(ht,yt){return{"bg-white border-gray-200":ht,"bg-indigo-50 border-indigo-600":yt}};function et(ht,yt){if(1&ht){const Me=h.EpF();h.TgZ(0,"div",10)(1,"button",11),h.NdJ("click",function(){h.CHM(Me);const ut=h.oxw();return h.KtG(ut.setFeedbackType("problem"))}),h._UZ(2,"img",12),h.TgZ(3,"span",13),h._uU(4,"Problem"),h.qZA()(),h.TgZ(5,"button",11),h.NdJ("click",function(){h.CHM(Me);const ut=h.oxw();return h.KtG(ut.setFeedbackType("idea"))}),h._UZ(6,"img",14),h.TgZ(7,"span",13),h._uU(8,"Idea"),h.qZA()(),h.TgZ(9,"button",11),h.NdJ("click",function(){h.CHM(Me);const ut=h.oxw();return h.KtG(ut.setFeedbackType("other"))}),h._UZ(10,"img",15),h.TgZ(11,"span",13),h._uU(12,"Other"),h.qZA()()()}if(2&ht){const Me=h.oxw();h.xp6(1),h.Q6J("ngClass",h.WLB(3,rt,"problem"!==Me.selectedTypeOfFeedback,"problem"===Me.selectedTypeOfFeedback)),h.xp6(4),h.Q6J("ngClass",h.WLB(6,rt,"idea"!==Me.selectedTypeOfFeedback,"idea"===Me.selectedTypeOfFeedback)),h.xp6(4),h.Q6J("ngClass",h.WLB(9,rt,"other"!==Me.selectedTypeOfFeedback,"other"===Me.selectedTypeOfFeedback))}}function Qt(ht,yt){if(1&ht){const Me=h.EpF();h.TgZ(0,"textarea",16),h.NdJ("ngModelChange",function(ut){h.CHM(Me);const jt=h.oxw();return h.KtG(jt.form.data.text=ut)}),h.qZA()}if(2&ht){const Me=h.oxw();h.Q6J("ngModel",Me.form.data.text)("placeholder","problem"===Me.selectedTypeOfFeedback?"I'm having a problem with...":"idea"===Me.selectedTypeOfFeedback?"I'd love it if...":"Tell us your thoughts!")}}function St(ht,yt){1&ht&&(h.O4$(),h.TgZ(0,"svg",25),h._UZ(1,"rect",26)(2,"path",27)(3,"circle",28),h.qZA())}function dt(ht,yt){1&ht&&(h.O4$(),h.TgZ(0,"svg",29),h._UZ(1,"rect",26)(2,"path",30),h.qZA())}function pn(ht,yt){if(1&ht){const Me=h.EpF();h.TgZ(0,"button",24),h.NdJ("click",function(){h.CHM(Me);const ut=h.oxw(2);return h.KtG(ut.captureScreenshot())}),h.YNc(1,St,4,0,"svg",22),h.YNc(2,dt,3,0,"svg",23),h.qZA()}if(2&ht){const Me=h.oxw(2);h.xp6(1),h.Q6J("ngIf",!Me.form.state.screenshotLoading),h.xp6(1),h.Q6J("ngIf",Me.form.state.screenshotLoading)}}function on(ht,yt){if(1&ht){const Me=h.EpF();h.TgZ(0,"img",31),h.NdJ("click",function(){h.CHM(Me);const ut=h.oxw(2);return h.KtG(ut.previewScreenshot())}),h.qZA()}if(2&ht){const Me=h.oxw(2);h.Q6J("src",Me.form.data.screenshot,h.LSH)}}function Oe(ht,yt){if(1&ht){const Me=h.EpF();h.TgZ(0,"button",32),h.NdJ("click",function(){h.CHM(Me);const ut=h.oxw(2);return h.KtG(ut.deleteScreenshot())}),h.O4$(),h.TgZ(1,"svg",33),h._UZ(2,"rect",26)(3,"line",34)(4,"line",35),h.qZA()()}}function Ot(ht,yt){1&ht&&(h.O4$(),h.TgZ(0,"svg",25),h._UZ(1,"rect",26)(2,"path",36)(3,"line",37),h.qZA())}function Tt(ht,yt){1&ht&&(h.O4$(),h.TgZ(0,"svg",29),h._UZ(1,"rect",26)(2,"path",38),h.qZA())}function Wt(ht,yt){1&ht&&(h.O4$(),h.TgZ(0,"svg",25),h._UZ(1,"rect",26)(2,"path",39),h.qZA())}function qe(ht,yt){if(1&ht){const Me=h.EpF();h.TgZ(0,"div",17),h.YNc(1,pn,3,2,"button",18),h.YNc(2,on,1,1,"img",19),h.YNc(3,Oe,5,0,"button",20),h.TgZ(4,"button",21),h.NdJ("click",function(){h.CHM(Me);const ut=h.oxw();return h.KtG(ut.submitForm())}),h.YNc(5,Ot,4,0,"svg",22),h.YNc(6,Tt,3,0,"svg",23),h.YNc(7,Wt,3,0,"svg",22),h.TgZ(8,"span"),h._uU(9,"Send feedback"),h.qZA()()()}if(2&ht){const Me=h.oxw();h.xp6(1),h.Q6J("ngIf",!Me.form.data.screenshot&&Me.isPro),h.xp6(1),h.Q6J("ngIf",Me.form.data.screenshot),h.xp6(1),h.Q6J("ngIf",Me.form.data.screenshot),h.xp6(1),h.Q6J("disabled",!Me.form.data.text),h.xp6(1),h.Q6J("ngIf",!Me.form.state.loading&&!Me.form.state.success),h.xp6(1),h.Q6J("ngIf",Me.form.state.loading&&!Me.form.state.success),h.xp6(1),h.Q6J("ngIf",Me.form.state.success)}}function lt(ht,yt){1&ht&&(h.TgZ(0,"div",40),h._uU(1," You need to give permission to take a screenshot! "),h.qZA())}function Dt(ht,yt){1&ht&&(h.TgZ(0,"a",41)(1,"p",42),h._uU(2," Powered by "),h._UZ(3,"img",43),h.TgZ(4,"span",44),h._uU(5,"Feedback"),h.qZA(),h.TgZ(6,"span",45),h._uU(7,"HQ"),h.qZA()()())}let pt=(()=>{class ht{constructor(Me,tt,ut){this.api=Me,this.db=tt,this.route=ut,this.form={data:{text:"",screenshot:""},state:{loading:!1,success:!1,screenshotLoading:!1,screenshotError:!1}},this.successAnimationOptions={path:"/assets/icons/success.json",autoplay:!0,loop:!1},this.isPro=!1,this.close=new h.vpe}ngOnInit(){var Me=this;return(0,O.Z)(function*(){if(Me.queryParamsSubscription=Me.route.queryParams.subscribe(tt=>{Me.id=tt.id??null}),Me.projectId){const tt=yield Me.db.getDocumentById("users",Me.projectId);tt&&(Me.isPro=tt.planStatus===Ve.b.PRO)}})()}ngOnDestroy(){this.queryParamsSubscription?.unsubscribe()}setFeedbackType(Me){this.selectedTypeOfFeedback="problem"===Me&&"problem"===this.selectedTypeOfFeedback||"idea"===Me&&"idea"===this.selectedTypeOfFeedback||"other"===Me&&"other"===this.selectedTypeOfFeedback?void 0:Me}handleClose(){this.close.emit()}captureScreenshot(){var Me=this;return(0,O.Z)(function*(){Me.form.state.screenshotLoading=!0,(0,ee.checkIfBrowserSupported)()?(0,ee.takeScreenshot)({quality:1}).then(tt=>{Me.form.data.screenshot=tt,Me.form.state.screenshotLoading=!1,Me.form.state.screenshotError=!1}).catch(tt=>{Me.form.state.screenshotError=!0,Me.form.state.screenshotLoading=!1}):Me.form.state.screenshotLoading=!1})()}previewScreenshot(){window.open().document.write('<iframe src="'+this.form.data.screenshot+'" frameborder="0" style="border:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" allowfullscreen></iframe>')}deleteScreenshot(){this.form.data.screenshot=""}submitForm(){var Me=this;return(0,O.Z)(function*(){Me.form.state.loading=!0,Me.selectedTypeOfFeedback&&(yield Me.api.submitFeedback({type:Me.selectedTypeOfFeedback,text:Me.form.data.text,projectId:Me.projectId,screenshot:Me.form.data.screenshot,url:Me.url,id:Me.id})).success&&(Me.form.state.success=!0,Me.succcessAnimation?.goToAndPlay(0))})()}successAnimationCreated(Me){this.succcessAnimation=Me}}return ht.\u0275fac=function(Me){return new(Me||ht)(h.Y36(ze.s),h.Y36(We.M),h.Y36(Ze.gz))},ht.\u0275cmp=h.Xpm({type:ht,selectors:[["app-widget-popup"]],inputs:{projectId:"projectId",url:"url",options:"options"},outputs:{close:"close"},decls:9,vars:8,consts:[[1,"flex","flex-col","items-center","w-max","gap-2","p-5","rounded-xl","shadow-2xl","relative","bg-white","w-[304px]","border","border-zinc-100"],["class","font-semibold text-xl mb-2",4,"ngIf"],[4,"ngIf"],["class","flex gap-2",4,"ngIf"],["class","w-full h-24 resize-none p-3 bg-white border-2 border-gray-200 rounded-xl focus:border-indigo-600 outline-none focus:bg-indigo-50",3,"ngModel","placeholder","ngModelChange",4,"ngIf"],["class","flex w-full justify-between gap-1",4,"ngIf"],["class","text-center rounded-xl border-2 border-red-600 text-red-600 font-semibold text-sm p-2 w-[256px]",4,"ngIf"],["href","https://usefeedbackhq.com","target","_parent","class","mt-2 text-gray-400",4,"ngIf"],[1,"font-semibold","text-xl","mb-2"],["width","300px","height","100px",3,"options","animationCreated"],[1,"flex","gap-2"],[1,"flex","flex-col","items-center","gap-2","rounded-xl","p-3","w-[80px]","transition-all","border-2",3,"ngClass","click"],["src","/assets/img/issue-1.png",1,"w-10"],[1,"font-medium","text-sm"],["src","/assets/img/idea-1.png",1,"w-10"],["src","/assets/img/other-1.png",1,"w-10"],[1,"w-full","h-24","resize-none","p-3","bg-white","border-2","border-gray-200","rounded-xl","focus:border-indigo-600","outline-none","focus:bg-indigo-50",3,"ngModel","placeholder","ngModelChange"],[1,"flex","w-full","justify-between","gap-1"],["class","bg-gray-400 hover:bg-gray-500 text-white font-medium transition-all shadow-md rounded-3xl p-2 text-sm disabled:bg-gray-400 inline-flex items-center justify-center",3,"click",4,"ngIf"],["class","rounded-full w-[36px] h-[36px] shadow-md cursor-pointer",3,"src","click",4,"ngIf"],["class","absolute bottom-11 left-11 p-1 rounded-full bg-red-600 hover:bg-red-500 inline-flex items-center justify-center transition-all",3,"click",4,"ngIf"],[1,"bg-indigo-600","hover:bg-indigo-700","text-white","font-medium","transition-all","shadow-md","rounded-3xl","py-2","px-3","text-sm","disabled:bg-gray-400","disabled:cursor-not-allowed","inline-flex","items-center","justify-center","gap-2","w-full",3,"disabled","click"],["class","w-5 h-5","xmlns","http://www.w3.org/2000/svg","width","192","height","192","fill","#ffffff","viewBox","0 0 256 256",4,"ngIf"],["class","w-5 h-5 animate-spin","xmlns","http://www.w3.org/2000/svg","width","192","height","192","fill","#ffffff","viewBox","0 0 256 256",4,"ngIf"],[1,"bg-gray-400","hover:bg-gray-500","text-white","font-medium","transition-all","shadow-md","rounded-3xl","p-2","text-sm","disabled:bg-gray-400","inline-flex","items-center","justify-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","192","height","192","fill","#ffffff","viewBox","0 0 256 256",1,"w-5","h-5"],["width","256","height","256","fill","none"],["d","M208,208H48a16,16,0,0,1-16-16V80A16,16,0,0,1,48,64H80L96,40h64l16,24h32a16,16,0,0,1,16,16V192A16,16,0,0,1,208,208Z","fill","none","stroke","#ffffff","stroke-linecap","round","stroke-linejoin","round","stroke-width","16"],["cx","128","cy","132","r","36","fill","none","stroke","#ffffff","stroke-linecap","round","stroke-linejoin","round","stroke-width","16"],["xmlns","http://www.w3.org/2000/svg","width","192","height","192","fill","#ffffff","viewBox","0 0 256 256",1,"w-5","h-5","animate-spin"],["d","M168,40.7a96,96,0,1,1-80,0","fill","none","stroke","#ffffff","stroke-linecap","round","stroke-linejoin","round","stroke-width","16"],[1,"rounded-full","w-[36px]","h-[36px]","shadow-md","cursor-pointer",3,"src","click"],[1,"absolute","bottom-11","left-11","p-1","rounded-full","bg-red-600","hover:bg-red-500","inline-flex","items-center","justify-center","transition-all",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","192","height","192","fill","#ffffff","viewBox","0 0 256 256",1,"w-2","h-2"],["x1","200","y1","56","x2","56","y2","200","stroke","#ffffff","stroke-linecap","round","stroke-linejoin","round","stroke-width","20"],["x1","200","y1","200","x2","56","y2","56","stroke","#ffffff","stroke-linecap","round","stroke-linejoin","round","stroke-width","20"],["d","M210.3,35.9,23.9,88.4a8,8,0,0,0-1.2,15l85.6,40.5a7.8,7.8,0,0,1,3.8,3.8l40.5,85.6a8,8,0,0,0,15-1.2L220.1,45.7A7.9,7.9,0,0,0,210.3,35.9Z","fill","none","stroke","#ffffff","stroke-linecap","round","stroke-linejoin","round","stroke-width","16"],["x1","110.9","y1","145.1","x2","156.1","y2","99.9","fill","none","stroke","#ffffff","stroke-linecap","round","stroke-linejoin","round","stroke-width","16"],["d","M232,128A104,104,0,1,1,84.7,33.4a8.1,8.1,0,0,1,10.6,4,8,8,0,0,1-4,10.6,88,88,0,1,0,73.4,0,8,8,0,0,1-4-10.6,8.1,8.1,0,0,1,10.6-4A104.4,104.4,0,0,1,232,128Z"],["d","M104,192a8.5,8.5,0,0,1-5.7-2.3l-56-56a8.1,8.1,0,0,1,11.4-11.4L104,172.7,210.3,66.3a8.1,8.1,0,0,1,11.4,11.4l-112,112A8.5,8.5,0,0,1,104,192Z"],[1,"text-center","rounded-xl","border-2","border-red-600","text-red-600","font-semibold","text-sm","p-2","w-[256px]"],["href","https://usefeedbackhq.com","target","_parent",1,"mt-2","text-gray-400"],[1,"text-xs","font-base","inline-flex","items-center"],["src","/assets/logo.png",1,"w-5","h-5","mx-1"],[1,"text-black","font-medium"],[1,"text-indigo-500","font-medium"]],template:function(Me,tt){1&Me&&(h.TgZ(0,"div",0),h.YNc(1,_e,2,0,"p",1),h.YNc(2,Pe,2,0,"p",1),h.YNc(3,ft,2,1,"div",2),h.YNc(4,et,13,12,"div",3),h.YNc(5,Qt,1,2,"textarea",4),h.YNc(6,qe,10,7,"div",5),h.YNc(7,lt,2,0,"div",6),h.YNc(8,Dt,8,0,"a",7),h.qZA()),2&Me&&(h.xp6(1),h.Q6J("ngIf",!tt.form.state.success),h.xp6(1),h.Q6J("ngIf",tt.form.state.success),h.xp6(1),h.Q6J("ngIf",tt.form.state.success),h.xp6(1),h.Q6J("ngIf",!tt.form.state.success),h.xp6(1),h.Q6J("ngIf",void 0!==tt.selectedTypeOfFeedback&&!tt.form.state.success),h.xp6(1),h.Q6J("ngIf",void 0!==tt.selectedTypeOfFeedback&&!tt.form.state.success),h.xp6(1),h.Q6J("ngIf",tt.form.state.screenshotError),h.xp6(1),h.Q6J("ngIf",!tt.isPro))},dependencies:[Ge.mk,Ge.O5,Qe.Fj,Qe.JJ,Qe.On,de.e$],encapsulation:2}),ht})(),Rt=(()=>{class ht{constructor(){this.showPopup=!1}ngOnInit(){}}return ht.\u0275fac=function(Me){return new(Me||ht)},ht.\u0275cmp=h.Xpm({type:ht,selectors:[["app-widget"]],inputs:{buttonOptions:"buttonOptions",popupOptions:"popupOptions",projectId:"projectId",url:"url"},decls:1,vars:3,consts:[[3,"options","projectId","url","close"]],template:function(Me,tt){1&Me&&(h.TgZ(0,"app-widget-popup",0),h.NdJ("close",function(){return tt.showPopup=!1}),h.qZA()),2&Me&&h.Q6J("options",tt.popupOptions)("projectId",tt.projectId)("url",tt.url)},dependencies:[pt],encapsulation:2}),ht})()},5294:(_n,at,H)=>{"use strict";H.d(at,{s:()=>Qe});var h=H(5861),O=H(6805);function ee(de,_e){const Pe="object"==typeof _e;return new Promise((ft,rt)=>{let Qt,et=!1;de.subscribe({next:St=>{Qt=St,et=!0},error:rt,complete:()=>{et?ft(Qt):Pe?ft(_e.defaultValue):rt(new O.K)}})})}var Ve=H(4041),ze=H(4650),We=H(2305),Ze=H(5119),Ge=H(2228);let Qe=(()=>{class de{constructor(Pe,ft,rt){this.db=Pe,this.router=ft,this.functions=rt}redirectUserToDashboardOrOnboarding(Pe){var ft=this;return(0,h.Z)(function*(){switch((yield ft.db.getDocumentById("users",Pe))?.onboardingStatus){case Ve.u.NOT_STARTED:return ft.router.navigateByUrl("onboarding/duplicate-notion-database");case Ve.u.DUPLICATED_NOTION_DATABASE:return ft.router.navigateByUrl("/onboarding/connect-to-notion");case Ve.u.FINISHED:return ft.router.navigateByUrl("/dashboard");default:return ft.router.navigateByUrl("onboarding/duplicate-notion-database")}})()}getNotionToken(Pe){var ft=this;return(0,h.Z)(function*(){const rt=ft.functions.httpsCallable("getNotionToken");return yield ee(rt(Pe))})()}refetchNotionToken(Pe){var ft=this;return(0,h.Z)(function*(){const rt=ft.functions.httpsCallable("refetchNotionToken");return yield ee(rt(Pe))})()}searchNotion(Pe){var ft=this;return(0,h.Z)(function*(){const rt=ft.functions.httpsCallable("searchNotion");return yield ee(rt(Pe))})()}setWidgetCustomisation(Pe){var ft=this;return(0,h.Z)(function*(){const rt=ft.functions.httpsCallable("setWidgetCustomisation");return yield ee(rt(Pe))})()}setNotifications(Pe){var ft=this;return(0,h.Z)(function*(){const rt=ft.functions.httpsCallable("setNotifications");return yield ee(rt(Pe))})()}submitFeedback(Pe){var ft=this;return(0,h.Z)(function*(){const rt=ft.functions.httpsCallable("submitFeedback");return yield ee(rt(Pe))})()}listNotionUsers(){var Pe=this;return(0,h.Z)(function*(){const ft=Pe.functions.httpsCallable("listNotionUsers");return yield ee(ft({}))})()}stripeCreateCheckoutSession(Pe){var ft=this;return(0,h.Z)(function*(){const rt=ft.functions.httpsCallable("stripeCreateCheckoutSession");return yield ee(rt(Pe))})()}stripeCreateCustomerPortalSession(){var Pe=this;return(0,h.Z)(function*(){const ft=Pe.functions.httpsCallable("stripeCreateCustomerPortalSession");return yield ee(ft({}))})()}}return de.\u0275fac=function(Pe){return new(Pe||de)(ze.LFG(We.M),ze.LFG(Ze.F0),ze.LFG(Ge.l4))},de.\u0275prov=ze.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})()},2305:(_n,at,H)=>{"use strict";H.d(at,{M:()=>Ze});var h=H(5861),O=H(6805),ee=H(930),ze=H(4650),We=H(2095);let Ze=(()=>{class Ge{constructor(de){this.db=de}getDocumentById(de,_e){var Pe=this;return(0,h.Z)(function*(){return(yield function Ve(Ge,Qe){const de="object"==typeof Qe;return new Promise((_e,Pe)=>{const ft=new ee.Hp({next:rt=>{_e(rt),ft.unsubscribe()},error:Pe,complete:()=>{de?_e(Qe.defaultValue):Pe(new O.K)}});Ge.subscribe(ft)})}(Pe.db.doc(`${de}/${_e}`).get())).data()})()}createDocumentWithId(de,_e,Pe){var ft=this;return(0,h.Z)(function*(){yield ft.db.collection(de).doc(_e).set(Pe)})()}updateDocument(de,_e,Pe){var ft=this;return(0,h.Z)(function*(){yield ft.db.doc(`${de}/${_e}`).update(Pe)})()}query(de){var _e=this;return(0,h.Z)(function*(){const Pe=[];return(yield _e.db.collection(de.collection,et=>{if(de.parameters)for(const Qt of de.parameters)et=et.where(Qt.key,Qt.operator,Qt.value);return de.orderBy&&(et=et.orderBy(de.orderBy.key,de.orderBy.direction)),de.startAt&&(et=et.startAt(de.startAt)),de.startAfter&&(et=et.startAfter(de.startAfter)),de.endAt&&(et=et.endAt(de.endAt)),de.endBefore&&(et=et.endBefore(de.endBefore)),de.limit&&(et=et.limit(de.limit)),et}).get().toPromise()).forEach(et=>{const Qt=et.data();Qt.id=et.id,Pe.push(Qt)}),Pe})()}}return Ge.\u0275fac=function(de){return new(de||Ge)(ze.LFG(We.ST))},Ge.\u0275prov=ze.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Ge})()},4465:(_n,at,H)=>{"use strict";H.d(at,{k:()=>ee});var h=H(8979),O=H(4650);let ee=(()=>{class Ve{constructor(){this.toasts=[]}showSuccessToast(We,Ze){this.toasts.push({message:Ze,title:We,type:h.F.SUCCESS})}showInfoToast(We,Ze){this.toasts.push({message:Ze,title:We,type:h.F.INFO})}showWarningToast(We,Ze){this.toasts.push({message:Ze,title:We,type:h.F.WARNING})}showErrorToast(We,Ze){this.toasts.push({message:Ze,title:We,type:h.F.ERROR})}remove(We){this.toasts=this.toasts.filter(Ze=>Ze!=We)}}return Ve.\u0275fac=function(We){return new(We||Ve)},Ve.\u0275prov=O.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"}),Ve})()},4041:(_n,at,H)=>{"use strict";H.d(at,{u:()=>h});var h=(()=>{return(O=h||(h={}))[O.NOT_STARTED=0]="NOT_STARTED",O[O.DUPLICATED_NOTION_DATABASE=1]="DUPLICATED_NOTION_DATABASE",O[O.FINISHED=2]="FINISHED",h;var O})()},3027:(_n,at,H)=>{"use strict";H.d(at,{b:()=>h});var h=(()=>{return(O=h||(h={})).FREE="free",O.CHURNED="churned",O.PRO="pro",h;var O})()},8979:(_n,at,H)=>{"use strict";H.d(at,{F:()=>h});var h=(()=>{return(O=h||(h={})).SUCCESS="SUCCESS",O.ERROR="ERROR",O.INFO="INFO",O.WARNING="WARNING",h;var O})()},2340:(_n,at,H)=>{"use strict";H.d(at,{N:()=>h});const h={firebase:{projectId:"noadmap",appId:"1:863598806741:web:fd86023e6ab6cad6a5045c",storageBucket:"noadmap.appspot.com",apiKey:"AIzaSyDw_7vHXtnSfRY1Mieqj6yPRyEP8T_ii4s",authDomain:"noadmap.firebaseapp.com",messagingSenderId:"863598806741"},notion:{onboardingRedirectUri:"https://api.notion.com/v1/oauth/authorize?client_id=eadafc97-45f6-45c3-aa92-0ef78ed258d3&response_type=code&owner=user&redirect_uri=https://app.usefeedbackhq.com/onboarding/confirm-notion-connection",dashboardRedirectUri:"https://api.notion.com/v1/oauth/authorize?owner=user&client_id=eadafc97-45f6-45c3-aa92-0ef78ed258d3&redirect_uri=https://app.usefeedbackhq.com/dashboard/account&response_type=code"},stripe:{pro:{productId:"prod_NoDxN9Hwymdbz3",monthlyPriceId:"price_1P3k30DCZUU3ogClghYYHRW5",annualPriceId:"price_1P3k3iDCZUU3ogClMHzuormO"}},production:!0,useEmulators:!1}},46:(_n,at,H)=>{"use strict";var h=H(1481),O=H(4650);class ee{}const ze="*";function We(K,v){return{type:7,name:K,definitions:v,options:{}}}function Ze(K,v=null){return{type:4,styles:v,timings:K}}function Qe(K,v=null){return{type:2,steps:K,options:v}}function de(K){return{type:6,styles:K,offset:null}}function ft(K,v,w=null){return{type:1,expr:K,animation:v,options:w}}function pn(K){Promise.resolve().then(K)}class on{constructor(v=0,w=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=v+w}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){pn(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(v=>v()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(v){this._position=this.totalTime?v*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(v){const w="start"==v?this._onStartFns:this._onDoneFns;w.forEach(R=>R()),w.length=0}}class Oe{constructor(v){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=v;let w=0,R=0,te=0;const me=this.players.length;0==me?pn(()=>this._onFinish()):this.players.forEach(Be=>{Be.onDone(()=>{++w==me&&this._onFinish()}),Be.onDestroy(()=>{++R==me&&this._onDestroy()}),Be.onStart(()=>{++te==me&&this._onStart()})}),this.totalTime=this.players.reduce((Be,Se)=>Math.max(Be,Se.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this.players.forEach(v=>v.init())}onStart(v){this._onStartFns.push(v)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(v=>v()),this._onStartFns=[])}onDone(v){this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(v=>v.play())}pause(){this.players.forEach(v=>v.pause())}restart(){this.players.forEach(v=>v.restart())}finish(){this._onFinish(),this.players.forEach(v=>v.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(v=>v.destroy()),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}reset(){this.players.forEach(v=>v.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(v){const w=v*this.totalTime;this.players.forEach(R=>{const te=R.totalTime?Math.min(1,w/R.totalTime):1;R.setPosition(te)})}getPosition(){const v=this.players.reduce((w,R)=>null===w||R.totalTime>w.totalTime?R:w,null);return null!=v?v.getPosition():0}beforeDestroy(){this.players.forEach(v=>{v.beforeDestroy&&v.beforeDestroy()})}triggerCallback(v){const w="start"==v?this._onStartFns:this._onDoneFns;w.forEach(R=>R()),w.length=0}}function Wt(K){return new O.vHH(3e3,!1)}function cn(){return typeof window<"u"&&typeof window.document<"u"}function br(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Dn(K){switch(K.length){case 0:return new on;case 1:return K[0];default:return new Oe(K)}}function jn(K,v,w,R,te=new Map,me=new Map){const Be=[],Se=[];let Et=-1,wt=null;if(R.forEach(Fn=>{const gn=Fn.get("offset"),Xt=gn==Et,kr=Xt&&wt||new Map;Fn.forEach((hr,rr)=>{let bi=rr,gr=hr;if("offset"!==rr)switch(bi=v.normalizePropertyName(bi,Be),gr){case"!":gr=te.get(rr);break;case ze:gr=me.get(rr);break;default:gr=v.normalizeStyleValue(rr,bi,gr,Be)}kr.set(bi,gr)}),Xt||Se.push(kr),wt=kr,Et=gn}),Be.length)throw function ei(K){return new O.vHH(3502,!1)}();return Se}function ar(K,v,w,R){switch(v){case"start":K.onStart(()=>R(w&&si(w,"start",K)));break;case"done":K.onDone(()=>R(w&&si(w,"done",K)));break;case"destroy":K.onDestroy(()=>R(w&&si(w,"destroy",K)))}}function si(K,v,w){const me=zr(K.element,K.triggerName,K.fromState,K.toState,v||K.phaseName,w.totalTime??K.totalTime,!!w.disabled),Be=K._data;return null!=Be&&(me._data=Be),me}function zr(K,v,w,R,te="",me=0,Be){return{element:K,triggerName:v,fromState:w,toState:R,phaseName:te,totalTime:me,disabled:!!Be}}function Wr(K,v,w){let R=K.get(v);return R||K.set(v,R=w),R}function nr(K){const v=K.indexOf(":");return[K.substring(1,v),K.slice(v+1)]}let Pi=(K,v)=>!1,lr=(K,v,w)=>[],Pn=null;function Qn(K){const v=K.parentNode||K.host;return v===Pn?null:v}(br()||typeof Element<"u")&&(cn()?(Pn=(()=>document.documentElement)(),Pi=(K,v)=>{for(;v;){if(v===K)return!0;v=Qn(v)}return!1}):Pi=(K,v)=>K.contains(v),lr=(K,v,w)=>{if(w)return Array.from(K.querySelectorAll(v));const R=K.querySelector(v);return R?[R]:[]});let vn=null,Gt=!1;const zt=Pi,Le=lr;let Ye=(()=>{class K{validateStyleProperty(w){return function wn(K){vn||(vn=function Wn(){return typeof document<"u"?document.body:null}()||{},Gt=!!vn.style&&"WebkitAppearance"in vn.style);let v=!0;return vn.style&&!function zn(K){return"ebkit"==K.substring(1,6)}(K)&&(v=K in vn.style,!v&&Gt&&(v="Webkit"+K.charAt(0).toUpperCase()+K.slice(1)in vn.style)),v}(w)}matchesElement(w,R){return!1}containsElement(w,R){return zt(w,R)}getParentElement(w){return Qn(w)}query(w,R,te){return Le(w,R,te)}computeStyle(w,R,te){return te||""}animate(w,R,te,me,Be,Se=[],Et){return new on(te,me)}}return K.\u0275fac=function(w){return new(w||K)},K.\u0275prov=O.Yz7({token:K,factory:K.\u0275fac}),K})(),Te=(()=>{class K{}return K.NOOP=new Ye,K})();const $t="ng-enter",Tn="ng-leave",un="ng-trigger",xe=".ng-trigger",we="ng-animating",Ce=".ng-animating";function st(K){if("number"==typeof K)return K;const v=K.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:bt(parseFloat(v[1]),v[2])}function bt(K,v){return"s"===v?1e3*K:K}function In(K,v,w){return K.hasOwnProperty("duration")?K:function Hn(K,v,w){let te,me=0,Be="";if("string"==typeof K){const Se=K.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Se)return v.push(Wt()),{duration:0,delay:0,easing:""};te=bt(parseFloat(Se[1]),Se[2]);const Et=Se[3];null!=Et&&(me=bt(parseFloat(Et),Se[4]));const wt=Se[5];wt&&(Be=wt)}else te=K;if(!w){let Se=!1,Et=v.length;te<0&&(v.push(function qe(){return new O.vHH(3100,!1)}()),Se=!0),me<0&&(v.push(function lt(){return new O.vHH(3101,!1)}()),Se=!0),Se&&v.splice(Et,0,Wt())}return{duration:te,delay:me,easing:Be}}(K,v,w)}function $n(K,v={}){return Object.keys(K).forEach(w=>{v[w]=K[w]}),v}function oi(K){const v=new Map;return Object.keys(K).forEach(w=>{v.set(w,K[w])}),v}function Wi(K,v=new Map,w){if(w)for(let[R,te]of w)v.set(R,te);for(let[R,te]of K)v.set(R,te);return v}function Ni(K,v,w){return w?v+":"+w+";":""}function lo(K){let v="";for(let w=0;w<K.style.length;w++){const R=K.style.item(w);v+=Ni(0,R,K.style.getPropertyValue(R))}for(const w in K.style)K.style.hasOwnProperty(w)&&!w.startsWith("_")&&(v+=Ni(0,ki(w),K.style[w]));K.setAttribute("style",v)}function Oi(K,v,w){K.style&&(v.forEach((R,te)=>{const me=rs(te);w&&!w.has(te)&&w.set(te,K.style[me]),K.style[me]=R}),br()&&lo(K))}function Qr(K,v){K.style&&(v.forEach((w,R)=>{const te=rs(R);K.style[te]=""}),br()&&lo(K))}function ws(K){return Array.isArray(K)?1==K.length?K[0]:Qe(K):K}const Fi=new RegExp("{{\\s*(.+?)\\s*}}","g");function qr(K){let v=[];if("string"==typeof K){let w;for(;w=Fi.exec(K);)v.push(w[1]);Fi.lastIndex=0}return v}function vi(K,v,w){const R=K.toString(),te=R.replace(Fi,(me,Be)=>{let Se=v[Be];return null==Se&&(w.push(function pt(K){return new O.vHH(3003,!1)}()),Se=""),Se.toString()});return te==R?K:te}function vr(K){const v=[];let w=K.next();for(;!w.done;)v.push(w.value),w=K.next();return v}const _o=/-+([a-z0-9])/g;function rs(K){return K.replace(_o,(...v)=>v[1].toUpperCase())}function ki(K){return K.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ei(K,v,w){switch(v.type){case 7:return K.visitTrigger(v,w);case 0:return K.visitState(v,w);case 1:return K.visitTransition(v,w);case 2:return K.visitSequence(v,w);case 3:return K.visitGroup(v,w);case 4:return K.visitAnimate(v,w);case 5:return K.visitKeyframes(v,w);case 6:return K.visitStyle(v,w);case 8:return K.visitReference(v,w);case 9:return K.visitAnimateChild(v,w);case 10:return K.visitAnimateRef(v,w);case 11:return K.visitQuery(v,w);case 12:return K.visitStagger(v,w);default:throw function Rt(K){return new O.vHH(3004,!1)}()}}function Ws(K,v){return window.getComputedStyle(K)[v]}function Eo(K,v){const w=[];return"string"==typeof K?K.split(/\s*,\s*/).forEach(R=>function Ps(K,v,w){if(":"==K[0]){const Et=function uo(K,v){switch(K){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(w,R)=>parseFloat(R)>parseFloat(w);case":decrement":return(w,R)=>parseFloat(R)<parseFloat(w);default:return v.push(function Lt(K){return new O.vHH(3016,!1)}()),"* => *"}}(K,w);if("function"==typeof Et)return void v.push(Et);K=Et}const R=K.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==R||R.length<4)return w.push(function Ht(K){return new O.vHH(3015,!1)}()),v;const te=R[1],me=R[2],Be=R[3];v.push(ii(te,Be));"<"==me[0]&&!("*"==te&&"*"==Be)&&v.push(ii(Be,te))}(R,w,v)):w.push(K),w}const ds=new Set(["true","1"]),hs=new Set(["false","0"]);function ii(K,v){const w=ds.has(K)||hs.has(K),R=ds.has(v)||hs.has(v);return(te,me)=>{let Be="*"==K||K==te,Se="*"==v||v==me;return!Be&&w&&"boolean"==typeof te&&(Be=te?ds.has(K):hs.has(K)),!Se&&R&&"boolean"==typeof me&&(Se=me?ds.has(v):hs.has(v)),Be&&Se}}const Je=new RegExp("s*:selfs*,?","g");function mt(K,v,w,R){return new En(K).build(v,w,R)}class En{constructor(v){this._driver=v}build(v,w,R){const te=new di(w);return this._resetContextStyleTimingState(te),Ei(this,ws(v),te)}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles=new Map,v.collectedStyles.set("",new Map),v.currentTime=0}visitTrigger(v,w){let R=w.queryCount=0,te=w.depCount=0;const me=[],Be=[];return"@"==v.name.charAt(0)&&w.errors.push(function yt(){return new O.vHH(3006,!1)}()),v.definitions.forEach(Se=>{if(this._resetContextStyleTimingState(w),0==Se.type){const Et=Se,wt=Et.name;wt.toString().split(/\s*,\s*/).forEach(Fn=>{Et.name=Fn,me.push(this.visitState(Et,w))}),Et.name=wt}else if(1==Se.type){const Et=this.visitTransition(Se,w);R+=Et.queryCount,te+=Et.depCount,Be.push(Et)}else w.errors.push(function Me(){return new O.vHH(3007,!1)}())}),{type:7,name:v.name,states:me,transitions:Be,queryCount:R,depCount:te,options:null}}visitState(v,w){const R=this.visitStyle(v.styles,w),te=v.options&&v.options.params||null;if(R.containsDynamicStyles){const me=new Set,Be=te||{};R.styles.forEach(Se=>{Se instanceof Map&&Se.forEach(Et=>{qr(Et).forEach(wt=>{Be.hasOwnProperty(wt)||me.add(wt)})})}),me.size&&(vr(me.values()),w.errors.push(function tt(K,v){return new O.vHH(3008,!1)}()))}return{type:0,name:v.name,style:R,options:te?{params:te}:null}}visitTransition(v,w){w.queryCount=0,w.depCount=0;const R=Ei(this,ws(v.animation),w);return{type:1,matchers:Eo(v.expr,w.errors),animation:R,queryCount:w.queryCount,depCount:w.depCount,options:bs(v.options)}}visitSequence(v,w){return{type:2,steps:v.steps.map(R=>Ei(this,R,w)),options:bs(v.options)}}visitGroup(v,w){const R=w.currentTime;let te=0;const me=v.steps.map(Be=>{w.currentTime=R;const Se=Ei(this,Be,w);return te=Math.max(te,w.currentTime),Se});return w.currentTime=te,{type:3,steps:me,options:bs(v.options)}}visitAnimate(v,w){const R=function to(K,v){if(K.hasOwnProperty("duration"))return K;if("number"==typeof K)return Ii(In(K,v).duration,0,"");const w=K;if(w.split(/\s+/).some(me=>"{"==me.charAt(0)&&"{"==me.charAt(1))){const me=Ii(0,0,"");return me.dynamic=!0,me.strValue=w,me}const te=In(w,v);return Ii(te.duration,te.delay,te.easing)}(v.timings,w.errors);w.currentAnimateTimings=R;let te,me=v.styles?v.styles:de({});if(5==me.type)te=this.visitKeyframes(me,w);else{let Be=v.styles,Se=!1;if(!Be){Se=!0;const wt={};R.easing&&(wt.easing=R.easing),Be=de(wt)}w.currentTime+=R.duration+R.delay;const Et=this.visitStyle(Be,w);Et.isEmptyStep=Se,te=Et}return w.currentAnimateTimings=null,{type:4,timings:R,style:te,options:null}}visitStyle(v,w){const R=this._makeStyleAst(v,w);return this._validateStyleAst(R,w),R}_makeStyleAst(v,w){const R=[],te=Array.isArray(v.styles)?v.styles:[v.styles];for(let Se of te)"string"==typeof Se?Se===ze?R.push(Se):w.errors.push(new O.vHH(3002,!1)):R.push(oi(Se));let me=!1,Be=null;return R.forEach(Se=>{if(Se instanceof Map&&(Se.has("easing")&&(Be=Se.get("easing"),Se.delete("easing")),!me))for(let Et of Se.values())if(Et.toString().indexOf("{{")>=0){me=!0;break}}),{type:6,styles:R,easing:Be,offset:v.offset,containsDynamicStyles:me,options:null}}_validateStyleAst(v,w){const R=w.currentAnimateTimings;let te=w.currentTime,me=w.currentTime;R&&me>0&&(me-=R.duration+R.delay),v.styles.forEach(Be=>{"string"!=typeof Be&&Be.forEach((Se,Et)=>{const wt=w.collectedStyles.get(w.currentQuerySelector),Fn=wt.get(Et);let gn=!0;Fn&&(me!=te&&me>=Fn.startTime&&te<=Fn.endTime&&(w.errors.push(function Bt(K,v,w,R,te){return new O.vHH(3010,!1)}()),gn=!1),me=Fn.startTime),gn&&wt.set(Et,{startTime:me,endTime:te}),w.options&&function ns(K,v,w){const R=v.params||{},te=qr(K);te.length&&te.forEach(me=>{R.hasOwnProperty(me)||w.push(function Dt(K){return new O.vHH(3001,!1)}())})}(Se,w.options,w.errors)})})}visitKeyframes(v,w){const R={type:5,styles:[],options:null};if(!w.currentAnimateTimings)return w.errors.push(function It(){return new O.vHH(3011,!1)}()),R;let me=0;const Be=[];let Se=!1,Et=!1,wt=0;const Fn=v.steps.map(gr=>{const mo=this._makeStyleAst(gr,w);let vs=null!=mo.offset?mo.offset:function Hr(K){if("string"==typeof K)return null;let v=null;if(Array.isArray(K))K.forEach(w=>{if(w instanceof Map&&w.has("offset")){const R=w;v=parseFloat(R.get("offset")),R.delete("offset")}});else if(K instanceof Map&&K.has("offset")){const w=K;v=parseFloat(w.get("offset")),w.delete("offset")}return v}(mo.styles),_s=0;return null!=vs&&(me++,_s=mo.offset=vs),Et=Et||_s<0||_s>1,Se=Se||_s<wt,wt=_s,Be.push(_s),mo});Et&&w.errors.push(function Nn(){return new O.vHH(3012,!1)}()),Se&&w.errors.push(function yn(){return new O.vHH(3200,!1)}());const gn=v.steps.length;let Xt=0;me>0&&me<gn?w.errors.push(function Ar(){return new O.vHH(3202,!1)}()):0==me&&(Xt=1/(gn-1));const kr=gn-1,hr=w.currentTime,rr=w.currentAnimateTimings,bi=rr.duration;return Fn.forEach((gr,mo)=>{const vs=Xt>0?mo==kr?1:Xt*mo:Be[mo],_s=vs*bi;w.currentTime=hr+rr.delay+_s,rr.duration=_s,this._validateStyleAst(gr,w),gr.offset=vs,R.styles.push(gr)}),R}visitReference(v,w){return{type:8,animation:Ei(this,ws(v.animation),w),options:bs(v.options)}}visitAnimateChild(v,w){return w.depCount++,{type:9,options:bs(v.options)}}visitAnimateRef(v,w){return{type:10,animation:this.visitReference(v.animation,w),options:bs(v.options)}}visitQuery(v,w){const R=w.currentQuerySelector,te=v.options||{};w.queryCount++,w.currentQuery=v;const[me,Be]=function tr(K){const v=!!K.split(/\s*,\s*/).find(w=>":self"==w);return v&&(K=K.replace(Je,"")),K=K.replace(/@\*/g,xe).replace(/@\w+/g,w=>xe+"-"+w.slice(1)).replace(/:animating/g,Ce),[K,v]}(v.selector);w.currentQuerySelector=R.length?R+" "+me:me,Wr(w.collectedStyles,w.currentQuerySelector,new Map);const Se=Ei(this,ws(v.animation),w);return w.currentQuery=null,w.currentQuerySelector=R,{type:11,selector:me,limit:te.limit||0,optional:!!te.optional,includeSelf:Be,animation:Se,originalSelector:v.selector,options:bs(v.options)}}visitStagger(v,w){w.currentQuery||w.errors.push(function en(){return new O.vHH(3013,!1)}());const R="full"===v.timings?{duration:0,delay:0,easing:"full"}:In(v.timings,w.errors,!0);return{type:12,animation:Ei(this,ws(v.animation),w),timings:R,options:null}}}class di{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function bs(K){return K?(K=$n(K)).params&&(K.params=function Tr(K){return K?$n(K):null}(K.params)):K={},K}function Ii(K,v,w){return{duration:K,delay:v,easing:w}}function co(K,v,w,R,te,me,Be=null,Se=!1){return{type:1,element:K,keyframes:v,preStyleProps:w,postStyleProps:R,duration:te,delay:me,totalTime:te+me,easing:Be,subTimeline:Se}}class ho{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,w){let R=this._map.get(v);R||this._map.set(v,R=[]),R.push(...w)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const ks=new RegExp(":enter","g"),no=new RegExp(":leave","g");function Xi(K,v,w,R,te,me=new Map,Be=new Map,Se,Et,wt=[]){return(new Qo).buildKeyframes(K,v,w,R,te,me,Be,Se,Et,wt)}class Qo{buildKeyframes(v,w,R,te,me,Be,Se,Et,wt,Fn=[]){wt=wt||new ho;const gn=new Is(v,w,wt,te,me,Fn,[]);gn.options=Et;const Xt=Et.delay?st(Et.delay):0;gn.currentTimeline.delayNextStep(Xt),gn.currentTimeline.setStyles([Be],null,gn.errors,Et),Ei(this,R,gn);const kr=gn.timelines.filter(hr=>hr.containsAnimation());if(kr.length&&Se.size){let hr;for(let rr=kr.length-1;rr>=0;rr--){const bi=kr[rr];if(bi.element===w){hr=bi;break}}hr&&!hr.allowOnlyTimelineStyles()&&hr.setStyles([Se],null,gn.errors,Et)}return kr.length?kr.map(hr=>hr.buildKeyframes()):[co(w,[],[],[],0,Xt,"",!1)]}visitTrigger(v,w){}visitState(v,w){}visitTransition(v,w){}visitAnimateChild(v,w){const R=w.subInstructions.get(w.element);if(R){const te=w.createSubContext(v.options),me=w.currentTimeline.currentTime,Be=this._visitSubInstructions(R,te,te.options);me!=Be&&w.transformIntoNewTimeline(Be)}w.previousNode=v}visitAnimateRef(v,w){const R=w.createSubContext(v.options);R.transformIntoNewTimeline(),this._applyAnimationRefDelays([v.options,v.animation.options],w,R),this.visitReference(v.animation,R),w.transformIntoNewTimeline(R.currentTimeline.currentTime),w.previousNode=v}_applyAnimationRefDelays(v,w,R){for(const te of v){const me=te?.delay;if(me){const Be="number"==typeof me?me:st(vi(me,te?.params??{},w.errors));R.delayNextStep(Be)}}}_visitSubInstructions(v,w,R){let me=w.currentTimeline.currentTime;const Be=null!=R.duration?st(R.duration):null,Se=null!=R.delay?st(R.delay):null;return 0!==Be&&v.forEach(Et=>{const wt=w.appendInstructionToTimeline(Et,Be,Se);me=Math.max(me,wt.duration+wt.delay)}),me}visitReference(v,w){w.updateOptions(v.options,!0),Ei(this,v.animation,w),w.previousNode=v}visitSequence(v,w){const R=w.subContextCount;let te=w;const me=v.options;if(me&&(me.params||me.delay)&&(te=w.createSubContext(me),te.transformIntoNewTimeline(),null!=me.delay)){6==te.previousNode.type&&(te.currentTimeline.snapshotCurrentStyles(),te.previousNode=Ho);const Be=st(me.delay);te.delayNextStep(Be)}v.steps.length&&(v.steps.forEach(Be=>Ei(this,Be,te)),te.currentTimeline.applyStylesToKeyframe(),te.subContextCount>R&&te.transformIntoNewTimeline()),w.previousNode=v}visitGroup(v,w){const R=[];let te=w.currentTimeline.currentTime;const me=v.options&&v.options.delay?st(v.options.delay):0;v.steps.forEach(Be=>{const Se=w.createSubContext(v.options);me&&Se.delayNextStep(me),Ei(this,Be,Se),te=Math.max(te,Se.currentTimeline.currentTime),R.push(Se.currentTimeline)}),R.forEach(Be=>w.currentTimeline.mergeTimelineCollectedStyles(Be)),w.transformIntoNewTimeline(te),w.previousNode=v}_visitTiming(v,w){if(v.dynamic){const R=v.strValue;return In(w.params?vi(R,w.params,w.errors):R,w.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,w){const R=w.currentAnimateTimings=this._visitTiming(v.timings,w),te=w.currentTimeline;R.delay&&(w.incrementTime(R.delay),te.snapshotCurrentStyles());const me=v.style;5==me.type?this.visitKeyframes(me,w):(w.incrementTime(R.duration),this.visitStyle(me,w),te.applyStylesToKeyframe()),w.currentAnimateTimings=null,w.previousNode=v}visitStyle(v,w){const R=w.currentTimeline,te=w.currentAnimateTimings;!te&&R.hasCurrentStyleProperties()&&R.forwardFrame();const me=te&&te.easing||v.easing;v.isEmptyStep?R.applyEmptyStep(me):R.setStyles(v.styles,me,w.errors,w.options),w.previousNode=v}visitKeyframes(v,w){const R=w.currentAnimateTimings,te=w.currentTimeline.duration,me=R.duration,Se=w.createSubContext().currentTimeline;Se.easing=R.easing,v.styles.forEach(Et=>{Se.forwardTime((Et.offset||0)*me),Se.setStyles(Et.styles,Et.easing,w.errors,w.options),Se.applyStylesToKeyframe()}),w.currentTimeline.mergeTimelineCollectedStyles(Se),w.transformIntoNewTimeline(te+me),w.previousNode=v}visitQuery(v,w){const R=w.currentTimeline.currentTime,te=v.options||{},me=te.delay?st(te.delay):0;me&&(6===w.previousNode.type||0==R&&w.currentTimeline.hasCurrentStyleProperties())&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=Ho);let Be=R;const Se=w.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!te.optional,w.errors);w.currentQueryTotal=Se.length;let Et=null;Se.forEach((wt,Fn)=>{w.currentQueryIndex=Fn;const gn=w.createSubContext(v.options,wt);me&&gn.delayNextStep(me),wt===w.element&&(Et=gn.currentTimeline),Ei(this,v.animation,gn),gn.currentTimeline.applyStylesToKeyframe(),Be=Math.max(Be,gn.currentTimeline.currentTime)}),w.currentQueryIndex=0,w.currentQueryTotal=0,w.transformIntoNewTimeline(Be),Et&&(w.currentTimeline.mergeTimelineCollectedStyles(Et),w.currentTimeline.snapshotCurrentStyles()),w.previousNode=v}visitStagger(v,w){const R=w.parentContext,te=w.currentTimeline,me=v.timings,Be=Math.abs(me.duration),Se=Be*(w.currentQueryTotal-1);let Et=Be*w.currentQueryIndex;switch(me.duration<0?"reverse":me.easing){case"reverse":Et=Se-Et;break;case"full":Et=R.currentStaggerTime}const Fn=w.currentTimeline;Et&&Fn.delayNextStep(Et);const gn=Fn.currentTime;Ei(this,v.animation,w),w.previousNode=v,R.currentStaggerTime=te.currentTime-gn+(te.startTime-R.currentTimeline.startTime)}}const Ho={};class Is{constructor(v,w,R,te,me,Be,Se,Et){this._driver=v,this.element=w,this.subInstructions=R,this._enterClassName=te,this._leaveClassName=me,this.errors=Be,this.timelines=Se,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ho,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Et||new xo(this._driver,w,0),Se.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,w){if(!v)return;const R=v;let te=this.options;null!=R.duration&&(te.duration=st(R.duration)),null!=R.delay&&(te.delay=st(R.delay));const me=R.params;if(me){let Be=te.params;Be||(Be=this.options.params={}),Object.keys(me).forEach(Se=>{(!w||!Be.hasOwnProperty(Se))&&(Be[Se]=vi(me[Se],Be,this.errors))})}}_copyOptions(){const v={};if(this.options){const w=this.options.params;if(w){const R=v.params={};Object.keys(w).forEach(te=>{R[te]=w[te]})}}return v}createSubContext(v=null,w,R){const te=w||this.element,me=new Is(this._driver,te,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(te,R||0));return me.previousNode=this.previousNode,me.currentAnimateTimings=this.currentAnimateTimings,me.options=this._copyOptions(),me.updateOptions(v),me.currentQueryIndex=this.currentQueryIndex,me.currentQueryTotal=this.currentQueryTotal,me.parentContext=this,this.subContextCount++,me}transformIntoNewTimeline(v){return this.previousNode=Ho,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,w,R){const te={duration:w??v.duration,delay:this.currentTimeline.currentTime+(R??0)+v.delay,easing:""},me=new ro(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,te,v.stretchStartingKeyframe);return this.timelines.push(me),te}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,w,R,te,me,Be){let Se=[];if(te&&Se.push(this.element),v.length>0){v=(v=v.replace(ks,"."+this._enterClassName)).replace(no,"."+this._leaveClassName);let wt=this._driver.query(this.element,v,1!=R);0!==R&&(wt=R<0?wt.slice(wt.length+R,wt.length):wt.slice(0,R)),Se.push(...wt)}return!me&&0==Se.length&&Be.push(function qt(K){return new O.vHH(3014,!1)}()),Se}}class xo{constructor(v,w,R,te){this._driver=v,this.element=w,this.startTime=R,this._elementTimelineStylesLookup=te,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(w),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(w,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const w=1===this._keyframes.size&&this._pendingStyles.size;this.duration||w?(this.forwardTime(this.currentTime+v),w&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,w){return this.applyStylesToKeyframe(),new xo(this._driver,v,w||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,w){this._localTimelineStyles.set(v,w),this._globalTimelineStyles.set(v,w),this._styleSummary.set(v,{time:this.currentTime,value:w})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&this._previousKeyframe.set("easing",v);for(let[w,R]of this._globalTimelineStyles)this._backFill.set(w,R||ze),this._currentKeyframe.set(w,ze);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,w,R,te){w&&this._previousKeyframe.set("easing",w);const me=te&&te.params||{},Be=function ji(K,v){const w=new Map;let R;return K.forEach(te=>{if("*"===te){R=R||v.keys();for(let me of R)w.set(me,ze)}else Wi(te,w)}),w}(v,this._globalTimelineStyles);for(let[Se,Et]of Be){const wt=vi(Et,me,R);this._pendingStyles.set(Se,wt),this._localTimelineStyles.has(Se)||this._backFill.set(Se,this._globalTimelineStyles.get(Se)??ze),this._updateStyle(Se,wt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((v,w)=>{this._currentKeyframe.set(w,v)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((v,w)=>{this._currentKeyframe.has(w)||this._currentKeyframe.set(w,v)}))}snapshotCurrentStyles(){for(let[v,w]of this._localTimelineStyles)this._pendingStyles.set(v,w),this._updateStyle(v,w)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let w in this._currentKeyframe)v.push(w);return v}mergeTimelineCollectedStyles(v){v._styleSummary.forEach((w,R)=>{const te=this._styleSummary.get(R);(!te||w.time>te.time)&&this._updateStyle(R,w.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,w=new Set,R=1===this._keyframes.size&&0===this.duration;let te=[];this._keyframes.forEach((Se,Et)=>{const wt=Wi(Se,new Map,this._backFill);wt.forEach((Fn,gn)=>{"!"===Fn?v.add(gn):Fn===ze&&w.add(gn)}),R||wt.set("offset",Et/this.duration),te.push(wt)});const me=v.size?vr(v.values()):[],Be=w.size?vr(w.values()):[];if(R){const Se=te[0],Et=new Map(Se);Se.set("offset",0),Et.set("offset",1),te=[Se,Et]}return co(this.element,te,me,Be,this.duration,this.startTime,this.easing,!1)}}class ro extends xo{constructor(v,w,R,te,me,Be,Se=!1){super(v,w,Be.delay),this.keyframes=R,this.preStyleProps=te,this.postStyleProps=me,this._stretchStartingKeyframe=Se,this.timings={duration:Be.duration,delay:Be.delay,easing:Be.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:w,duration:R,easing:te}=this.timings;if(this._stretchStartingKeyframe&&w){const me=[],Be=R+w,Se=w/Be,Et=Wi(v[0]);Et.set("offset",0),me.push(Et);const wt=Wi(v[0]);wt.set("offset",Go(Se)),me.push(wt);const Fn=v.length-1;for(let gn=1;gn<=Fn;gn++){let Xt=Wi(v[gn]);const kr=Xt.get("offset");Xt.set("offset",Go((w+kr*R)/Be)),me.push(Xt)}R=Be,w=0,te="",v=me}return co(this.element,v,this.preStyleProps,this.postStyleProps,R,w,te,!0)}}function Go(K,v=3){const w=Math.pow(10,v-1);return Math.round(K*w)/w}class Ki{}const $i=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Rs extends Ki{normalizePropertyName(v,w){return rs(v)}normalizeStyleValue(v,w,R,te){let me="";const Be=R.toString().trim();if($i.has(w)&&0!==R&&"0"!==R)if("number"==typeof R)me="px";else{const Se=R.match(/^[+-]?[\d\.]+([a-z]*)$/);Se&&0==Se[1].length&&te.push(function ht(K,v){return new O.vHH(3005,!1)}())}return Be+me}}function ss(K,v,w,R,te,me,Be,Se,Et,wt,Fn,gn,Xt){return{type:0,element:K,triggerName:v,isRemovalTransition:te,fromState:w,fromStyles:me,toState:R,toStyles:Be,timelines:Se,queriedElements:Et,preStyleProps:wt,postStyleProps:Fn,totalTime:gn,errors:Xt}}const _i={};class Ur{constructor(v,w,R){this._triggerName=v,this.ast=w,this._stateStyles=R}match(v,w,R,te){return function wo(K,v,w,R,te){return K.some(me=>me(v,w,R,te))}(this.ast.matchers,v,w,R,te)}buildStyles(v,w,R){let te=this._stateStyles.get("*");return void 0!==v&&(te=this._stateStyles.get(v?.toString())||te),te?te.buildStyles(w,R):new Map}build(v,w,R,te,me,Be,Se,Et,wt,Fn){const gn=[],Xt=this.ast.options&&this.ast.options.params||_i,hr=this.buildStyles(R,Se&&Se.params||_i,gn),rr=Et&&Et.params||_i,bi=this.buildStyles(te,rr,gn),gr=new Set,mo=new Map,vs=new Map,_s="void"===te,Ea={params:Ds(rr,Xt),delay:this.ast.options?.delay},Ms=Fn?[]:Xi(v,w,this.ast.animation,me,Be,hr,bi,Ea,wt,gn);let Bs=0;if(Ms.forEach(yo=>{Bs=Math.max(yo.duration+yo.delay,Bs)}),gn.length)return ss(w,this._triggerName,R,te,_s,hr,bi,[],[],mo,vs,Bs,gn);Ms.forEach(yo=>{const Fo=yo.element,ll=Wr(mo,Fo,new Set);yo.preStyleProps.forEach(Io=>ll.add(Io));const gt=Wr(vs,Fo,new Set);yo.postStyleProps.forEach(Io=>gt.add(Io)),Fo!==w&&gr.add(Fo)});const pa=vr(gr.values());return ss(w,this._triggerName,R,te,_s,hr,bi,Ms,pa,mo,vs,Bs)}}function Ds(K,v){const w=$n(v);for(const R in K)K.hasOwnProperty(R)&&null!=K[R]&&(w[R]=K[R]);return w}class _r{constructor(v,w,R){this.styles=v,this.defaultParams=w,this.normalizer=R}buildStyles(v,w){const R=new Map,te=$n(this.defaultParams);return Object.keys(v).forEach(me=>{const Be=v[me];null!==Be&&(te[me]=Be)}),this.styles.styles.forEach(me=>{"string"!=typeof me&&me.forEach((Be,Se)=>{Be&&(Be=vi(Be,te,w));const Et=this.normalizer.normalizePropertyName(Se,w);Be=this.normalizer.normalizeStyleValue(Se,Et,Be,w),R.set(Et,Be)})}),R}}class Os{constructor(v,w,R){this.name=v,this.ast=w,this._normalizer=R,this.transitionFactories=[],this.states=new Map,w.states.forEach(te=>{this.states.set(te.name,new _r(te.style,te.options&&te.options.params||{},R))}),Lr(this.states,"true","1"),Lr(this.states,"false","0"),w.transitions.forEach(te=>{this.transitionFactories.push(new Ur(v,te,this.states))}),this.fallbackTransition=function Ts(K,v,w){return new Ur(K,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Be,Se)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,w,R,te){return this.transitionFactories.find(Be=>Be.match(v,w,R,te))||null}matchStyles(v,w,R){return this.fallbackTransition.buildStyles(v,w,R)}}function Lr(K,v,w){K.has(v)?K.has(w)||K.set(w,K.get(v)):K.has(w)&&K.set(v,K.get(w))}const qs=new ho;class Fs{constructor(v,w,R){this.bodyNode=v,this._driver=w,this._normalizer=R,this._animations=new Map,this._playersById=new Map,this.players=[]}register(v,w){const R=[],me=mt(this._driver,w,R,[]);if(R.length)throw function ci(K){return new O.vHH(3503,!1)}();this._animations.set(v,me)}_buildPlayer(v,w,R){const te=v.element,me=jn(0,this._normalizer,0,v.keyframes,w,R);return this._driver.animate(te,me,v.duration,v.delay,v.easing,[],!0)}create(v,w,R={}){const te=[],me=this._animations.get(v);let Be;const Se=new Map;if(me?(Be=Xi(this._driver,w,me,$t,Tn,new Map,new Map,R,qs,te),Be.forEach(Fn=>{const gn=Wr(Se,Fn.element,new Map);Fn.postStyleProps.forEach(Xt=>gn.set(Xt,null))})):(te.push(function Jn(){return new O.vHH(3300,!1)}()),Be=[]),te.length)throw function dr(K){return new O.vHH(3504,!1)}();Se.forEach((Fn,gn)=>{Fn.forEach((Xt,kr)=>{Fn.set(kr,this._driver.computeStyle(gn,kr,ze))})});const wt=Dn(Be.map(Fn=>{const gn=Se.get(Fn.element);return this._buildPlayer(Fn,new Map,gn)}));return this._playersById.set(v,wt),wt.onDestroy(()=>this.destroy(v)),this.players.push(wt),wt}destroy(v){const w=this._getPlayer(v);w.destroy(),this._playersById.delete(v);const R=this.players.indexOf(w);R>=0&&this.players.splice(R,1)}_getPlayer(v){const w=this._playersById.get(v);if(!w)throw function ti(K){return new O.vHH(3301,!1)}();return w}listen(v,w,R,te){const me=zr(w,"","","");return ar(this._getPlayer(v),R,me,te),()=>{}}command(v,w,R,te){if("register"==R)return void this.register(v,te[0]);if("create"==R)return void this.create(v,w,te[0]||{});const me=this._getPlayer(v);switch(R){case"play":me.play();break;case"pause":me.pause();break;case"reset":me.reset();break;case"restart":me.restart();break;case"finish":me.finish();break;case"init":me.init();break;case"setPosition":me.setPosition(parseFloat(te[0]));break;case"destroy":this.destroy(v)}}}const zo="ng-animate-queued",Po="ng-animate-disabled",ha=[],fo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},io={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hi="__ng_removed";class Ks{constructor(v,w=""){this.namespaceId=w;const R=v&&v.hasOwnProperty("value");if(this.value=function Hi(K){return K??null}(R?v.value:v),R){const me=$n(v);delete me.value,this.options=me}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(v){const w=v.params;if(w){const R=this.options.params;Object.keys(w).forEach(te=>{null==R[te]&&(R[te]=w[te])})}}}const as="void",Zs=new Ks(as);class nn{constructor(v,w,R){this.id=v,this.hostElement=w,this._engine=R,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,Si(w,this._hostClassName)}listen(v,w,R,te){if(!this._triggers.has(w))throw function xr(K,v){return new O.vHH(3302,!1)}();if(null==R||0==R.length)throw function bn(K){return new O.vHH(3303,!1)}();if(!function so(K){return"start"==K||"done"==K}(R))throw function gi(K,v){return new O.vHH(3400,!1)}();const me=Wr(this._elementListeners,v,[]),Be={name:w,phase:R,callback:te};me.push(Be);const Se=Wr(this._engine.statesByElement,v,new Map);return Se.has(w)||(Si(v,un),Si(v,un+"-"+w),Se.set(w,Zs)),()=>{this._engine.afterFlush(()=>{const Et=me.indexOf(Be);Et>=0&&me.splice(Et,1),this._triggers.has(w)||Se.delete(w)})}}register(v,w){return!this._triggers.has(v)&&(this._triggers.set(v,w),!0)}_getTrigger(v){const w=this._triggers.get(v);if(!w)throw function yr(K){return new O.vHH(3401,!1)}();return w}trigger(v,w,R,te=!0){const me=this._getTrigger(w),Be=new ko(this.id,w,v);let Se=this._engine.statesByElement.get(v);Se||(Si(v,un),Si(v,un+"-"+w),this._engine.statesByElement.set(v,Se=new Map));let Et=Se.get(w);const wt=new Ks(R,this.id);if(!(R&&R.hasOwnProperty("value"))&&Et&&wt.absorbOptions(Et.options),Se.set(w,wt),Et||(Et=Zs),wt.value!==as&&Et.value===wt.value){if(!function ue(K,v){const w=Object.keys(K),R=Object.keys(v);if(w.length!=R.length)return!1;for(let te=0;te<w.length;te++){const me=w[te];if(!v.hasOwnProperty(me)||K[me]!==v[me])return!1}return!0}(Et.params,wt.params)){const rr=[],bi=me.matchStyles(Et.value,Et.params,rr),gr=me.matchStyles(wt.value,wt.params,rr);rr.length?this._engine.reportError(rr):this._engine.afterFlush(()=>{Qr(v,bi),Oi(v,gr)})}return}const Xt=Wr(this._engine.playersByElement,v,[]);Xt.forEach(rr=>{rr.namespaceId==this.id&&rr.triggerName==w&&rr.queued&&rr.destroy()});let kr=me.matchTransition(Et.value,wt.value,v,wt.params),hr=!1;if(!kr){if(!te)return;kr=me.fallbackTransition,hr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:w,transition:kr,fromState:Et,toState:wt,player:Be,isFallbackTransition:hr}),hr||(Si(v,zo),Be.onStart(()=>{Mi(v,zo)})),Be.onDone(()=>{let rr=this.players.indexOf(Be);rr>=0&&this.players.splice(rr,1);const bi=this._engine.playersByElement.get(v);if(bi){let gr=bi.indexOf(Be);gr>=0&&bi.splice(gr,1)}}),this.players.push(Be),Xt.push(Be),Be}deregister(v){this._triggers.delete(v),this._engine.statesByElement.forEach(w=>w.delete(v)),this._elementListeners.forEach((w,R)=>{this._elementListeners.set(R,w.filter(te=>te.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const w=this._engine.playersByElement.get(v);w&&(w.forEach(R=>R.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,w){const R=this._engine.driver.query(v,xe,!0);R.forEach(te=>{if(te[hi])return;const me=this._engine.fetchNamespacesByElement(te);me.size?me.forEach(Be=>Be.triggerLeaveAnimation(te,w,!1,!0)):this.clearElementCache(te)}),this._engine.afterFlushAnimationsDone(()=>R.forEach(te=>this.clearElementCache(te)))}triggerLeaveAnimation(v,w,R,te){const me=this._engine.statesByElement.get(v),Be=new Map;if(me){const Se=[];if(me.forEach((Et,wt)=>{if(Be.set(wt,Et.value),this._triggers.has(wt)){const Fn=this.trigger(v,wt,as,te);Fn&&Se.push(Fn)}}),Se.length)return this._engine.markElementAsRemoved(this.id,v,!0,w,Be),R&&Dn(Se).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const w=this._elementListeners.get(v),R=this._engine.statesByElement.get(v);if(w&&R){const te=new Set;w.forEach(me=>{const Be=me.name;if(te.has(Be))return;te.add(Be);const Et=this._triggers.get(Be).fallbackTransition,wt=R.get(Be)||Zs,Fn=new Ks(as),gn=new ko(this.id,Be,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:Be,transition:Et,fromState:wt,toState:Fn,player:gn,isFallbackTransition:!0})})}}removeNode(v,w){const R=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,w),this.triggerLeaveAnimation(v,w,!0))return;let te=!1;if(R.totalAnimations){const me=R.players.length?R.playersByQueriedElement.get(v):[];if(me&&me.length)te=!0;else{let Be=v;for(;Be=Be.parentNode;)if(R.statesByElement.get(Be)){te=!0;break}}}if(this.prepareLeaveAnimationListeners(v),te)R.markElementAsRemoved(this.id,v,!1,w);else{const me=v[hi];(!me||me===fo)&&(R.afterFlush(()=>this.clearElementCache(v)),R.destroyInnerAnimations(v),R._onRemovalComplete(v,w))}}insertNode(v,w){Si(v,this._hostClassName)}drainQueuedTransitions(v){const w=[];return this._queue.forEach(R=>{const te=R.player;if(te.destroyed)return;const me=R.element,Be=this._elementListeners.get(me);Be&&Be.forEach(Se=>{if(Se.name==R.triggerName){const Et=zr(me,R.triggerName,R.fromState.value,R.toState.value);Et._data=v,ar(R.player,Se.phase,Et,Se.callback)}}),te.markedForDestroy?this._engine.afterFlush(()=>{te.destroy()}):w.push(R)}),this._queue=[],w.sort((R,te)=>{const me=R.transition.ast.depCount,Be=te.transition.ast.depCount;return 0==me||0==Be?me-Be:this._engine.driver.containsElement(R.element,te.element)?1:-1})}destroy(v){this.players.forEach(w=>w.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}elementContainsData(v){let w=!1;return this._elementListeners.has(v)&&(w=!0),w=!!this._queue.find(R=>R.element===v)||w,w}}class Pr{constructor(v,w,R){this.bodyNode=v,this.driver=w,this._normalizer=R,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(te,me)=>{}}_onRemovalComplete(v,w){this.onRemovalComplete(v,w)}get queuedPlayers(){const v=[];return this._namespaceList.forEach(w=>{w.players.forEach(R=>{R.queued&&v.push(R)})}),v}createNamespace(v,w){const R=new nn(v,w,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,w)?this._balanceNamespaceList(R,w):(this.newHostElements.set(w,R),this.collectEnterElement(w)),this._namespaceLookup[v]=R}_balanceNamespaceList(v,w){const R=this._namespaceList,te=this.namespacesByHostElement;if(R.length-1>=0){let Be=!1,Se=this.driver.getParentElement(w);for(;Se;){const Et=te.get(Se);if(Et){const wt=R.indexOf(Et);R.splice(wt+1,0,v),Be=!0;break}Se=this.driver.getParentElement(Se)}Be||R.unshift(v)}else R.push(v);return te.set(w,v),v}register(v,w){let R=this._namespaceLookup[v];return R||(R=this.createNamespace(v,w)),R}registerTrigger(v,w,R){let te=this._namespaceLookup[v];te&&te.register(w,R)&&this.totalAnimations++}destroy(v,w){if(!v)return;const R=this._fetchNamespace(v);this.afterFlush(()=>{this.namespacesByHostElement.delete(R.hostElement),delete this._namespaceLookup[v];const te=this._namespaceList.indexOf(R);te>=0&&this._namespaceList.splice(te,1)}),this.afterFlushAnimationsDone(()=>R.destroy(w))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const w=new Set,R=this.statesByElement.get(v);if(R)for(let te of R.values())if(te.namespaceId){const me=this._fetchNamespace(te.namespaceId);me&&w.add(me)}return w}trigger(v,w,R,te){if(Kr(w)){const me=this._fetchNamespace(v);if(me)return me.trigger(w,R,te),!0}return!1}insertNode(v,w,R,te){if(!Kr(w))return;const me=w[hi];if(me&&me.setForRemoval){me.setForRemoval=!1,me.setForMove=!0;const Be=this.collectedLeaveElements.indexOf(w);Be>=0&&this.collectedLeaveElements.splice(Be,1)}if(v){const Be=this._fetchNamespace(v);Be&&Be.insertNode(w,R)}te&&this.collectEnterElement(w)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,w){w?this.disabledNodes.has(v)||(this.disabledNodes.add(v),Si(v,Po)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),Mi(v,Po))}removeNode(v,w,R,te){if(Kr(w)){const me=v?this._fetchNamespace(v):null;if(me?me.removeNode(w,te):this.markElementAsRemoved(v,w,!1,te),R){const Be=this.namespacesByHostElement.get(w);Be&&Be.id!==v&&Be.removeNode(w,te)}}else this._onRemovalComplete(w,te)}markElementAsRemoved(v,w,R,te,me){this.collectedLeaveElements.push(w),w[hi]={namespaceId:v,setForRemoval:te,hasAnimation:R,removedBeforeQueried:!1,previousTriggersValues:me}}listen(v,w,R,te,me){return Kr(w)?this._fetchNamespace(v).listen(w,R,te,me):()=>{}}_buildInstruction(v,w,R,te,me){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,R,te,v.fromState.options,v.toState.options,w,me)}destroyInnerAnimations(v){let w=this.driver.query(v,xe,!0);w.forEach(R=>this.destroyActiveAnimationsForElement(R)),0!=this.playersByQueriedElement.size&&(w=this.driver.query(v,Ce,!0),w.forEach(R=>this.finishActiveQueriedAnimationOnElement(R)))}destroyActiveAnimationsForElement(v){const w=this.playersByElement.get(v);w&&w.forEach(R=>{R.queued?R.markedForDestroy=!0:R.destroy()})}finishActiveQueriedAnimationOnElement(v){const w=this.playersByQueriedElement.get(v);w&&w.forEach(R=>R.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return Dn(this.players).onDone(()=>v());v()})}processLeaveNode(v){const w=v[hi];if(w&&w.setForRemoval){if(v[hi]=fo,w.namespaceId){this.destroyInnerAnimations(v);const R=this._fetchNamespace(w.namespaceId);R&&R.clearElementCache(v)}this._onRemovalComplete(v,w.setForRemoval)}v.classList?.contains(Po)&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(R=>{this.markElementAsDisabled(R,!1)})}flush(v=-1){let w=[];if(this.newHostElements.size&&(this.newHostElements.forEach((R,te)=>this._balanceNamespaceList(R,te)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let R=0;R<this.collectedEnterElements.length;R++)Si(this.collectedEnterElements[R],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const R=[];try{w=this._flushAnimations(R,v)}finally{for(let te=0;te<R.length;te++)R[te]()}}else for(let R=0;R<this.collectedLeaveElements.length;R++)this.processLeaveNode(this.collectedLeaveElements[R]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(R=>R()),this._flushFns=[],this._whenQuietFns.length){const R=this._whenQuietFns;this._whenQuietFns=[],w.length?Dn(w).onDone(()=>{R.forEach(te=>te())}):R.forEach(te=>te())}}reportError(v){throw function Dr(K){return new O.vHH(3402,!1)}()}_flushAnimations(v,w){const R=new ho,te=[],me=new Map,Be=[],Se=new Map,Et=new Map,wt=new Map,Fn=new Set;this.disabledNodes.forEach(Zn=>{Fn.add(Zn);const Gn=this.driver.query(Zn,".ng-animate-queued",!0);for(let fr=0;fr<Gn.length;fr++)Fn.add(Gn[fr])});const gn=this.bodyNode,Xt=Array.from(this.statesByElement.keys()),kr=po(Xt,this.collectedEnterElements),hr=new Map;let rr=0;kr.forEach((Zn,Gn)=>{const fr=$t+rr++;hr.set(Gn,fr),Zn.forEach(Br=>Si(Br,fr))});const bi=[],gr=new Set,mo=new Set;for(let Zn=0;Zn<this.collectedLeaveElements.length;Zn++){const Gn=this.collectedLeaveElements[Zn],fr=Gn[hi];fr&&fr.setForRemoval&&(bi.push(Gn),gr.add(Gn),fr.hasAnimation?this.driver.query(Gn,".ng-star-inserted",!0).forEach(Br=>gr.add(Br)):mo.add(Gn))}const vs=new Map,_s=po(Xt,Array.from(gr));_s.forEach((Zn,Gn)=>{const fr=Tn+rr++;vs.set(Gn,fr),Zn.forEach(Br=>Si(Br,fr))}),v.push(()=>{kr.forEach((Zn,Gn)=>{const fr=hr.get(Gn);Zn.forEach(Br=>Mi(Br,fr))}),_s.forEach((Zn,Gn)=>{const fr=vs.get(Gn);Zn.forEach(Br=>Mi(Br,fr))}),bi.forEach(Zn=>{this.processLeaveNode(Zn)})});const Ea=[],Ms=[];for(let Zn=this._namespaceList.length-1;Zn>=0;Zn--)this._namespaceList[Zn].drainQueuedTransitions(w).forEach(fr=>{const Br=fr.player,Yi=fr.element;if(Ea.push(Br),this.collectedEnterElements.length){const js=Yi[hi];if(js&&js.setForMove){if(js.previousTriggersValues&&js.previousTriggersValues.has(fr.triggerName)){const Qi=js.previousTriggersValues.get(fr.triggerName),vo=this.statesByElement.get(fr.element);if(vo&&vo.has(fr.triggerName)){const C=vo.get(fr.triggerName);C.value=Qi,vo.set(fr.triggerName,C)}}return void Br.destroy()}}const Ys=!gn||!this.driver.containsElement(gn,Yi),Lo=vs.get(Yi),ga=hr.get(Yi),ai=this._buildInstruction(fr,R,ga,Lo,Ys);if(ai.errors&&ai.errors.length)return void Ms.push(ai);if(Ys)return Br.onStart(()=>Qr(Yi,ai.fromStyles)),Br.onDestroy(()=>Oi(Yi,ai.toStyles)),void te.push(Br);if(fr.isFallbackTransition)return Br.onStart(()=>Qr(Yi,ai.fromStyles)),Br.onDestroy(()=>Oi(Yi,ai.toStyles)),void te.push(Br);const ba=[];ai.timelines.forEach(js=>{js.stretchStartingKeyframe=!0,this.disabledNodes.has(js.element)||ba.push(js)}),ai.timelines=ba,R.append(Yi,ai.timelines),Be.push({instruction:ai,player:Br,element:Yi}),ai.queriedElements.forEach(js=>Wr(Se,js,[]).push(Br)),ai.preStyleProps.forEach((js,Qi)=>{if(js.size){let vo=Et.get(Qi);vo||Et.set(Qi,vo=new Set),js.forEach((C,D)=>vo.add(D))}}),ai.postStyleProps.forEach((js,Qi)=>{let vo=wt.get(Qi);vo||wt.set(Qi,vo=new Set),js.forEach((C,D)=>vo.add(D))})});if(Ms.length){const Zn=[];Ms.forEach(Gn=>{Zn.push(function zs(K,v){return new O.vHH(3505,!1)}())}),Ea.forEach(Gn=>Gn.destroy()),this.reportError(Zn)}const Bs=new Map,pa=new Map;Be.forEach(Zn=>{const Gn=Zn.element;R.has(Gn)&&(pa.set(Gn,Gn),this._beforeAnimationBuild(Zn.player.namespaceId,Zn.instruction,Bs))}),te.forEach(Zn=>{const Gn=Zn.element;this._getPreviousPlayers(Gn,!1,Zn.namespaceId,Zn.triggerName,null).forEach(Br=>{Wr(Bs,Gn,[]).push(Br),Br.destroy()})});const yo=bi.filter(Zn=>_t(Zn,Et,wt)),Fo=new Map;ra(Fo,this.driver,mo,wt,ze).forEach(Zn=>{_t(Zn,Et,wt)&&yo.push(Zn)});const gt=new Map;kr.forEach((Zn,Gn)=>{ra(gt,this.driver,new Set(Zn),Et,"!")}),yo.forEach(Zn=>{const Gn=Fo.get(Zn),fr=gt.get(Zn);Fo.set(Zn,new Map([...Array.from(Gn?.entries()??[]),...Array.from(fr?.entries()??[])]))});const Io=[],Co=[],za={};Be.forEach(Zn=>{const{element:Gn,player:fr,instruction:Br}=Zn;if(R.has(Gn)){if(Fn.has(Gn))return fr.onDestroy(()=>Oi(Gn,Br.toStyles)),fr.disabled=!0,fr.overrideTotalTime(Br.totalTime),void te.push(fr);let Yi=za;if(pa.size>1){let Lo=Gn;const ga=[];for(;Lo=Lo.parentNode;){const ai=pa.get(Lo);if(ai){Yi=ai;break}ga.push(Lo)}ga.forEach(ai=>pa.set(ai,Yi))}const Ys=this._buildAnimation(fr.namespaceId,Br,Bs,me,gt,Fo);if(fr.setRealPlayer(Ys),Yi===za)Io.push(fr);else{const Lo=this.playersByElement.get(Yi);Lo&&Lo.length&&(fr.parentPlayer=Dn(Lo)),te.push(fr)}}else Qr(Gn,Br.fromStyles),fr.onDestroy(()=>Oi(Gn,Br.toStyles)),Co.push(fr),Fn.has(Gn)&&te.push(fr)}),Co.forEach(Zn=>{const Gn=me.get(Zn.element);if(Gn&&Gn.length){const fr=Dn(Gn);Zn.setRealPlayer(fr)}}),te.forEach(Zn=>{Zn.parentPlayer?Zn.syncPlayerEvents(Zn.parentPlayer):Zn.destroy()});for(let Zn=0;Zn<bi.length;Zn++){const Gn=bi[Zn],fr=Gn[hi];if(Mi(Gn,Tn),fr&&fr.hasAnimation)continue;let Br=[];if(Se.size){let Ys=Se.get(Gn);Ys&&Ys.length&&Br.push(...Ys);let Lo=this.driver.query(Gn,Ce,!0);for(let ga=0;ga<Lo.length;ga++){let ai=Se.get(Lo[ga]);ai&&ai.length&&Br.push(...ai)}}const Yi=Br.filter(Ys=>!Ys.destroyed);Yi.length?Y(this,Gn,Yi):this.processLeaveNode(Gn)}return bi.length=0,Io.forEach(Zn=>{this.players.push(Zn),Zn.onDone(()=>{Zn.destroy();const Gn=this.players.indexOf(Zn);this.players.splice(Gn,1)}),Zn.play()}),Io}elementContainsData(v,w){let R=!1;const te=w[hi];return te&&te.setForRemoval&&(R=!0),this.playersByElement.has(w)&&(R=!0),this.playersByQueriedElement.has(w)&&(R=!0),this.statesByElement.has(w)&&(R=!0),this._fetchNamespace(v).elementContainsData(w)||R}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,w,R,te,me){let Be=[];if(w){const Se=this.playersByQueriedElement.get(v);Se&&(Be=Se)}else{const Se=this.playersByElement.get(v);if(Se){const Et=!me||me==as;Se.forEach(wt=>{wt.queued||!Et&&wt.triggerName!=te||Be.push(wt)})}}return(R||te)&&(Be=Be.filter(Se=>!(R&&R!=Se.namespaceId||te&&te!=Se.triggerName))),Be}_beforeAnimationBuild(v,w,R){const me=w.element,Be=w.isRemovalTransition?void 0:v,Se=w.isRemovalTransition?void 0:w.triggerName;for(const Et of w.timelines){const wt=Et.element,Fn=wt!==me,gn=Wr(R,wt,[]);this._getPreviousPlayers(wt,Fn,Be,Se,w.toState).forEach(kr=>{const hr=kr.getRealPlayer();hr.beforeDestroy&&hr.beforeDestroy(),kr.destroy(),gn.push(kr)})}Qr(me,w.fromStyles)}_buildAnimation(v,w,R,te,me,Be){const Se=w.triggerName,Et=w.element,wt=[],Fn=new Set,gn=new Set,Xt=w.timelines.map(hr=>{const rr=hr.element;Fn.add(rr);const bi=rr[hi];if(bi&&bi.removedBeforeQueried)return new on(hr.duration,hr.delay);const gr=rr!==Et,mo=function B(K){const v=[];return L(K,v),v}((R.get(rr)||ha).map(Bs=>Bs.getRealPlayer())).filter(Bs=>!!Bs.element&&Bs.element===rr),vs=me.get(rr),_s=Be.get(rr),Ea=jn(0,this._normalizer,0,hr.keyframes,vs,_s),Ms=this._buildPlayer(hr,Ea,mo);if(hr.subTimeline&&te&&gn.add(rr),gr){const Bs=new ko(v,Se,rr);Bs.setRealPlayer(Ms),wt.push(Bs)}return Ms});wt.forEach(hr=>{Wr(this.playersByQueriedElement,hr.element,[]).push(hr),hr.onDone(()=>function Ro(K,v,w){let R=K.get(v);if(R){if(R.length){const te=R.indexOf(w);R.splice(te,1)}0==R.length&&K.delete(v)}return R}(this.playersByQueriedElement,hr.element,hr))}),Fn.forEach(hr=>Si(hr,we));const kr=Dn(Xt);return kr.onDestroy(()=>{Fn.forEach(hr=>Mi(hr,we)),Oi(Et,w.toStyles)}),gn.forEach(hr=>{Wr(te,hr,[]).push(kr)}),kr}_buildPlayer(v,w,R){return w.length>0?this.driver.animate(v.element,w,v.duration,v.delay,v.easing,R):new on(v.duration,v.delay)}}class ko{constructor(v,w,R){this.namespaceId=v,this.triggerName=w,this.element=R,this._player=new on,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,this._queuedCallbacks.forEach((w,R)=>{w.forEach(te=>ar(v,R,void 0,te))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const w=this._player;w.triggerCallback&&v.onStart(()=>w.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,w){Wr(this._queuedCallbacks,v,[]).push(w)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const w=this._player;w.triggerCallback&&w.triggerCallback(v)}}function Kr(K){return K&&1===K.nodeType}function fi(K,v){const w=K.style.display;return K.style.display=v??"none",w}function ra(K,v,w,R,te){const me=[];w.forEach(Et=>me.push(fi(Et)));const Be=[];R.forEach((Et,wt)=>{const Fn=new Map;Et.forEach(gn=>{const Xt=v.computeStyle(wt,gn,te);Fn.set(gn,Xt),(!Xt||0==Xt.length)&&(wt[hi]=io,Be.push(wt))}),K.set(wt,Fn)});let Se=0;return w.forEach(Et=>fi(Et,me[Se++])),Be}function po(K,v){const w=new Map;if(K.forEach(Se=>w.set(Se,[])),0==v.length)return w;const te=new Set(v),me=new Map;function Be(Se){if(!Se)return 1;let Et=me.get(Se);if(Et)return Et;const wt=Se.parentNode;return Et=w.has(wt)?wt:te.has(wt)?1:Be(wt),me.set(Se,Et),Et}return v.forEach(Se=>{const Et=Be(Se);1!==Et&&w.get(Et).push(Se)}),w}function Si(K,v){K.classList?.add(v)}function Mi(K,v){K.classList?.remove(v)}function Y(K,v,w){Dn(w).onDone(()=>K.processLeaveNode(v))}function L(K,v){for(let w=0;w<K.length;w++){const R=K[w];R instanceof Oe?L(R.players,v):v.push(R)}}function _t(K,v,w){const R=w.get(K);if(!R)return!1;let te=v.get(K);return te?R.forEach(me=>te.add(me)):v.set(K,R),w.delete(K),!0}class On{constructor(v,w,R){this.bodyNode=v,this._driver=w,this._normalizer=R,this._triggerCache={},this.onRemovalComplete=(te,me)=>{},this._transitionEngine=new Pr(v,w,R),this._timelineEngine=new Fs(v,w,R),this._transitionEngine.onRemovalComplete=(te,me)=>this.onRemovalComplete(te,me)}registerTrigger(v,w,R,te,me){const Be=v+"-"+te;let Se=this._triggerCache[Be];if(!Se){const Et=[],Fn=mt(this._driver,me,Et,[]);if(Et.length)throw function Un(K,v){return new O.vHH(3404,!1)}();Se=function os(K,v,w){return new Os(K,v,w)}(te,Fn,this._normalizer),this._triggerCache[Be]=Se}this._transitionEngine.registerTrigger(w,te,Se)}register(v,w){this._transitionEngine.register(v,w)}destroy(v,w){this._transitionEngine.destroy(v,w)}onInsert(v,w,R,te){this._transitionEngine.insertNode(v,w,R,te)}onRemove(v,w,R,te){this._transitionEngine.removeNode(v,w,te||!1,R)}disableAnimations(v,w){this._transitionEngine.markElementAsDisabled(v,w)}process(v,w,R,te){if("@"==R.charAt(0)){const[me,Be]=nr(R);this._timelineEngine.command(me,w,Be,te)}else this._transitionEngine.trigger(v,w,R,te)}listen(v,w,R,te,me){if("@"==R.charAt(0)){const[Be,Se]=nr(R);return this._timelineEngine.listen(Be,w,Se,me)}return this._transitionEngine.listen(v,w,R,te,me)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ls=(()=>{class K{constructor(w,R,te){this._element=w,this._startStyles=R,this._endStyles=te,this._state=0;let me=K.initialStylesByElement.get(w);me||K.initialStylesByElement.set(w,me=new Map),this._initialStyles=me}start(){this._state<1&&(this._startStyles&&Oi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Oi(this._element,this._initialStyles),this._endStyles&&(Oi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(K.initialStylesByElement.delete(this._element),this._startStyles&&(Qr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qr(this._element,this._endStyles),this._endStyles=null),Oi(this._element,this._initialStyles),this._state=3)}}return K.initialStylesByElement=new WeakMap,K})();function u(K){let v=null;return K.forEach((w,R)=>{(function p(K){return"display"===K||"position"===K})(R)&&(v=v||new Map,v.set(R,w))}),v}class _{constructor(v,w,R,te){this.element=v,this.keyframes=w,this.options=R,this._specialStyles=te,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=R.duration,this._delay=R.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(v){const w=[];return v.forEach(R=>{w.push(Object.fromEntries(R))}),w}_triggerWebAnimation(v,w,R){return v.animate(this._convertKeyframesToObject(w),R)}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v=new Map;this.hasStarted()&&this._finalKeyframe.forEach((R,te)=>{"offset"!==te&&v.set(te,this._finished?R:Ws(this.element,te))}),this.currentSnapshot=v}triggerCallback(v){const w="start"===v?this._onStartFns:this._onDoneFns;w.forEach(R=>R()),w.length=0}}class x{validateStyleProperty(v){return!0}validateAnimatableStyleProperty(v){return!0}matchesElement(v,w){return!1}containsElement(v,w){return zt(v,w)}getParentElement(v){return Qn(v)}query(v,w,R){return Le(v,w,R)}computeStyle(v,w,R){return window.getComputedStyle(v)[w]}animate(v,w,R,te,me,Be=[]){const Et={duration:R,delay:te,fill:0==te?"both":"forwards"};me&&(Et.easing=me);const wt=new Map,Fn=Be.filter(kr=>kr instanceof _);(function ms(K,v){return 0===K||0===v})(R,te)&&Fn.forEach(kr=>{kr.currentSnapshot.forEach((hr,rr)=>wt.set(rr,hr))});let gn=function Ji(K){return K.length?K[0]instanceof Map?K:K.map(v=>oi(v)):[]}(w).map(kr=>Wi(kr));gn=function Li(K,v,w){if(w.size&&v.length){let R=v[0],te=[];if(w.forEach((me,Be)=>{R.has(Be)||te.push(Be),R.set(Be,me)}),te.length)for(let me=1;me<v.length;me++){let Be=v[me];te.forEach(Se=>Be.set(Se,Ws(K,Se)))}}return v}(v,gn,wt);const Xt=function ur(K,v){let w=null,R=null;return Array.isArray(v)&&v.length?(w=u(v[0]),v.length>1&&(R=u(v[v.length-1]))):v instanceof Map&&(w=u(v)),w||R?new ls(K,w,R):null}(v,gn);return new _(v,gn,Et,Xt)}}var $=H(6895);let G=(()=>{class K extends ee{constructor(w,R){super(),this._nextAnimationId=0,this._renderer=w.createRenderer(R.body,{id:"0",encapsulation:O.ifc.None,styles:[],data:{animation:[]}})}build(w){const R=this._nextAnimationId.toString();this._nextAnimationId++;const te=Array.isArray(w)?Qe(w):w;return he(this._renderer,null,R,"register",[te]),new le(R,this._renderer)}}return K.\u0275fac=function(w){return new(w||K)(O.LFG(O.FYo),O.LFG($.K0))},K.\u0275prov=O.Yz7({token:K,factory:K.\u0275fac}),K})();class le extends class Ve{}{constructor(v,w){super(),this._id=v,this._renderer=w}create(v,w){return new Ne(this._id,v,w||{},this._renderer)}}class Ne{constructor(v,w,R,te){this.id=v,this.element=w,this._renderer=te,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",R)}_listen(v,w){return this._renderer.listen(this.element,`@@${this.id}:${v}`,w)}_command(v,...w){return he(this._renderer,this.element,this.id,v,w)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function he(K,v,w,R,te){return K.setProperty(v,`@@${w}:${R}`,te)}const Xe="@.disabled";let Pt=(()=>{class K{constructor(w,R,te){this.delegate=w,this.engine=R,this._zone=te,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),R.onRemovalComplete=(me,Be)=>{const Se=Be?.parentNode(me);Se&&Be.removeChild(Se,me)}}createRenderer(w,R){const me=this.delegate.createRenderer(w,R);if(!(w&&R&&R.data&&R.data.animation)){let Fn=this._rendererCache.get(me);return Fn||(Fn=new ge("",me,this.engine,()=>this._rendererCache.delete(me)),this._rendererCache.set(me,Fn)),Fn}const Be=R.id,Se=R.id+"-"+this._currentId;this._currentId++,this.engine.register(Se,w);const Et=Fn=>{Array.isArray(Fn)?Fn.forEach(Et):this.engine.registerTrigger(Be,Se,w,Fn.name,Fn)};return R.data.animation.forEach(Et),new I(this,Se,me,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(w,R,te){w>=0&&w<this._microtaskId?this._zone.run(()=>R(te)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(me=>{const[Be,Se]=me;Be(Se)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([R,te]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return K.\u0275fac=function(w){return new(w||K)(O.LFG(O.FYo),O.LFG(On),O.LFG(O.R0b))},K.\u0275prov=O.Yz7({token:K,factory:K.\u0275fac}),K})();class ge{constructor(v,w,R,te){this.namespaceId=v,this.delegate=w,this.engine=R,this._onDestroy=te,this.destroyNode=this.delegate.destroyNode?me=>w.destroyNode(me):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(v,w){return this.delegate.createElement(v,w)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,w){this.delegate.appendChild(v,w),this.engine.onInsert(this.namespaceId,w,v,!1)}insertBefore(v,w,R,te=!0){this.delegate.insertBefore(v,w,R),this.engine.onInsert(this.namespaceId,w,v,te)}removeChild(v,w,R){this.engine.onRemove(this.namespaceId,w,this.delegate,R)}selectRootElement(v,w){return this.delegate.selectRootElement(v,w)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,w,R,te){this.delegate.setAttribute(v,w,R,te)}removeAttribute(v,w,R){this.delegate.removeAttribute(v,w,R)}addClass(v,w){this.delegate.addClass(v,w)}removeClass(v,w){this.delegate.removeClass(v,w)}setStyle(v,w,R,te){this.delegate.setStyle(v,w,R,te)}removeStyle(v,w,R){this.delegate.removeStyle(v,w,R)}setProperty(v,w,R){"@"==w.charAt(0)&&w==Xe?this.disableAnimations(v,!!R):this.delegate.setProperty(v,w,R)}setValue(v,w){this.delegate.setValue(v,w)}listen(v,w,R){return this.delegate.listen(v,w,R)}disableAnimations(v,w){this.engine.disableAnimations(v,w)}}class I extends ge{constructor(v,w,R,te,me){super(w,R,te,me),this.factory=v,this.namespaceId=w}setProperty(v,w,R){"@"==w.charAt(0)?"."==w.charAt(1)&&w==Xe?this.disableAnimations(v,R=void 0===R||!!R):this.engine.process(this.namespaceId,v,w.slice(1),R):this.delegate.setProperty(v,w,R)}listen(v,w,R){if("@"==w.charAt(0)){const te=function k(K){switch(K){case"body":return document.body;case"document":return document;case"window":return window;default:return K}}(v);let me=w.slice(1),Be="";return"@"!=me.charAt(0)&&([me,Be]=function T(K){const v=K.indexOf(".");return[K.substring(0,v),K.slice(v+1)]}(me)),this.engine.listen(this.namespaceId,te,me,Be,Se=>{this.factory.scheduleListenerCallback(Se._data||-1,R,Se)})}return this.delegate.listen(v,w,R)}}const W=[{provide:ee,useClass:G},{provide:Ki,useFactory:function z(){return new Rs}},{provide:On,useClass:(()=>{class K extends On{constructor(w,R,te,me){super(w.body,R,te)}ngOnDestroy(){this.flush()}}return K.\u0275fac=function(w){return new(w||K)(O.LFG($.K0),O.LFG(Te),O.LFG(Ki),O.LFG(O.z2F))},K.\u0275prov=O.Yz7({token:K,factory:K.\u0275fac}),K})()},{provide:O.FYo,useFactory:function X(K,v,w){return new Pt(K,v,w)},deps:[h.se,On,O.R0b]}],J=[{provide:Te,useFactory:()=>new x},{provide:O.QbO,useValue:"BrowserAnimations"},...W],se=[{provide:Te,useClass:Ye},{provide:O.QbO,useValue:"NoopAnimations"},...W];let pe=(()=>{class K{static withConfig(w){return{ngModule:K,providers:w.disableAnimations?se:J}}}return K.\u0275fac=function(w){return new(w||K)},K.\u0275mod=O.oAB({type:K}),K.\u0275inj=O.cJS({providers:J,imports:[h.b2]}),K})();var Zt=H(5119),Jt=H(9635),tn=H(4004),An=H(5698),kn=H(3385);H(9260);const $e=(0,tn.U)(K=>!!K);let De=(()=>{class K{constructor(w,R){this.router=w,this.auth=R,this.canActivate=(te,me)=>{const Be=te.data.authGuardPipe||(()=>$e);return this.auth.user.pipe((0,An.q)(1),Be(te,me),(0,tn.U)(Se=>"boolean"==typeof Se?Se:Array.isArray(Se)?this.router.createUrlTree(Se):this.router.parseUrl(Se)))}}}return K.\u0275fac=function(w){return new(w||K)(O.LFG(Zt.F0),O.LFG(kn.zQ))},K.\u0275prov=O.Yz7({token:K,factory:K.\u0275fac,providedIn:"any"}),K})();var ys=H(5861),Vs=H(2305),Ss=H(1819);function us(K,v){if(1&K&&O._UZ(0,"app-widget",2),2&K){const w=O.oxw();O.Q6J("buttonOptions",w.buttonOptions)("popupOptions",w.popupOptions)("projectId",w.uid)("url",w.url)}}const xn=()=>("auth/sign-in",(0,Jt.z)($e,(0,tn.U)(v=>v||"auth/sign-in"))),ri=[{path:"",redirectTo:"auth",pathMatch:"full"},{path:"auth",loadChildren:()=>H.e(839).then(H.bind(H,8839)).then(K=>K.AuthModule),canActivate:[De],data:{authGuardPipe:()=>("dashboard",(0,Jt.z)($e,(0,tn.U)(v=>!v||"dashboard")))}},{path:"onboarding",loadChildren:()=>Promise.all([H.e(511),H.e(805)]).then(H.bind(H,657)).then(K=>K.OnboardingModule),canActivate:[De],data:{authGuardPipe:xn}},{path:"dashboard",loadChildren:()=>Promise.all([H.e(511),H.e(637)]).then(H.bind(H,637)).then(K=>K.DashboardModule),canActivate:[De],data:{authGuardPipe:xn}},{path:"embed",component:(()=>{class K{constructor(w,R){this.route=w,this.db=R,this.displayWidget=!1,this.buttonOptions={shape:{border:{display:!1,default:{radius:18,width:1,colour:"#1d4ed8"},hover:{colour:"#1e40af"}},padding:{x:12,y:8},background:{default:"#2563eb",hover:"#1d4ed8"},colour:{default:"#eff6ff",hover:"#ffffff"},shadow:{none:!1,small:!1,medium:!0,large:!1,xl:!1}},content:{text:"Give feedback",size:14,icon:{display:!0,size:20}}},this.popupOptions={shape:{border:{color:"#2563eb"}}},this.uid="",this.url="",this.route.queryParams.subscribe(te=>{this.uid=te.project,this.url=te.url})}ngOnInit(){var w=this;return(0,ys.Z)(function*(){w.displayWidget=!0})()}}return K.\u0275fac=function(w){return new(w||K)(O.Y36(Zt.gz),O.Y36(Vs.M))},K.\u0275cmp=O.Xpm({type:K,selectors:[["app-embed"]],decls:2,vars:1,consts:[[1,"w-screen","h-screen","flex","items-end","justify-center","p-4"],[3,"buttonOptions","popupOptions","projectId","url",4,"ngIf"],[3,"buttonOptions","popupOptions","projectId","url"]],template:function(w,R){1&w&&(O.TgZ(0,"section",0),O.YNc(1,us,1,4,"app-widget",1),O.qZA()),2&w&&(O.xp6(1),O.Q6J("ngIf",R.displayWidget))},dependencies:[$.O5,Ss.B],encapsulation:2}),K})()}];let As=(()=>{class K{}return K.\u0275fac=function(w){return new(w||K)},K.\u0275mod=O.oAB({type:K}),K.\u0275inj=O.cJS({imports:[Zt.Bz.forRoot(ri),Zt.Bz]}),K})();var go=H(4465),No=H(8979);function an(K,v){if(1&K){const w=O.EpF();O.TgZ(0,"div",1),O.O4$(),O.TgZ(1,"svg",2),O._UZ(2,"rect",3)(3,"path",4),O.qZA(),O.kcU(),O.TgZ(4,"div",5)(5,"p",6),O._uU(6),O.qZA(),O.TgZ(7,"p",7),O._uU(8),O.qZA()(),O.TgZ(9,"button",8),O.NdJ("click",function(){O.CHM(w);const te=O.oxw();return O.KtG(te.dismiss())}),O.O4$(),O.TgZ(10,"svg",9),O._UZ(11,"rect",3)(12,"path",10),O.qZA()()()}if(2&K){const w=O.oxw();O.xp6(6),O.Oqu(w.title),O.xp6(2),O.Oqu(w.message)}}function wr(K,v){if(1&K){const w=O.EpF();O.TgZ(0,"div",1),O.O4$(),O.TgZ(1,"svg",11),O._UZ(2,"rect",3)(3,"path",12),O.qZA(),O.kcU(),O.TgZ(4,"div",5)(5,"p",6),O._uU(6),O.qZA(),O.TgZ(7,"p",7),O._uU(8),O.qZA()(),O.TgZ(9,"button",8),O.NdJ("click",function(){O.CHM(w);const te=O.oxw();return O.KtG(te.dismiss())}),O.O4$(),O.TgZ(10,"svg",9),O._UZ(11,"rect",3)(12,"path",10),O.qZA()()()}if(2&K){const w=O.oxw();O.xp6(6),O.Oqu(w.title),O.xp6(2),O.Oqu(w.message)}}function Us(K,v){if(1&K){const w=O.EpF();O.TgZ(0,"div",1),O.O4$(),O.TgZ(1,"svg",13),O._UZ(2,"rect",3)(3,"path",14),O.qZA(),O.kcU(),O.TgZ(4,"div",5)(5,"p",6),O._uU(6),O.qZA(),O.TgZ(7,"p",7),O._uU(8),O.qZA()(),O.TgZ(9,"button",8),O.NdJ("click",function(){O.CHM(w);const te=O.oxw();return O.KtG(te.dismiss())}),O.O4$(),O.TgZ(10,"svg",9),O._UZ(11,"rect",3)(12,"path",10),O.qZA()()()}if(2&K){const w=O.oxw();O.xp6(6),O.Oqu(w.title),O.xp6(2),O.Oqu(w.message)}}function wi(K,v){if(1&K){const w=O.EpF();O.TgZ(0,"div",1),O.O4$(),O.TgZ(1,"svg",15),O._UZ(2,"rect",3)(3,"path",16),O.qZA(),O.kcU(),O.TgZ(4,"div",5)(5,"p",6),O._uU(6),O.qZA(),O.TgZ(7,"p",7),O._uU(8),O.qZA()(),O.TgZ(9,"button",8),O.NdJ("click",function(){O.CHM(w);const te=O.oxw();return O.KtG(te.dismiss())}),O.O4$(),O.TgZ(10,"svg",9),O._UZ(11,"rect",3)(12,"path",10),O.qZA()()()}if(2&K){const w=O.oxw();O.xp6(6),O.Oqu(w.title),O.xp6(2),O.Oqu(w.message)}}let Rn=(()=>{class K{constructor(){this.dismissEvent=new O.vpe,this.types=No.F}ngOnInit(){setTimeout(()=>this.dismiss(),5e3)}dismiss(){this.dismissEvent.emit()}}return K.\u0275fac=function(w){return new(w||K)},K.\u0275cmp=O.Xpm({type:K,selectors:[["toast"]],hostVars:1,hostBindings:function(w,R){2&w&&O.d8E("@slideInOut",R.dismissEvent)},inputs:{type:"type",title:"title",message:"message"},outputs:{dismissEvent:"dismissEvent"},decls:4,vars:4,consts:[["class","bg-white p-4 rounded-md shadow-lg flex gap-4 items-center border border-black border-opacity-10",4,"ngIf"],[1,"bg-white","p-4","rounded-md","shadow-lg","flex","gap-4","items-center","border","border-black","border-opacity-10"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","#dc2626","viewBox","0 0 256 256"],["width","256","height","256","fill","none"],["d","M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm37.7,130.3a8.1,8.1,0,0,1,0,11.4,8.2,8.2,0,0,1-11.4,0L128,139.3l-26.3,26.4a8.2,8.2,0,0,1-11.4,0,8.1,8.1,0,0,1,0-11.4L116.7,128,90.3,101.7a8.1,8.1,0,0,1,11.4-11.4L128,116.7l26.3-26.4a8.1,8.1,0,0,1,11.4,11.4L139.3,128Z"],[1,"flex","flex-col"],[1,"font-medium","text-sm","leading-tight"],[1,"font-light","text-gray-600","text-sm"],[1,"ml-4","flex","items-center","justify-center","p-2","rounded-full","hover:bg-gray-200","text-gray-600","hover:text-gray-700","transition-all",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","fill","currentColor","viewBox","0 0 256 256"],["d","M139.3,128l66.4-66.3a8.1,8.1,0,0,0-11.4-11.4L128,116.7,61.7,50.3A8.1,8.1,0,0,0,50.3,61.7L116.7,128,50.3,194.3a8.1,8.1,0,0,0,0,11.4,8.2,8.2,0,0,0,11.4,0L128,139.3l66.3,66.4a8.2,8.2,0,0,0,11.4,0,8.1,8.1,0,0,0,0-11.4Z"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","#16a34a","viewBox","0 0 256 256"],["d","M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm49.5,85.8-58.6,56a8.1,8.1,0,0,1-5.6,2.2,7.7,7.7,0,0,1-5.5-2.2l-29.3-28a8,8,0,1,1,11-11.6l23.8,22.7,53.2-50.7a8,8,0,0,1,11,11.6Z"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","#2563eb","viewBox","0 0 256 256"],["d","M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm-2,48a12,12,0,1,1-12,12A12,12,0,0,1,126,72Zm10,112h-8a8,8,0,0,1-8-8V128a8,8,0,0,1,0-16h8a8,8,0,0,1,8,8v48a8,8,0,0,1,0,16Z"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","#f59e0b","viewBox","0 0 256 256"],["d","M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm-8,56a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm8,104a12,12,0,1,1,12-12A12,12,0,0,1,128,184Z"]],template:function(w,R){1&w&&(O.YNc(0,an,13,2,"div",0),O.YNc(1,wr,13,2,"div",0),O.YNc(2,Us,13,2,"div",0),O.YNc(3,wi,13,2,"div",0)),2&w&&(O.Q6J("ngIf",R.type===R.types.ERROR),O.xp6(1),O.Q6J("ngIf",R.type===R.types.SUCCESS),O.xp6(1),O.Q6J("ngIf",R.type===R.types.INFO),O.xp6(1),O.Q6J("ngIf",R.type===R.types.WARNING))},dependencies:[$.O5],encapsulation:2,data:{animation:[We("slideInOut",[ft(":enter",[de({opacity:0,transform:"translateY(-100%)"}),Ze("0.3s ease-in",de({opacity:"1",transform:"translateY(0%)"}))]),ft(":leave",[de({opacity:1,transform:"translateY(0%)"}),Ze("0.3s ease-out",de({opacity:"0",transform:"translateY(100%)"}))])])]}}),K})();function Vn(K,v){if(1&K){const w=O.EpF();O.TgZ(0,"toast",2),O.NdJ("dismissEvent",function(){const me=O.CHM(w).$implicit,Be=O.oxw();return O.KtG(Be.toastService.remove(me))}),O.qZA()}if(2&K){const w=v.$implicit;O.Q6J("type",w.type)("title",w.title)("message",w.message)}}let bo=(()=>{class K{constructor(w){this.toastService=w,this.currentToasts=[]}}return K.\u0275fac=function(w){return new(w||K)(O.Y36(go.k))},K.\u0275cmp=O.Xpm({type:K,selectors:[["toaster"]],decls:2,vars:1,consts:[[1,"fixed","top-0","right-0","flex","flex-col-reverse","gap-2","mt-4","mr-4","z-50"],[3,"type","title","message","dismissEvent",4,"ngFor","ngForOf"],[3,"type","title","message","dismissEvent"]],template:function(w,R){1&w&&(O.TgZ(0,"div",0),O.YNc(1,Vn,1,3,"toast",1),O.qZA()),2&w&&(O.xp6(1),O.Q6J("ngForOf",R.toastService.toasts))},dependencies:[$.sg,Rn],encapsulation:2}),K})(),Cn=(()=>{class K{constructor(){this.title="noadmap-web"}}return K.\u0275fac=function(w){return new(w||K)},K.\u0275cmp=O.Xpm({type:K,selectors:[["app-root"]],decls:2,vars:0,template:function(w,R){1&w&&O._UZ(0,"toaster")(1,"router-outlet")},dependencies:[Zt.lC,bo],encapsulation:2}),K})();var At=H(2011),Yt=H(2340),Di=H(2095),Oo=H(2228),va=H(433),fa=H(5642),al=H(1),Ra=H(9682),_a=H.n(Ra);function ia(){return _a()}let Cl=(()=>{class K{}return K.\u0275fac=function(w){return new(w||K)},K.\u0275mod=O.oAB({type:K,bootstrap:[Cn]}),K.\u0275inj=O.cJS({providers:[{provide:kn.Qv,useValue:Yt.N.useEmulators?["http://localhost:9099"]:void 0},{provide:Di.Qv,useValue:Yt.N.useEmulators?["localhost",8080]:void 0},{provide:Oo.Wq,useValue:Yt.N.useEmulators?["localhost",5001]:void 0},{provide:Oo.Xz,useValue:"europe-west2"}],imports:[h.b2,va.u5,As,pe,At.hO.initializeApp(Yt.N.firebase),Di.yb,kn.ww,Oo.Qv,fa.K,al.CT.forRoot({player:ia})]}),K})();Yt.N.production&&(0,O.G48)(),h.q6().bootstrapModule(Cl).catch(K=>console.error(K))},2135:function(_n,at){!function(H){"use strict";function O(de,_e,Pe,ft){return new(Pe||(Pe=Promise))(function(et,Qt){function St(on){try{pn(ft.next(on))}catch(Oe){Qt(Oe)}}function dt(on){try{pn(ft.throw(on))}catch(Oe){Qt(Oe)}}function pn(on){on.done?et(on.value):function rt(et){return et instanceof Pe?et:new Pe(function(Qt){Qt(et)})}(on.value).then(St,dt)}pn((ft=ft.apply(de,_e||[])).next())})}const We=(de=300)=>new Promise(_e=>{setTimeout(_e,de)}),Ge=de=>O(void 0,void 0,void 0,function*(){return yield We(),document.hasFocus()?de:Ge(de)});H.checkIfBrowserSupported=()=>{var de;return Boolean(null===(de=navigator.mediaDevices)||void 0===de?void 0:de.getDisplayMedia)},H.takeScreenshot=({onCaptureEnd:de,onCaptureStart:_e,quality:Pe=.7,type:ft="image/jpeg",soundEffectUrl:rt}={})=>O(void 0,void 0,void 0,function*(){return yield _e?.(),navigator.mediaDevices.getDisplayMedia({preferCurrentTab:!0,video:{frameRate:30}}).then(Ge).then(et=>O(void 0,void 0,void 0,function*(){const Qt=(de=>{const _e=document.createElement("video");return _e.autoplay=!0,_e.muted=!0,_e.playsInline=!0,_e.srcObject=de,_e.setAttribute("style","position:fixed;top:0;left:0;pointer-events:none;visibility:hidden;"),_e})(et);document.body.appendChild(Qt),rt&&(de=>{const _e=document.createElement("audio");_e.loop=!1,_e.src=de,_e.play(),_e.remove()})(rt),yield We();const St=(de=>{var _e,Pe,ft;const rt=null===(_e=de.srcObject)||void 0===_e?void 0:_e.getTracks()[0].getSettings(),et=document.createElement("canvas");return et.width=null!==(Pe=rt?.width)&&void 0!==Pe?Pe:0,et.height=null!==(ft=rt?.height)&&void 0!==ft?ft:0,et.getContext("2d")?.drawImage(de,0,0),et})(Qt),dt=St.toDataURL(ft,Pe);return(de=>{var _e;(null===(_e=de.srcObject)||void 0===_e?void 0:_e.getTracks())?.forEach(ft=>ft.stop()),de.srcObject=null,de.remove()})(Qt),St.remove(),yield de?.(),dt}))}),Object.defineProperty(H,"__esModule",{value:!0})}(at)},9682:function(_n,at,H){typeof navigator<"u"&&(_n.exports=function(){"use strict";var O="",ee=!1,Ve=-999999,Ge=function(){return O};function Qe(u){return document.createElement(u)}function de(u,p){var _,$,x=u.length;for(_=0;_<x;_+=1)for(var G in $=u[_].prototype)Object.prototype.hasOwnProperty.call($,G)&&(p.prototype[G]=$[G])}var ft=function(){function u(p){this.audios=[],this.audioFactory=p,this._volume=1,this._isMuted=!1}return u.prototype={addAudio:function(_){this.audios.push(_)},pause:function(){var _,x=this.audios.length;for(_=0;_<x;_+=1)this.audios[_].pause()},resume:function(){var _,x=this.audios.length;for(_=0;_<x;_+=1)this.audios[_].resume()},setRate:function(_){var x,$=this.audios.length;for(x=0;x<$;x+=1)this.audios[x].setRate(_)},createAudio:function(_){return this.audioFactory?this.audioFactory(_):window.Howl?new window.Howl({src:[_]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(_){this.audioFactory=_},setVolume:function(_){this._volume=_,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var _,x=this.audios.length;for(_=0;_<x;_+=1)this.audios[_].volume(this._volume*(this._isMuted?0:1))}},function(){return new u}}(),rt=function(){function u(_,x){var le,$=0,G=[];switch(_){case"int16":case"uint8c":le=1;break;default:le=1.1}for($=0;$<x;$+=1)G.push(le);return G}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function p(_,x){return"float32"===_?new Float32Array(x):"int16"===_?new Int16Array(x):"uint8c"===_?new Uint8ClampedArray(x):u(_,x)}:u}();function et(u){return Array.apply(null,{length:u})}function Qt(u){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(u)}var St=!0,dt=null,on="",Oe=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Tt=Math.pow,Wt=Math.sqrt,qe=Math.floor,Dt=(Math,Math.min),pt={};(function(){var p,u=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],_=u.length;for(p=0;p<_;p+=1)pt[u[p]]=Math[u[p]]})(),pt.random=Math.random,pt.abs=function(u){if("object"===Qt(u)&&u.length){var x,_=et(u.length),$=u.length;for(x=0;x<$;x+=1)_[x]=Math.abs(u[x]);return _}return Math.abs(u)};var ht=150,yt=Math.PI/180,Me=.5519;function Bt(u,p,_,x){this.type=u,this.currentTime=p,this.totalTime=_,this.direction=x<0?-1:1}function It(u,p){this.type=u,this.direction=p<0?-1:1}function Nn(u,p,_,x){this.type=u,this.currentLoop=_,this.totalLoops=p,this.direction=x<0?-1:1}function yn(u,p,_){this.type=u,this.firstFrame=p,this.totalFrames=_}function Ar(u,p){this.type=u,this.target=p}function en(u,p){this.type="renderFrameError",this.nativeError=u,this.currentTime=p}function qt(u){this.type="configError",this.nativeError=u}var u,Lt=(u=0,function(){return on+"__lottie_element_"+(u+=1)});function mn(u,p,_){var x,$,G,le,Ne,he,He,Xe;switch(he=_*(1-p),He=_*(1-(Ne=6*u-(le=Math.floor(6*u)))*p),Xe=_*(1-(1-Ne)*p),le%6){case 0:x=_,$=Xe,G=he;break;case 1:x=He,$=_,G=he;break;case 2:x=he,$=_,G=Xe;break;case 3:x=he,$=He,G=_;break;case 4:x=Xe,$=he,G=_;break;case 5:x=_,$=he,G=He}return[x,$,G]}function Bn(u,p,_){var le,x=Math.max(u,p,_),$=Math.min(u,p,_),G=x-$,Ne=0===x?0:G/x,he=x/255;switch(x){case $:le=0;break;case u:le=p-_+G*(p<_?6:0),le/=6*G;break;case p:le=_-u+2*G,le/=6*G;break;case _:le=u-p+4*G,le/=6*G}return[le,Ne,he]}function Un(u,p){var _=Bn(255*u[0],255*u[1],255*u[2]);return _[1]+=p,_[1]>1?_[1]=1:_[1]<=0&&(_[1]=0),mn(_[0],_[1],_[2])}function ei(u,p){var _=Bn(255*u[0],255*u[1],255*u[2]);return _[2]+=p,_[2]>1?_[2]=1:_[2]<0&&(_[2]=0),mn(_[0],_[1],_[2])}function ci(u,p){var _=Bn(255*u[0],255*u[1],255*u[2]);return _[0]+=p/360,_[0]>1?_[0]-=1:_[0]<0&&(_[0]+=1),mn(_[0],_[1],_[2])}!function(){var p,_,u=[];for(p=0;p<256;p+=1)_=p.toString(16),u[p]=1===_.length?"0"+_:_}();var bn=function(){return dt},Dr=function(p){ht=p},mi=function(){return ht};function cn(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function br(u){return(br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(u)}var Dn=function(){var _,x,u=1,p=[],$={onmessage:function(){},postMessage:function(I){_({data:I})}},G={postMessage:function(I){$.onmessage({data:I})}};function le(ge){if(window.Worker&&window.Blob&&ee){var I=new Blob(["var _workerSelf = self; self.onmessage = ",ge.toString()],{type:"text/javascript"}),k=URL.createObjectURL(I);return new Worker(k)}return _=ge,$}function Ne(){x||((x=le(function(I){if(G.dataManager||(G.dataManager=function k(){function U(Vt,$e){var De,fe,Ut,kt,Kn,Or,Fe=Vt.length;for(fe=0;fe<Fe;fe+=1)if("ks"in(De=Vt[fe])&&!De.completed){if(De.completed=!0,De.hasMask){var Mr=De.masksProperties;for(kt=Mr.length,Ut=0;Ut<kt;Ut+=1)if(Mr[Ut].pt.k.i)se(Mr[Ut].pt.k);else for(Or=Mr[Ut].pt.k.length,Kn=0;Kn<Or;Kn+=1)Mr[Ut].pt.k[Kn].s&&se(Mr[Ut].pt.k[Kn].s[0]),Mr[Ut].pt.k[Kn].e&&se(Mr[Ut].pt.k[Kn].e[0])}0===De.ty?(De.layers=W(De.refId,$e),U(De.layers,$e)):4===De.ty&&J(De.shapes)}}function W(Vt,$e){var De=function X(Vt,$e){for(var De=0,fe=$e.length;De<fe;){if($e[De].id===Vt)return $e[De];De+=1}return null}(Vt,$e);return De?De.layers.__used?JSON.parse(JSON.stringify(De.layers)):(De.layers.__used=!0,De.layers):null}function J(Vt){var $e,fe,Fe;for($e=Vt.length-1;$e>=0;$e-=1)if("sh"===Vt[$e].ty)if(Vt[$e].ks.k.i)se(Vt[$e].ks.k);else for(Fe=Vt[$e].ks.k.length,fe=0;fe<Fe;fe+=1)Vt[$e].ks.k[fe].s&&se(Vt[$e].ks.k[fe].s[0]),Vt[$e].ks.k[fe].e&&se(Vt[$e].ks.k[fe].e[0]);else"gr"===Vt[$e].ty&&J(Vt[$e].it)}function se(Vt){var $e,De=Vt.i.length;for($e=0;$e<De;$e+=1)Vt.i[$e][0]+=Vt.v[$e][0],Vt.i[$e][1]+=Vt.v[$e][1],Vt.o[$e][0]+=Vt.v[$e][0],Vt.o[$e][1]+=Vt.v[$e][1]}function pe(Vt,$e){var De=$e?$e.split("."):[100,100,100];return Vt[0]>De[0]||!(De[0]>Vt[0])&&(Vt[1]>De[1]||!(De[1]>Vt[1])&&(Vt[2]>De[2]||!(De[2]>Vt[2])&&null))}var Vt,ve=function(){var Vt=[4,4,14];function $e(fe){fe.t.d={k:[{s:fe.t.d,t:0}]}}function De(fe){var Fe,Ut=fe.length;for(Fe=0;Fe<Ut;Fe+=1)5===fe[Fe].ty&&$e(fe[Fe])}return function(fe){if(pe(Vt,fe.v)&&(De(fe.layers),fe.assets)){var Fe,Ut=fe.assets.length;for(Fe=0;Fe<Ut;Fe+=1)fe.assets[Fe].layers&&De(fe.assets[Fe].layers)}}}(),be=(Vt=[4,7,99],function($e){if($e.chars&&!pe(Vt,$e.v)){var De,fe=$e.chars.length;for(De=0;De<fe;De+=1){var Fe=$e.chars[De];Fe.data&&Fe.data.shapes&&(J(Fe.data.shapes),Fe.data.ip=0,Fe.data.op=99999,Fe.data.st=0,Fe.data.sr=1,Fe.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},$e.chars[De].t||(Fe.data.shapes.push({ty:"no"}),Fe.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),vt=function(){var Vt=[5,7,15];function $e(fe){var Fe=fe.t.p;"number"==typeof Fe.a&&(Fe.a={a:0,k:Fe.a}),"number"==typeof Fe.p&&(Fe.p={a:0,k:Fe.p}),"number"==typeof Fe.r&&(Fe.r={a:0,k:Fe.r})}function De(fe){var Fe,Ut=fe.length;for(Fe=0;Fe<Ut;Fe+=1)5===fe[Fe].ty&&$e(fe[Fe])}return function(fe){if(pe(Vt,fe.v)&&(De(fe.layers),fe.assets)){var Fe,Ut=fe.assets.length;for(Fe=0;Fe<Ut;Fe+=1)fe.assets[Fe].layers&&De(fe.assets[Fe].layers)}}}(),Zt=function(){var Vt=[4,1,9];function $e(fe){var Fe,kt,Kn,Ut=fe.length;for(Fe=0;Fe<Ut;Fe+=1)if("gr"===fe[Fe].ty)$e(fe[Fe].it);else if("fl"===fe[Fe].ty||"st"===fe[Fe].ty)if(fe[Fe].c.k&&fe[Fe].c.k[0].i)for(Kn=fe[Fe].c.k.length,kt=0;kt<Kn;kt+=1)fe[Fe].c.k[kt].s&&(fe[Fe].c.k[kt].s[0]/=255,fe[Fe].c.k[kt].s[1]/=255,fe[Fe].c.k[kt].s[2]/=255,fe[Fe].c.k[kt].s[3]/=255),fe[Fe].c.k[kt].e&&(fe[Fe].c.k[kt].e[0]/=255,fe[Fe].c.k[kt].e[1]/=255,fe[Fe].c.k[kt].e[2]/=255,fe[Fe].c.k[kt].e[3]/=255);else fe[Fe].c.k[0]/=255,fe[Fe].c.k[1]/=255,fe[Fe].c.k[2]/=255,fe[Fe].c.k[3]/=255}function De(fe){var Fe,Ut=fe.length;for(Fe=0;Fe<Ut;Fe+=1)4===fe[Fe].ty&&$e(fe[Fe].shapes)}return function(fe){if(pe(Vt,fe.v)&&(De(fe.layers),fe.assets)){var Fe,Ut=fe.assets.length;for(Fe=0;Fe<Ut;Fe+=1)fe.assets[Fe].layers&&De(fe.assets[Fe].layers)}}}(),Jt=function(){var Vt=[4,4,18];function $e(fe){var Fe,kt,Kn;for(Fe=fe.length-1;Fe>=0;Fe-=1)if("sh"===fe[Fe].ty)if(fe[Fe].ks.k.i)fe[Fe].ks.k.c=fe[Fe].closed;else for(Kn=fe[Fe].ks.k.length,kt=0;kt<Kn;kt+=1)fe[Fe].ks.k[kt].s&&(fe[Fe].ks.k[kt].s[0].c=fe[Fe].closed),fe[Fe].ks.k[kt].e&&(fe[Fe].ks.k[kt].e[0].c=fe[Fe].closed);else"gr"===fe[Fe].ty&&$e(fe[Fe].it)}function De(fe){var Fe,Ut,Kn,Or,Mr,Vi,kt=fe.length;for(Ut=0;Ut<kt;Ut+=1){if((Fe=fe[Ut]).hasMask){var Xr=Fe.masksProperties;for(Or=Xr.length,Kn=0;Kn<Or;Kn+=1)if(Xr[Kn].pt.k.i)Xr[Kn].pt.k.c=Xr[Kn].cl;else for(Vi=Xr[Kn].pt.k.length,Mr=0;Mr<Vi;Mr+=1)Xr[Kn].pt.k[Mr].s&&(Xr[Kn].pt.k[Mr].s[0].c=Xr[Kn].cl),Xr[Kn].pt.k[Mr].e&&(Xr[Kn].pt.k[Mr].e[0].c=Xr[Kn].cl)}4===Fe.ty&&$e(Fe.shapes)}}return function(fe){if(pe(Vt,fe.v)&&(De(fe.layers),fe.assets)){var Fe,Ut=fe.assets.length;for(Fe=0;Fe<Ut;Fe+=1)fe.assets[Fe].layers&&De(fe.assets[Fe].layers)}}}(),kn={completeData:function tn(Vt){Vt.__complete||(Zt(Vt),ve(Vt),be(Vt),vt(Vt),Jt(Vt),U(Vt.layers,Vt.assets),function z(Vt,$e){if(Vt){var De=0,fe=Vt.length;for(De=0;De<fe;De+=1)1===Vt[De].t&&(Vt[De].data.layers=W(Vt[De].data.refId,$e),U(Vt[De].data.layers,$e))}}(Vt.chars,Vt.assets),Vt.__complete=!0)}};return kn.checkColors=Zt,kn.checkChars=be,kn.checkPathProperties=vt,kn.checkShapes=Jt,kn.completeLayers=U,kn}()),G.assetLoader||(G.assetLoader=function(){function U(X){var W=X.getResponseHeader("content-type");return W&&"json"===X.responseType&&-1!==W.indexOf("json")||X.response&&"object"===br(X.response)?X.response:X.response&&"string"==typeof X.response?JSON.parse(X.response):X.responseText?JSON.parse(X.responseText):null}return{load:function z(X,W,J,se){var pe,ve=new XMLHttpRequest;try{ve.responseType="json"}catch{}ve.onreadystatechange=function(){if(4===ve.readyState)if(200===ve.status)pe=U(ve),J(pe);else try{pe=U(ve),J(pe)}catch(be){se&&se(be)}};try{ve.open(["G","E","T"].join(""),X,!0)}catch{ve.open(["G","E","T"].join(""),W+"/"+X,!0)}ve.send()}}}()),"loadAnimation"===I.data.type)G.assetLoader.load(I.data.path,I.data.fullPath,function(U){G.dataManager.completeData(U),G.postMessage({id:I.data.id,payload:U,status:"success"})},function(){G.postMessage({id:I.data.id,status:"error"})});else if("complete"===I.data.type){var T=I.data.animation;G.dataManager.completeData(T),G.postMessage({id:I.data.id,payload:T,status:"success"})}else"loadData"===I.data.type&&G.assetLoader.load(I.data.path,I.data.fullPath,function(U){G.postMessage({id:I.data.id,payload:U,status:"success"})},function(){G.postMessage({id:I.data.id,status:"error"})})})).onmessage=function(ge){var I=ge.data,k=I.id,T=p[k];p[k]=null,"success"===I.status?T.onComplete(I.payload):T.onError&&T.onError()})}function he(ge,I){var k="processId_"+(u+=1);return p[k]={onComplete:ge,onError:I},k}return{loadAnimation:function He(ge,I,k){Ne();var T=he(I,k);x.postMessage({type:"loadAnimation",path:ge,fullPath:window.location.origin+window.location.pathname,id:T})},loadData:function Xe(ge,I,k){Ne();var T=he(I,k);x.postMessage({type:"loadData",path:ge,fullPath:window.location.origin+window.location.pathname,id:T})},completeAnimation:function Pt(ge,I,k){Ne();var T=he(I,k);x.postMessage({type:"complete",animation:ge,id:T})}}}(),jn=function(){var u=function(){var z=Qe("canvas");z.width=1,z.height=1;var X=z.getContext("2d");return X.fillStyle="rgba(0,0,0,0)",X.fillRect(0,0,1,1),z}();function p(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function _(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function x(z,X,W){var J="";if(z.e)J=z.p;else if(X){var se=z.p;-1!==se.indexOf("images/")&&(se=se.split("/")[1]),J=X+se}else J=W,J+=z.u?z.u:"",J+=z.p;return J}function $(z){var X=0,W=setInterval(function(){(z.getBBox().width||X>500)&&(this._imageLoaded(),clearInterval(W)),X+=1}.bind(this),50)}function Ne(z){var X={assetData:z},W=x(z,this.assetsPath,this.path);return Dn.loadData(W,function(J){X.img=J,this._footageLoaded()}.bind(this),function(){X.img={},this._footageLoaded()}.bind(this)),X}function U(){this._imageLoaded=p.bind(this),this._footageLoaded=_.bind(this),this.testImageLoaded=$.bind(this),this.createFootageData=Ne.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return U.prototype={loadAssets:function he(z,X){this.imagesLoadedCb=X;var W,J=z.length;for(W=0;W<J;W+=1)z[W].layers||(z[W].t&&"seq"!==z[W].t?3===z[W].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(z[W]))):(this.totalImages+=1,this.images.push(this._createImageData(z[W]))))},setAssetsPath:function Xe(z){this.assetsPath=z||""},setPath:function He(z){this.path=z||""},loadedImages:function I(){return this.totalImages===this.loadedAssets},loadedFootages:function k(){return this.totalFootages===this.loadedFootagesCount},destroy:function ge(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function Pt(z){for(var X=0,W=this.images.length;X<W;){if(this.images[X].assetData===z)return this.images[X].img;X+=1}return null},createImgData:function le(z){var X=x(z,this.assetsPath,this.path),W=Qe("img");W.crossOrigin="anonymous",W.addEventListener("load",this._imageLoaded,!1),W.addEventListener("error",function(){J.img=u,this._imageLoaded()}.bind(this),!1),W.src=X;var J={img:W,assetData:z};return J},createImageData:function G(z){var X=x(z,this.assetsPath,this.path),W=cn("image");Oe?this.testImageLoaded(W):W.addEventListener("load",this._imageLoaded,!1),W.addEventListener("error",function(){J.img=u,this._imageLoaded()}.bind(this),!1),W.setAttributeNS("http://www.w3.org/1999/xlink","href",X),this._elementHelper.append?this._elementHelper.append(W):this._elementHelper.appendChild(W);var J={img:W,assetData:z};return J},imageLoaded:p,footageLoaded:_,setCacheType:function T(z,X){"svg"===z?(this._elementHelper=X,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},U}();function ar(){}ar.prototype={triggerEvent:function(p,_){if(this._cbs[p])for(var x=this._cbs[p],$=0;$<x.length;$+=1)x[$](_)},addEventListener:function(p,_){return this._cbs[p]||(this._cbs[p]=[]),this._cbs[p].push(_),function(){this.removeEventListener(p,_)}.bind(this)},removeEventListener:function(p,_){if(_){if(this._cbs[p]){for(var x=0,$=this._cbs[p].length;x<$;)this._cbs[p][x]===_&&(this._cbs[p].splice(x,1),x-=1,$-=1),x+=1;this._cbs[p].length||(this._cbs[p]=null)}}else this._cbs[p]=null}};var si=function(){function u(p){for(var $,_=p.split("\r\n"),x={},G=0,le=0;le<_.length;le+=1)2===($=_[le].split(":")).length&&(x[$[0]]=$[1].trim(),G+=1);if(0===G)throw new Error;return x}return function(p){for(var _=[],x=0;x<p.length;x+=1){var $=p[x],G={time:$.tm,duration:$.dr};try{G.payload=JSON.parse(p[x].cm)}catch{try{G.payload=u(p[x].cm)}catch{G.payload={name:p[x].cm}}}_.push(G)}return _}}(),zr=function(){function u(p){this.compositions.push(p)}return function(){function p(_){for(var x=0,$=this.compositions.length;x<$;){if(this.compositions[x].data&&this.compositions[x].data.nm===_)return this.compositions[x].prepareFrame&&this.compositions[x].data.xt&&this.compositions[x].prepareFrame(this.currentFrame),this.compositions[x].compInterface;x+=1}return null}return p.compositions=[],p.currentFrame=0,p.registerComposition=u,p}}(),Wr={};function lr(u){return(lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(u)}var Pn=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=Lt(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=St,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=zr(),this.imagePreloader=new jn,this.audioController=ft(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new Bt("drawnFrame",0,0,0)};de([ar],Pn),Pn.prototype.setParams=function(u){(u.wrapper||u.container)&&(this.wrapper=u.wrapper||u.container);var p="svg";u.animType?p=u.animType:u.renderer&&(p=u.renderer);var _=function Pi(u){return Wr[u]}(p);this.renderer=new _(this,u.rendererSettings),this.imagePreloader.setCacheType(p,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=p,this.loop=""===u.loop||null==u.loop||!0===u.loop||!1!==u.loop&&parseInt(u.loop,10),this.autoplay=!("autoplay"in u)||u.autoplay,this.name=u.name?u.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(u,"autoloadSegments")||u.autoloadSegments,this.assetsPath=u.assetsPath,this.initialSegment=u.initialSegment,u.audioFactory&&this.audioController.setAudioFactory(u.audioFactory),u.animationData?this.setupAnimation(u.animationData):u.path&&(this.path=-1!==u.path.lastIndexOf("\\")?u.path.substr(0,u.path.lastIndexOf("\\")+1):u.path.substr(0,u.path.lastIndexOf("/")+1),this.fileName=u.path.substr(u.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),Dn.loadAnimation(u.path,this.configAnimation,this.onSetupError))},Pn.prototype.onSetupError=function(){this.trigger("data_failed")},Pn.prototype.setupAnimation=function(u){Dn.completeAnimation(u,this.configAnimation)},Pn.prototype.setData=function(u,p){p&&"object"!==lr(p)&&(p=JSON.parse(p));var _={wrapper:u,animationData:p},x=u.attributes;_.path=x.getNamedItem("data-animation-path")?x.getNamedItem("data-animation-path").value:x.getNamedItem("data-bm-path")?x.getNamedItem("data-bm-path").value:x.getNamedItem("bm-path")?x.getNamedItem("bm-path").value:"",_.animType=x.getNamedItem("data-anim-type")?x.getNamedItem("data-anim-type").value:x.getNamedItem("data-bm-type")?x.getNamedItem("data-bm-type").value:x.getNamedItem("bm-type")?x.getNamedItem("bm-type").value:x.getNamedItem("data-bm-renderer")?x.getNamedItem("data-bm-renderer").value:x.getNamedItem("bm-renderer")?x.getNamedItem("bm-renderer").value:"canvas";var $=x.getNamedItem("data-anim-loop")?x.getNamedItem("data-anim-loop").value:x.getNamedItem("data-bm-loop")?x.getNamedItem("data-bm-loop").value:x.getNamedItem("bm-loop")?x.getNamedItem("bm-loop").value:"";"false"===$?_.loop=!1:"true"===$?_.loop=!0:""!==$&&(_.loop=parseInt($,10));var G=x.getNamedItem("data-anim-autoplay")?x.getNamedItem("data-anim-autoplay").value:x.getNamedItem("data-bm-autoplay")?x.getNamedItem("data-bm-autoplay").value:!x.getNamedItem("bm-autoplay")||x.getNamedItem("bm-autoplay").value;_.autoplay="false"!==G,_.name=x.getNamedItem("data-name")?x.getNamedItem("data-name").value:x.getNamedItem("data-bm-name")?x.getNamedItem("data-bm-name").value:x.getNamedItem("bm-name")?x.getNamedItem("bm-name").value:"","false"===(x.getNamedItem("data-anim-prerender")?x.getNamedItem("data-anim-prerender").value:x.getNamedItem("data-bm-prerender")?x.getNamedItem("data-bm-prerender").value:x.getNamedItem("bm-prerender")?x.getNamedItem("bm-prerender").value:"")&&(_.prerender=!1),this.setParams(_)},Pn.prototype.includeLayers=function(u){u.op>this.animationData.op&&(this.animationData.op=u.op,this.totalFrames=Math.floor(u.op-this.animationData.ip));var _,G,p=this.animationData.layers,x=p.length,$=u.layers,le=$.length;for(G=0;G<le;G+=1)for(_=0;_<x;){if(p[_].id===$[G].id){p[_]=$[G];break}_+=1}if((u.chars||u.fonts)&&(this.renderer.globalData.fontManager.addChars(u.chars),this.renderer.globalData.fontManager.addFonts(u.fonts,this.renderer.globalData.defs)),u.assets)for(x=u.assets.length,_=0;_<x;_+=1)this.animationData.assets.push(u.assets[_]);this.animationData.__complete=!1,Dn.completeAnimation(this.animationData,this.onSegmentComplete)},Pn.prototype.onSegmentComplete=function(u){this.animationData=u;var p=bn();p&&p.initExpressions(this),this.loadNextSegment()},Pn.prototype.loadNextSegment=function(){var u=this.animationData.segments;if(!u||0===u.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var p=u.shift();this.timeCompleted=p.time*this.frameRate;var _=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,Dn.loadData(_,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},Pn.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},Pn.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},Pn.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},Pn.prototype.configAnimation=function(u){if(this.renderer)try{this.animationData=u,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(u),u.assets||(u.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(u.assets),this.markers=si(u.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(p){this.triggerConfigError(p)}},Pn.prototype.waitForFontsLoaded=function(){!this.renderer||(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},Pn.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var u=bn();u&&u.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},Pn.prototype.resize=function(u,p){this.renderer.updateContainerSize("number"==typeof u?u:void 0,"number"==typeof p?p:void 0)},Pn.prototype.setSubframe=function(u){this.isSubframeEnabled=!!u},Pn.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},Pn.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(u){this.triggerRenderFrameError(u)}},Pn.prototype.play=function(u){u&&this.name!==u||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},Pn.prototype.pause=function(u){u&&this.name!==u||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},Pn.prototype.togglePause=function(u){u&&this.name!==u||(!0===this.isPaused?this.play():this.pause())},Pn.prototype.stop=function(u){u&&this.name!==u||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},Pn.prototype.getMarkerData=function(u){for(var p,_=0;_<this.markers.length;_+=1)if((p=this.markers[_]).payload&&p.payload.name===u)return p;return null},Pn.prototype.goToAndStop=function(u,p,_){if(!_||this.name===_){var x=Number(u);if(isNaN(x)){var $=this.getMarkerData(u);$&&this.goToAndStop($.time,!0)}else this.setCurrentRawFrameValue(p?u:u*this.frameModifier);this.pause()}},Pn.prototype.goToAndPlay=function(u,p,_){if(!_||this.name===_){var x=Number(u);if(isNaN(x)){var $=this.getMarkerData(u);$&&($.duration?this.playSegments([$.time,$.time+$.duration],!0):this.goToAndStop($.time,!0))}else this.goToAndStop(x,p,_);this.play()}},Pn.prototype.advanceTime=function(u){if(!0!==this.isPaused&&!1!==this.isLoaded){var p=this.currentRawFrame+u*this.frameModifier,_=!1;p>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?p>=this.totalFrames?(this.playCount+=1,this.checkSegments(p%this.totalFrames)||(this.setCurrentRawFrameValue(p%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(p):this.checkSegments(p>this.totalFrames?p%this.totalFrames:0)||(_=!0,p=this.totalFrames-1):p<0?this.checkSegments(p%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(_=!0,p=0):(this.setCurrentRawFrameValue(this.totalFrames+p%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(p),_&&(this.setCurrentRawFrameValue(p),this.pause(),this.trigger("complete"))}},Pn.prototype.adjustSegment=function(u,p){this.playCount=0,u[1]<u[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=u[0]-u[1],this.timeCompleted=this.totalFrames,this.firstFrame=u[1],this.setCurrentRawFrameValue(this.totalFrames-.001-p)):u[1]>u[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=u[1]-u[0],this.timeCompleted=this.totalFrames,this.firstFrame=u[0],this.setCurrentRawFrameValue(.001+p)),this.trigger("segmentStart")},Pn.prototype.setSegment=function(u,p){var _=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<u?_=u:this.currentRawFrame+this.firstFrame>p&&(_=p-u)),this.firstFrame=u,this.totalFrames=p-u,this.timeCompleted=this.totalFrames,-1!==_&&this.goToAndStop(_,!0)},Pn.prototype.playSegments=function(u,p){if(p&&(this.segments.length=0),"object"===lr(u[0])){var _,x=u.length;for(_=0;_<x;_+=1)this.segments.push(u[_])}else this.segments.push(u);this.segments.length&&p&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},Pn.prototype.resetSegments=function(u){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),u&&this.checkSegments(0)},Pn.prototype.checkSegments=function(u){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),u),!0)},Pn.prototype.destroy=function(u){u&&this.name!==u||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},Pn.prototype.setCurrentRawFrameValue=function(u){this.currentRawFrame=u,this.gotoFrame()},Pn.prototype.setSpeed=function(u){this.playSpeed=u,this.updaFrameModifier()},Pn.prototype.setDirection=function(u){this.playDirection=u<0?-1:1,this.updaFrameModifier()},Pn.prototype.setLoop=function(u){this.loop=u},Pn.prototype.setVolume=function(u,p){p&&this.name!==p||this.audioController.setVolume(u)},Pn.prototype.getVolume=function(){return this.audioController.getVolume()},Pn.prototype.mute=function(u){u&&this.name!==u||this.audioController.mute()},Pn.prototype.unmute=function(u){u&&this.name!==u||this.audioController.unmute()},Pn.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},Pn.prototype.getPath=function(){return this.path},Pn.prototype.getAssetsPath=function(u){var p="";if(u.e)p=u.p;else if(this.assetsPath){var _=u.p;-1!==_.indexOf("images/")&&(_=_.split("/")[1]),p=this.assetsPath+_}else p=this.path,p+=u.u?u.u:"",p+=u.p;return p},Pn.prototype.getAssetData=function(u){for(var p=0,_=this.assets.length;p<_;){if(u===this.assets[p].id)return this.assets[p];p+=1}return null},Pn.prototype.hide=function(){this.renderer.hide()},Pn.prototype.show=function(){this.renderer.show()},Pn.prototype.getDuration=function(u){return u?this.totalFrames:this.totalFrames/this.frameRate},Pn.prototype.updateDocumentData=function(u,p,_){try{this.renderer.getElementByPath(u).updateDocumentData(p,_)}catch{}},Pn.prototype.trigger=function(u){if(this._cbs&&this._cbs[u])switch(u){case"enterFrame":this.triggerEvent(u,new Bt(u,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(u,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(u,new Nn(u,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(u,new It(u,this.frameMult));break;case"segmentStart":this.triggerEvent(u,new yn(u,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(u,new Ar(u,this));break;default:this.triggerEvent(u)}"enterFrame"===u&&this.onEnterFrame&&this.onEnterFrame.call(this,new Bt(u,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===u&&this.onLoopComplete&&this.onLoopComplete.call(this,new Nn(u,this.loop,this.playCount,this.frameMult)),"complete"===u&&this.onComplete&&this.onComplete.call(this,new It(u,this.frameMult)),"segmentStart"===u&&this.onSegmentStart&&this.onSegmentStart.call(this,new yn(u,this.firstFrame,this.totalFrames)),"destroy"===u&&this.onDestroy&&this.onDestroy.call(this,new Ar(u,this))},Pn.prototype.triggerRenderFrameError=function(u){var p=new en(u,this.currentFrame);this.triggerEvent("error",p),this.onError&&this.onError.call(this,p)},Pn.prototype.triggerConfigError=function(u){var p=new qt(u,this.currentFrame);this.triggerEvent("error",p),this.onError&&this.onError.call(this,p)};var Qn=function(){var u={},p=[],_=0,x=0,$=0,G=!0,le=!1;function Ne($e){for(var De=0,fe=$e.target;De<x;)p[De].animation===fe&&(p.splice(De,1),De-=1,x-=1,fe.isPaused||Pt()),De+=1}function he($e,De){if(!$e)return null;for(var fe=0;fe<x;){if(p[fe].elem===$e&&null!==p[fe].elem)return p[fe].animation;fe+=1}var Fe=new Pn;return ge(Fe,$e),Fe.setData($e,De),Fe}function Xe(){$+=1,Zt()}function Pt(){$-=1}function ge($e,De){$e.addEventListener("destroy",Ne),$e.addEventListener("_active",Xe),$e.addEventListener("_idle",Pt),p.push({elem:De,animation:$e}),x+=1}function z($e){var fe,De=$e-_;for(fe=0;fe<x;fe+=1)p[fe].animation.advanceTime(De);_=$e,$&&!le?window.requestAnimationFrame(z):G=!0}function X($e){_=$e,window.requestAnimationFrame(z)}function Zt(){!le&&$&&G&&(window.requestAnimationFrame(X),G=!1)}return u.registerAnimation=he,u.loadAnimation=function I($e){var De=new Pn;return ge(De,null),De.setParams($e),De},u.setSpeed=function k($e,De){var fe;for(fe=0;fe<x;fe+=1)p[fe].animation.setSpeed($e,De)},u.setDirection=function T($e,De){var fe;for(fe=0;fe<x;fe+=1)p[fe].animation.setDirection($e,De)},u.play=function U($e){var De;for(De=0;De<x;De+=1)p[De].animation.play($e)},u.pause=function W($e){var De;for(De=0;De<x;De+=1)p[De].animation.pause($e)},u.stop=function se($e){var De;for(De=0;De<x;De+=1)p[De].animation.stop($e)},u.togglePause=function pe($e){var De;for(De=0;De<x;De+=1)p[De].animation.togglePause($e)},u.searchAnimations=function be($e,De,fe){var Ut,Fe=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),kt=Fe.length;for(Ut=0;Ut<kt;Ut+=1)fe&&Fe[Ut].setAttribute("data-bm-type",fe),he(Fe[Ut],$e);if(De&&0===kt){fe||(fe="svg");var Kn=document.getElementsByTagName("body")[0];Kn.innerText="";var Or=Qe("div");Or.style.width="100%",Or.style.height="100%",Or.setAttribute("data-bm-type",fe),Kn.appendChild(Or),he(Or,$e)}},u.resize=function vt(){var $e;for($e=0;$e<x;$e+=1)p[$e].animation.resize()},u.goToAndStop=function J($e,De,fe){var Fe;for(Fe=0;Fe<x;Fe+=1)p[Fe].animation.goToAndStop($e,De,fe)},u.destroy=function ve($e){var De;for(De=x-1;De>=0;De-=1)p[De].animation.destroy($e)},u.freeze=function Jt(){le=!0},u.unfreeze=function tn(){le=!1,Zt()},u.setVolume=function An($e,De){var fe;for(fe=0;fe<x;fe+=1)p[fe].animation.setVolume($e,De)},u.mute=function kn($e){var De;for(De=0;De<x;De+=1)p[De].animation.mute($e)},u.unmute=function Vt($e){var De;for(De=0;De<x;De+=1)p[De].animation.unmute($e)},u.getRegisteredAnimations=function He(){var $e,De=p.length,fe=[];for($e=0;$e<De;$e+=1)fe.push(p[$e].animation);return fe},u}(),jr=function(){var u={getBezierEasing:function _(X,W,J,se,pe){var ve=pe||("bez_"+X+"_"+W+"_"+J+"_"+se).replace(/\./g,"p");if(p[ve])return p[ve];var be=new z([X,W,J,se]);return p[ve]=be,be}},p={};var He="function"==typeof Float32Array;function Xe(X,W){return 1-3*W+3*X}function Pt(X,W){return 3*W-6*X}function ge(X){return 3*X}function I(X,W,J){return((Xe(W,J)*X+Pt(W,J))*X+ge(W))*X}function k(X,W,J){return 3*Xe(W,J)*X*X+2*Pt(W,J)*X+ge(W)}function z(X){this._p=X,this._mSampleValues=He?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return z.prototype={get:function(W){var J=this._p[0],se=this._p[1],pe=this._p[2],ve=this._p[3];return this._precomputed||this._precompute(),J===se&&pe===ve?W:0===W?0:1===W?1:I(this._getTForX(W),se,ve)},_precompute:function(){var W=this._p[0],J=this._p[1],se=this._p[2],pe=this._p[3];this._precomputed=!0,(W!==J||se!==pe)&&this._calcSampleValues()},_calcSampleValues:function(){for(var W=this._p[0],J=this._p[2],se=0;se<11;++se)this._mSampleValues[se]=I(.1*se,W,J)},_getTForX:function(W){for(var J=this._p[0],se=this._p[2],pe=this._mSampleValues,ve=0,be=1;10!==be&&pe[be]<=W;++be)ve+=.1;var Jt=ve+(W-pe[--be])/(pe[be+1]-pe[be])*.1,tn=k(Jt,J,se);return tn>=.001?function U(X,W,J,se){for(var pe=0;pe<4;++pe){var ve=k(W,J,se);if(0===ve)return W;W-=(I(W,J,se)-X)/ve}return W}(W,Jt,J,se):0===tn?Jt:function T(X,W,J,se,pe){var ve,be,vt=0;do{(ve=I(be=W+(J-W)/2,se,pe)-X)>0?J=be:W=be}while(Math.abs(ve)>1e-7&&++vt<10);return be}(W,ve,ve+.1,J,se)}},u}(),zn={double:function u(p){return p.concat(et(p.length))}},vn=function(u,p,_){var x=0,$=u,G=et($);return{newElement:function Ne(){return x?G[x-=1]:p()},release:function he(He){x===$&&(G=zn.double(G),$*=2),_&&_(He),G[x]=He,x+=1}}},Gt=vn(8,function u(){return{addedLength:0,percents:rt("float32",mi()),lengths:rt("float32",mi())}}),wn=vn(8,function u(){return{lengths:[],totalLength:0}},function p(_){var x,$=_.lengths.length;for(x=0;x<$;x+=1)Gt.release(_.lengths[x]);_.lengths.length=0});var Wn=function sr(){var u=Math;function p(ge,I,k,T,U,z){var X=ge*T+I*U+k*z-U*T-z*ge-k*I;return X>-.001&&X<.001}var x=function(ge,I,k,T){var z,X,W,J,se,ve,U=mi(),pe=0,be=[],vt=[],Zt=Gt.newElement();for(W=k.length,z=0;z<U;z+=1){for(se=z/(U-1),ve=0,X=0;X<W;X+=1)J=Tt(1-se,3)*ge[X]+3*Tt(1-se,2)*se*k[X]+3*(1-se)*Tt(se,2)*T[X]+Tt(se,3)*I[X],be[X]=J,null!==vt[X]&&(ve+=Tt(be[X]-vt[X],2)),vt[X]=be[X];ve&&(pe+=ve=Wt(ve)),Zt.percents[z]=se,Zt.lengths[z]=pe}return Zt.addedLength=pe,Zt};function G(ge){this.segmentLength=0,this.points=new Array(ge)}function le(ge,I){this.partialLength=ge,this.point=I}var ge,Ne=(ge={},function(I,k,T,U){var z=(I[0]+"_"+I[1]+"_"+k[0]+"_"+k[1]+"_"+T[0]+"_"+T[1]+"_"+U[0]+"_"+U[1]).replace(/\./g,"p");if(!ge[z]){var W,J,se,pe,ve,vt,Zt,X=mi(),be=0,Jt=null;2===I.length&&(I[0]!==k[0]||I[1]!==k[1])&&p(I[0],I[1],k[0],k[1],I[0]+T[0],I[1]+T[1])&&p(I[0],I[1],k[0],k[1],k[0]+U[0],k[1]+U[1])&&(X=2);var tn=new G(X);for(se=T.length,W=0;W<X;W+=1){for(Zt=et(se),ve=W/(X-1),vt=0,J=0;J<se;J+=1)pe=Tt(1-ve,3)*I[J]+3*Tt(1-ve,2)*ve*(I[J]+T[J])+3*(1-ve)*Tt(ve,2)*(k[J]+U[J])+Tt(ve,3)*k[J],Zt[J]=pe,null!==Jt&&(vt+=Tt(Zt[J]-Jt[J],2));be+=vt=Wt(vt),tn.points[W]=new le(vt,Zt),Jt=Zt}tn.segmentLength=be,ge[z]=tn}return ge[z]});function he(ge,I){var k=I.percents,T=I.lengths,U=k.length,z=qe((U-1)*ge),X=ge*I.addedLength,W=0;if(z===U-1||0===z||X===T[z])return k[z];for(var J=T[z]>X?-1:1,se=!0;se;)if(T[z]<=X&&T[z+1]>X?(W=(X-T[z])/(T[z+1]-T[z]),se=!1):z+=J,z<0||z>=U-1){if(z===U-1)return k[z];se=!1}return k[z]+(k[z+1]-k[z])*W}var Xe=rt("float32",8);return{getSegmentsLength:function $(ge){var X,I=wn.newElement(),k=ge.c,T=ge.v,U=ge.o,z=ge.i,W=ge._length,J=I.lengths,se=0;for(X=0;X<W-1;X+=1)J[X]=x(T[X],T[X+1],U[X],z[X+1]),se+=J[X].addedLength;return k&&W&&(J[X]=x(T[X],T[0],U[X],z[0]),se+=J[X].addedLength),I.totalLength=se,I},getNewSegment:function Pt(ge,I,k,T,U,z,X){U<0?U=0:U>1&&(U=1);var se,W=he(U,X),J=he(z=z>1?1:z,X),pe=ge.length,ve=1-W,be=1-J,vt=ve*ve*ve,Zt=W*ve*ve*3,Jt=W*W*ve*3,tn=W*W*W,An=ve*ve*be,kn=W*ve*be+ve*W*be+ve*ve*J,Vt=W*W*be+ve*W*J+W*ve*J,$e=W*W*J,De=ve*be*be,fe=W*be*be+ve*J*be+ve*be*J,Fe=W*J*be+ve*J*J+W*be*J,Ut=W*J*J,kt=be*be*be,Kn=J*be*be+be*J*be+be*be*J,Or=J*J*be+be*J*J+J*be*J,Mr=J*J*J;for(se=0;se<pe;se+=1)Xe[4*se]=u.round(1e3*(vt*ge[se]+Zt*k[se]+Jt*T[se]+tn*I[se]))/1e3,Xe[4*se+1]=u.round(1e3*(An*ge[se]+kn*k[se]+Vt*T[se]+$e*I[se]))/1e3,Xe[4*se+2]=u.round(1e3*(De*ge[se]+fe*k[se]+Fe*T[se]+Ut*I[se]))/1e3,Xe[4*se+3]=u.round(1e3*(kt*ge[se]+Kn*k[se]+Or*T[se]+Mr*I[se]))/1e3;return Xe},getPointInSegment:function He(ge,I,k,T,U,z){var X=he(U,z),W=1-X;return[u.round(1e3*(W*W*W*ge[0]+(X*W*W+W*X*W+W*W*X)*k[0]+(X*X*W+W*X*X+X*W*X)*T[0]+X*X*X*I[0]))/1e3,u.round(1e3*(W*W*W*ge[1]+(X*W*W+W*X*W+W*W*X)*k[1]+(X*X*W+W*X*X+X*W*X)*T[1]+X*X*X*I[1]))/1e3]},buildBezierData:Ne,pointOnLine2D:p,pointOnLine3D:function _(ge,I,k,T,U,z,X,W,J){if(0===k&&0===z&&0===J)return p(ge,I,T,U,X,W);var be,se=u.sqrt(u.pow(T-ge,2)+u.pow(U-I,2)+u.pow(z-k,2)),pe=u.sqrt(u.pow(X-ge,2)+u.pow(W-I,2)+u.pow(J-k,2)),ve=u.sqrt(u.pow(X-T,2)+u.pow(W-U,2)+u.pow(J-z,2));return(be=se>pe?se>ve?se-pe-ve:ve-pe-se:ve>pe?ve-pe-se:pe-se-ve)>-1e-4&&be<1e-4}}}(),zt=function(){var u=Ve,p=Math.abs;function _(U,z){var W,X=this.offsetTime;"multidimensional"===this.propType&&(W=rt("float32",this.pv.length));for(var be,vt,Zt,J=z.lastIndex,se=J,pe=this.keyframes.length-1,ve=!0;ve;){if(be=this.keyframes[se],vt=this.keyframes[se+1],se===pe-1&&U>=vt.t-X){be.h&&(be=vt),J=0;break}if(vt.t-X>U){J=se;break}se<pe-1?se+=1:(J=0,ve=!1)}Zt=this.keyframesMetadata[se]||{};var Jt,tn,An,kn,Vt,$e,Fe,De=vt.t-X,fe=be.t-X;if(be.to){Zt.bezierData||(Zt.bezierData=Wn.buildBezierData(be.s,vt.s||be.e,be.to,be.ti));var Ut=Zt.bezierData;if(U>=De||U<fe){var kt=U>=De?Ut.points.length-1:0;for(tn=Ut.points[kt].point.length,Jt=0;Jt<tn;Jt+=1)W[Jt]=Ut.points[kt].point[Jt]}else{Zt.__fnct?$e=Zt.__fnct:($e=jr.getBezierEasing(be.o.x,be.o.y,be.i.x,be.i.y,be.n).get,Zt.__fnct=$e),An=$e((U-fe)/(De-fe));var Or,Kn=Ut.segmentLength*An,Mr=z.lastFrame<U&&z._lastKeyframeIndex===se?z._lastAddedLength:0;for(Vt=z.lastFrame<U&&z._lastKeyframeIndex===se?z._lastPoint:0,ve=!0,kn=Ut.points.length;ve;){if(Mr+=Ut.points[Vt].partialLength,0===Kn||0===An||Vt===Ut.points.length-1){for(tn=Ut.points[Vt].point.length,Jt=0;Jt<tn;Jt+=1)W[Jt]=Ut.points[Vt].point[Jt];break}if(Kn>=Mr&&Kn<Mr+Ut.points[Vt+1].partialLength){for(Or=(Kn-Mr)/Ut.points[Vt+1].partialLength,tn=Ut.points[Vt].point.length,Jt=0;Jt<tn;Jt+=1)W[Jt]=Ut.points[Vt].point[Jt]+(Ut.points[Vt+1].point[Jt]-Ut.points[Vt].point[Jt])*Or;break}Vt<kn-1?Vt+=1:ve=!1}z._lastPoint=Vt,z._lastAddedLength=Mr-Ut.points[Vt].partialLength,z._lastKeyframeIndex=se}}else{var Ss;if(pe=be.s.length,Fe=vt.s||be.e,this.sh&&1!==be.h)U>=De?(W[0]=Fe[0],W[1]=Fe[1],W[2]=Fe[2]):U<=fe?(W[0]=be.s[0],W[1]=be.s[1],W[2]=be.s[2]):function $(U,z){var X=z[0],W=z[1],J=z[2],se=z[3],pe=Math.atan2(2*W*se-2*X*J,1-2*W*W-2*J*J),ve=Math.asin(2*X*W+2*J*se),be=Math.atan2(2*X*se-2*W*J,1-2*X*X-2*J*J);U[0]=pe/yt,U[1]=ve/yt,U[2]=be/yt}(W,function x(U,z,X){var tn,An,kn,Vt,$e,W=[],J=U[0],se=U[1],pe=U[2],ve=U[3],be=z[0],vt=z[1],Zt=z[2],Jt=z[3];return(An=J*be+se*vt+pe*Zt+ve*Jt)<0&&(An=-An,be=-be,vt=-vt,Zt=-Zt,Jt=-Jt),1-An>1e-6?(tn=Math.acos(An),kn=Math.sin(tn),Vt=Math.sin((1-X)*tn)/kn,$e=Math.sin(X*tn)/kn):(Vt=1-X,$e=X),W[0]=Vt*J+$e*be,W[1]=Vt*se+$e*vt,W[2]=Vt*pe+$e*Zt,W[3]=Vt*ve+$e*Jt,W}(G(be.s),G(Fe),(U-fe)/(De-fe)));else for(se=0;se<pe;se+=1)1!==be.h&&(U>=De?An=1:U<fe?An=0:(be.o.x.constructor===Array?(Zt.__fnct||(Zt.__fnct=[]),Zt.__fnct[se]?$e=Zt.__fnct[se]:($e=jr.getBezierEasing(void 0===be.o.x[se]?be.o.x[0]:be.o.x[se],void 0===be.o.y[se]?be.o.y[0]:be.o.y[se],void 0===be.i.x[se]?be.i.x[0]:be.i.x[se],void 0===be.i.y[se]?be.i.y[0]:be.i.y[se]).get,Zt.__fnct[se]=$e)):Zt.__fnct?$e=Zt.__fnct:($e=jr.getBezierEasing(be.o.x,be.o.y,be.i.x,be.i.y).get,be.keyframeMetadata=$e),An=$e((U-fe)/(De-fe)))),Fe=vt.s||be.e,Ss=1===be.h?be.s[se]:be.s[se]+(Fe[se]-be.s[se])*An,"multidimensional"===this.propType?W[se]=Ss:W=Ss}return z.lastIndex=J,W}function G(U){var z=U[0]*yt,X=U[1]*yt,W=U[2]*yt,J=Math.cos(z/2),se=Math.cos(X/2),pe=Math.cos(W/2),ve=Math.sin(z/2),be=Math.sin(X/2),vt=Math.sin(W/2);return[ve*be*pe+J*se*vt,ve*se*pe+J*be*vt,J*be*pe-ve*se*vt,J*se*pe-ve*be*vt]}function le(){var U=this.comp.renderedFrame-this.offsetTime,z=this.keyframes[0].t-this.offsetTime,X=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(U===this._caching.lastFrame||this._caching.lastFrame!==u&&(this._caching.lastFrame>=X&&U>=X||this._caching.lastFrame<z&&U<z))){this._caching.lastFrame>=U&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var W=this.interpolateValue(U,this._caching);this.pv=W}return this._caching.lastFrame=U,this.pv}function Ne(U){var z;if("unidimensional"===this.propType)p(this.v-(z=U*this.mult))>1e-5&&(this.v=z,this._mdf=!0);else for(var X=0,W=this.v.length;X<W;)p(this.v[X]-(z=U[X]*this.mult))>1e-5&&(this.v[X]=z,this._mdf=!0),X+=1}function he(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length){if(this.lock)return void this.setVValue(this.pv);this.lock=!0,this._mdf=this._isFirstFrame;var U,z=this.effectsSequence.length,X=this.kf?this.pv:this.data.k;for(U=0;U<z;U+=1)X=this.effectsSequence[U](X);this.setVValue(X),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function He(U){this.effectsSequence.push(U),this.container.addDynamicProperty(this)}function Xe(U,z,X,W){this.propType="unidimensional",this.mult=X||1,this.data=z,this.v=X?z.k*X:z.k,this.pv=z.k,this._mdf=!1,this.elem=U,this.container=W,this.comp=U.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=he,this.setVValue=Ne,this.addEffect=He}function Pt(U,z,X,W){this.propType="multidimensional",this.mult=X||1,this.data=z,this._mdf=!1,this.elem=U,this.container=W,this.comp=U.comp,this.k=!1,this.kf=!1,this.frameId=-1;var J,se=z.k.length;for(this.v=rt("float32",se),this.pv=rt("float32",se),this.vel=rt("float32",se),J=0;J<se;J+=1)this.v[J]=z.k[J]*this.mult,this.pv[J]=z.k[J];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=he,this.setVValue=Ne,this.addEffect=He}function ge(U,z,X,W){this.propType="unidimensional",this.keyframes=z.k,this.keyframesMetadata=[],this.offsetTime=U.data.st,this.frameId=-1,this._caching={lastFrame:u,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=z,this.mult=X||1,this.elem=U,this.container=W,this.comp=U.comp,this.v=u,this.pv=u,this._isFirstFrame=!0,this.getValue=he,this.setVValue=Ne,this.interpolateValue=_,this.effectsSequence=[le.bind(this)],this.addEffect=He}function I(U,z,X,W){this.propType="multidimensional";var J,pe,ve,be,vt,se=z.k.length;for(J=0;J<se-1;J+=1)z.k[J].to&&z.k[J].s&&z.k[J+1]&&z.k[J+1].s&&(ve=z.k[J+1].s,be=z.k[J].to,vt=z.k[J].ti,(2===(pe=z.k[J].s).length&&!(pe[0]===ve[0]&&pe[1]===ve[1])&&Wn.pointOnLine2D(pe[0],pe[1],ve[0],ve[1],pe[0]+be[0],pe[1]+be[1])&&Wn.pointOnLine2D(pe[0],pe[1],ve[0],ve[1],ve[0]+vt[0],ve[1]+vt[1])||3===pe.length&&!(pe[0]===ve[0]&&pe[1]===ve[1]&&pe[2]===ve[2])&&Wn.pointOnLine3D(pe[0],pe[1],pe[2],ve[0],ve[1],ve[2],pe[0]+be[0],pe[1]+be[1],pe[2]+be[2])&&Wn.pointOnLine3D(pe[0],pe[1],pe[2],ve[0],ve[1],ve[2],ve[0]+vt[0],ve[1]+vt[1],ve[2]+vt[2]))&&(z.k[J].to=null,z.k[J].ti=null),pe[0]===ve[0]&&pe[1]===ve[1]&&0===be[0]&&0===be[1]&&0===vt[0]&&0===vt[1]&&(2===pe.length||pe[2]===ve[2]&&0===be[2]&&0===vt[2])&&(z.k[J].to=null,z.k[J].ti=null));this.effectsSequence=[le.bind(this)],this.data=z,this.keyframes=z.k,this.keyframesMetadata=[],this.offsetTime=U.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=X||1,this.elem=U,this.container=W,this.comp=U.comp,this.getValue=he,this.setVValue=Ne,this.interpolateValue=_,this.frameId=-1;var Zt=z.k[0].s.length;for(this.v=rt("float32",Zt),this.pv=rt("float32",Zt),J=0;J<Zt;J+=1)this.v[J]=u,this.pv[J]=u;this._caching={lastFrame:u,lastIndex:0,value:rt("float32",Zt)},this.addEffect=He}return{getProp:function k(U,z,X,W,J){var se;if(z.k.length)if("number"==typeof z.k[0])se=new Pt(U,z,W,J);else switch(X){case 0:se=new ge(U,z,W,J);break;case 1:se=new I(U,z,W,J)}else se=new Xe(U,z,W,J);return se.effectsSequence.length&&J.addDynamicProperty(se),se}}}();function Le(){}Le.prototype={addDynamicProperty:function(p){-1===this.dynamicProperties.indexOf(p)&&(this.dynamicProperties.push(p),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var p,_=this.dynamicProperties.length;for(p=0;p<_;p+=1)this.dynamicProperties[p].getValue(),this.dynamicProperties[p]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(p){this.container=p,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var Re=vn(8,function u(){return rt("float32",2)});function Ye(){this.c=!1,this._length=0,this._maxLength=8,this.v=et(this._maxLength),this.o=et(this._maxLength),this.i=et(this._maxLength)}Ye.prototype.setPathData=function(u,p){this.c=u,this.setLength(p);for(var _=0;_<p;)this.v[_]=Re.newElement(),this.o[_]=Re.newElement(),this.i[_]=Re.newElement(),_+=1},Ye.prototype.setLength=function(u){for(;this._maxLength<u;)this.doubleArrayLength();this._length=u},Ye.prototype.doubleArrayLength=function(){this.v=this.v.concat(et(this._maxLength)),this.i=this.i.concat(et(this._maxLength)),this.o=this.o.concat(et(this._maxLength)),this._maxLength*=2},Ye.prototype.setXYAt=function(u,p,_,x,$){var G;switch(this._length=Math.max(this._length,x+1),this._length>=this._maxLength&&this.doubleArrayLength(),_){case"v":G=this.v;break;case"i":G=this.i;break;case"o":G=this.o;break;default:G=[]}(!G[x]||G[x]&&!$)&&(G[x]=Re.newElement()),G[x][0]=u,G[x][1]=p},Ye.prototype.setTripleAt=function(u,p,_,x,$,G,le,Ne){this.setXYAt(u,p,"v",le,Ne),this.setXYAt(_,x,"o",le,Ne),this.setXYAt($,G,"i",le,Ne)},Ye.prototype.reverse=function(){var u=new Ye;u.setPathData(this.c,this._length);var p=this.v,_=this.o,x=this.i,$=0;this.c&&(u.setTripleAt(p[0][0],p[0][1],x[0][0],x[0][1],_[0][0],_[0][1],0,!1),$=1);var Ne,G=this._length-1,le=this._length;for(Ne=$;Ne<le;Ne+=1)u.setTripleAt(p[G][0],p[G][1],x[G][0],x[G][1],_[G][0],_[G][1],Ne,!1),G-=1;return u},Ye.prototype.length=function(){return this._length};var x,Te=((x=vn(4,function u(){return new Ye},function p($){var le,G=$._length;for(le=0;le<G;le+=1)Re.release($.v[le]),Re.release($.i[le]),Re.release($.o[le]),$.v[le]=null,$.i[le]=null,$.o[le]=null;$._length=0,$.c=!1})).clone=function _($){var le,G=x.newElement(),Ne=void 0===$._length?$.v.length:$._length;for(G.setLength(Ne),G.c=$.c,le=0;le<Ne;le+=1)G.setTripleAt($.v[le][0],$.v[le][1],$.o[le][0],$.o[le][1],$.i[le][0],$.i[le][1],le);return G},x);function ie(){this._length=0,this._maxLength=4,this.shapes=et(this._maxLength)}ie.prototype.addShape=function(u){this._length===this._maxLength&&(this.shapes=this.shapes.concat(et(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=u,this._length+=1},ie.prototype.releaseShapes=function(){var u;for(u=0;u<this._length;u+=1)Te.release(this.shapes[u]);this._length=0};var Ie=function(){var u={newShapeCollection:function $(){return p?x[p-=1]:new ie},release:function G(le){var Ne,he=le._length;for(Ne=0;Ne<he;Ne+=1)Te.release(le.shapes[Ne]);le._length=0,p===_&&(x=zn.double(x),_*=2),x[p]=le,p+=1}},p=0,_=4,x=et(_);return u}(),ot=function(){var u=-999999;function p(z,X,W){var se,pe,ve,be,vt,Zt,Jt,tn,J=W.lastIndex,kn=this.keyframes;if(z<kn[0].t-this.offsetTime)se=kn[0].s[0],ve=!0,J=0;else if(z>=kn[kn.length-1].t-this.offsetTime)se=kn[kn.length-1].s?kn[kn.length-1].s[0]:kn[kn.length-2].e[0],ve=!0;else{for(var fe,Fe,Ut,Vt=J,$e=kn.length-1,De=!0;De&&(fe=kn[Vt],!((Fe=kn[Vt+1]).t-this.offsetTime>z));)Vt<$e-1?Vt+=1:De=!1;if(Ut=this.keyframesMetadata[Vt]||{},J=Vt,!(ve=1===fe.h)){if(z>=Fe.t-this.offsetTime)tn=1;else if(z<fe.t-this.offsetTime)tn=0;else{var kt;Ut.__fnct?kt=Ut.__fnct:(kt=jr.getBezierEasing(fe.o.x,fe.o.y,fe.i.x,fe.i.y).get,Ut.__fnct=kt),tn=kt((z-(fe.t-this.offsetTime))/(Fe.t-this.offsetTime-(fe.t-this.offsetTime)))}pe=Fe.s?Fe.s[0]:fe.e[0]}se=fe.s[0]}for(Zt=X._length,Jt=se.i[0].length,W.lastIndex=J,be=0;be<Zt;be+=1)for(vt=0;vt<Jt;vt+=1)X.i[be][vt]=ve?se.i[be][vt]:se.i[be][vt]+(pe.i[be][vt]-se.i[be][vt])*tn,X.o[be][vt]=ve?se.o[be][vt]:se.o[be][vt]+(pe.o[be][vt]-se.o[be][vt])*tn,X.v[be][vt]=ve?se.v[be][vt]:se.v[be][vt]+(pe.v[be][vt]-se.v[be][vt])*tn}function _(){var z=this.comp.renderedFrame-this.offsetTime,X=this.keyframes[0].t-this.offsetTime,W=this.keyframes[this.keyframes.length-1].t-this.offsetTime,J=this._caching.lastFrame;return J!==u&&(J<X&&z<X||J>W&&z>W)||(this._caching.lastIndex=J<z?this._caching.lastIndex:0,this.interpolateShape(z,this.pv,this._caching)),this._caching.lastFrame=z,this.pv}function x(){this.paths=this.localShapeCollection}function G(z){(function $(z,X){if(z._length!==X._length||z.c!==X.c)return!1;var W,J=z._length;for(W=0;W<J;W+=1)if(z.v[W][0]!==X.v[W][0]||z.v[W][1]!==X.v[W][1]||z.o[W][0]!==X.o[W][0]||z.o[W][1]!==X.o[W][1]||z.i[W][0]!==X.i[W][0]||z.i[W][1]!==X.i[W][1])return!1;return!0})(this.v,z)||(this.v=Te.clone(z),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function le(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length)return void(this._mdf=!1);if(this.lock)return void this.setVValue(this.pv);var z;this.lock=!0,this._mdf=!1,z=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var X,W=this.effectsSequence.length;for(X=0;X<W;X+=1)z=this.effectsSequence[X](z);this.setVValue(z),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function Ne(z,X,W){this.propType="shape",this.comp=z.comp,this.container=z,this.elem=z,this.data=X,this.k=!1,this.kf=!1,this._mdf=!1,this.v=Te.clone(3===W?X.pt.k:X.ks.k),this.pv=Te.clone(this.v),this.localShapeCollection=Ie.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=x,this.effectsSequence=[]}function he(z){this.effectsSequence.push(z),this.container.addDynamicProperty(this)}function He(z,X,W){this.propType="shape",this.comp=z.comp,this.elem=z,this.container=z,this.offsetTime=z.data.st,this.keyframes=3===W?X.pt.k:X.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var J=this.keyframes[0].s[0].i.length;this.v=Te.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,J),this.pv=Te.clone(this.v),this.localShapeCollection=Ie.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=u,this.reset=x,this._caching={lastFrame:u,lastIndex:0},this.effectsSequence=[_.bind(this)]}Ne.prototype.interpolateShape=p,Ne.prototype.getValue=le,Ne.prototype.setVValue=G,Ne.prototype.addEffect=he,He.prototype.getValue=le,He.prototype.interpolateShape=p,He.prototype.setVValue=G,He.prototype.addEffect=he;var Xe=function(){var z=Me;function X(W,J){this.v=Te.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=Ie.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=J.d,this.elem=W,this.comp=W.comp,this.frameId=-1,this.initDynamicPropertyContainer(W),this.p=zt.getProp(W,J.p,1,0,this),this.s=zt.getProp(W,J.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return X.prototype={reset:x,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var J=this.p.v[0],se=this.p.v[1],pe=this.s.v[0]/2,ve=this.s.v[1]/2,be=3!==this.d,vt=this.v;vt.v[0][0]=J,vt.v[0][1]=se-ve,vt.v[1][0]=be?J+pe:J-pe,vt.v[1][1]=se,vt.v[2][0]=J,vt.v[2][1]=se+ve,vt.v[3][0]=be?J-pe:J+pe,vt.v[3][1]=se,vt.i[0][0]=be?J-pe*z:J+pe*z,vt.i[0][1]=se-ve,vt.i[1][0]=be?J+pe:J-pe,vt.i[1][1]=se-ve*z,vt.i[2][0]=be?J+pe*z:J-pe*z,vt.i[2][1]=se+ve,vt.i[3][0]=be?J-pe:J+pe,vt.i[3][1]=se+ve*z,vt.o[0][0]=be?J+pe*z:J-pe*z,vt.o[0][1]=se-ve,vt.o[1][0]=be?J+pe:J-pe,vt.o[1][1]=se+ve*z,vt.o[2][0]=be?J-pe*z:J+pe*z,vt.o[2][1]=se+ve,vt.o[3][0]=be?J-pe:J+pe,vt.o[3][1]=se-ve*z}},de([Le],X),X}(),Pt=function(){function z(X,W){this.v=Te.newElement(),this.v.setPathData(!0,0),this.elem=X,this.comp=X.comp,this.data=W,this.frameId=-1,this.d=W.d,this.initDynamicPropertyContainer(X),1===W.sy?(this.ir=zt.getProp(X,W.ir,0,0,this),this.is=zt.getProp(X,W.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=zt.getProp(X,W.pt,0,0,this),this.p=zt.getProp(X,W.p,1,0,this),this.r=zt.getProp(X,W.r,0,yt,this),this.or=zt.getProp(X,W.or,0,0,this),this.os=zt.getProp(X,W.os,0,.01,this),this.localShapeCollection=Ie.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return z.prototype={reset:x,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var tn,An,kn,Vt,W=2*Math.floor(this.pt.v),J=2*Math.PI/W,se=!0,pe=this.or.v,ve=this.ir.v,be=this.os.v,vt=this.is.v,Zt=2*Math.PI*pe/(2*W),Jt=2*Math.PI*ve/(2*W),$e=-Math.PI/2;$e+=this.r.v;var De=3===this.data.d?-1:1;for(this.v._length=0,tn=0;tn<W;tn+=1){kn=se?be:vt,Vt=se?Zt:Jt;var fe=(An=se?pe:ve)*Math.cos($e),Fe=An*Math.sin($e),Ut=0===fe&&0===Fe?0:Fe/Math.sqrt(fe*fe+Fe*Fe),kt=0===fe&&0===Fe?0:-fe/Math.sqrt(fe*fe+Fe*Fe);this.v.setTripleAt(fe+=+this.p.v[0],Fe+=+this.p.v[1],fe-Ut*Vt*kn*De,Fe-kt*Vt*kn*De,fe+Ut*Vt*kn*De,Fe+kt*Vt*kn*De,tn,!0),se=!se,$e+=J*De}},convertPolygonToPath:function(){var be,W=Math.floor(this.pt.v),J=2*Math.PI/W,se=this.or.v,pe=this.os.v,ve=2*Math.PI*se/(4*W),vt=.5*-Math.PI,Zt=3===this.data.d?-1:1;for(vt+=this.r.v,this.v._length=0,be=0;be<W;be+=1){var Jt=se*Math.cos(vt),tn=se*Math.sin(vt),An=0===Jt&&0===tn?0:tn/Math.sqrt(Jt*Jt+tn*tn),kn=0===Jt&&0===tn?0:-Jt/Math.sqrt(Jt*Jt+tn*tn);this.v.setTripleAt(Jt+=+this.p.v[0],tn+=+this.p.v[1],Jt-An*ve*pe*Zt,tn-kn*ve*pe*Zt,Jt+An*ve*pe*Zt,tn+kn*ve*pe*Zt,be,!0),vt+=J*Zt}this.paths.length=0,this.paths[0]=this.v}},de([Le],z),z}(),ge=function(){function z(X,W){this.v=Te.newElement(),this.v.c=!0,this.localShapeCollection=Ie.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=X,this.comp=X.comp,this.frameId=-1,this.d=W.d,this.initDynamicPropertyContainer(X),this.p=zt.getProp(X,W.p,1,0,this),this.s=zt.getProp(X,W.s,1,0,this),this.r=zt.getProp(X,W.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return z.prototype={convertRectToPath:function(){var W=this.p.v[0],J=this.p.v[1],se=this.s.v[0]/2,pe=this.s.v[1]/2,ve=Dt(se,pe,this.r.v),be=ve*(1-Me);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(W+se,J-pe+ve,W+se,J-pe+ve,W+se,J-pe+be,0,!0),this.v.setTripleAt(W+se,J+pe-ve,W+se,J+pe-be,W+se,J+pe-ve,1,!0),0!==ve?(this.v.setTripleAt(W+se-ve,J+pe,W+se-ve,J+pe,W+se-be,J+pe,2,!0),this.v.setTripleAt(W-se+ve,J+pe,W-se+be,J+pe,W-se+ve,J+pe,3,!0),this.v.setTripleAt(W-se,J+pe-ve,W-se,J+pe-ve,W-se,J+pe-be,4,!0),this.v.setTripleAt(W-se,J-pe+ve,W-se,J-pe+be,W-se,J-pe+ve,5,!0),this.v.setTripleAt(W-se+ve,J-pe,W-se+ve,J-pe,W-se+be,J-pe,6,!0),this.v.setTripleAt(W+se-ve,J-pe,W+se-be,J-pe,W+se-ve,J-pe,7,!0)):(this.v.setTripleAt(W-se,J+pe,W-se+be,J+pe,W-se,J+pe,2),this.v.setTripleAt(W-se,J-pe,W-se,J-pe+be,W-se,J-pe,3))):(this.v.setTripleAt(W+se,J-pe+ve,W+se,J-pe+be,W+se,J-pe+ve,0,!0),0!==ve?(this.v.setTripleAt(W+se-ve,J-pe,W+se-ve,J-pe,W+se-be,J-pe,1,!0),this.v.setTripleAt(W-se+ve,J-pe,W-se+be,J-pe,W-se+ve,J-pe,2,!0),this.v.setTripleAt(W-se,J-pe+ve,W-se,J-pe+ve,W-se,J-pe+be,3,!0),this.v.setTripleAt(W-se,J+pe-ve,W-se,J+pe-be,W-se,J+pe-ve,4,!0),this.v.setTripleAt(W-se+ve,J+pe,W-se+ve,J+pe,W-se+be,J+pe,5,!0),this.v.setTripleAt(W+se-ve,J+pe,W+se-be,J+pe,W+se-ve,J+pe,6,!0),this.v.setTripleAt(W+se,J+pe-ve,W+se,J+pe-ve,W+se,J+pe-be,7,!0)):(this.v.setTripleAt(W-se,J-pe,W-se+be,J-pe,W-se,J-pe,1,!0),this.v.setTripleAt(W-se,J+pe,W-se,J+pe-be,W-se,J+pe,2,!0),this.v.setTripleAt(W+se,J+pe,W+se-be,J+pe,W+se,J+pe,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:x},de([Le],z),z}();var U={getShapeProp:function I(z,X,W){var J;return 3===W||4===W?J=(3===W?X.pt:X.ks).k.length?new He(z,X,W):new Ne(z,X,W):5===W?J=new ge(z,X):6===W?J=new Xe(z,X):7===W&&(J=new Pt(z,X)),J.k&&z.addDynamicProperty(J),J},getConstructorFunction:function k(){return Ne},getKeyframedConstructorFunction:function T(){return He}};return U}(),$t=function(){var u=Math.cos,p=Math.sin,_=Math.tan,x=Math.round;function $(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function G(De){if(0===De)return this;var fe=u(De),Fe=p(De);return this._t(fe,-Fe,0,0,Fe,fe,0,0,0,0,1,0,0,0,0,1)}function le(De){if(0===De)return this;var fe=u(De),Fe=p(De);return this._t(1,0,0,0,0,fe,-Fe,0,0,Fe,fe,0,0,0,0,1)}function Ne(De){if(0===De)return this;var fe=u(De),Fe=p(De);return this._t(fe,0,Fe,0,0,1,0,0,-Fe,0,fe,0,0,0,0,1)}function he(De){if(0===De)return this;var fe=u(De),Fe=p(De);return this._t(fe,-Fe,0,0,Fe,fe,0,0,0,0,1,0,0,0,0,1)}function He(De,fe){return this._t(1,fe,De,1,0,0)}function Xe(De,fe){return this.shear(_(De),_(fe))}function Pt(De,fe){var Fe=u(fe),Ut=p(fe);return this._t(Fe,Ut,0,0,-Ut,Fe,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,_(De),1,0,0,0,0,1,0,0,0,0,1)._t(Fe,-Ut,0,0,Ut,Fe,0,0,0,0,1,0,0,0,0,1)}function ge(De,fe,Fe){return!Fe&&0!==Fe&&(Fe=1),1===De&&1===fe&&1===Fe?this:this._t(De,0,0,0,0,fe,0,0,0,0,Fe,0,0,0,0,1)}function I(De,fe,Fe,Ut,kt,Kn,Or,Mr,Vi,Xr,ys,Vs,Ss,us,fs,ni){return this.props[0]=De,this.props[1]=fe,this.props[2]=Fe,this.props[3]=Ut,this.props[4]=kt,this.props[5]=Kn,this.props[6]=Or,this.props[7]=Mr,this.props[8]=Vi,this.props[9]=Xr,this.props[10]=ys,this.props[11]=Vs,this.props[12]=Ss,this.props[13]=us,this.props[14]=fs,this.props[15]=ni,this}function k(De,fe,Fe){return Fe=Fe||0,0!==De||0!==fe||0!==Fe?this._t(1,0,0,0,0,1,0,0,0,0,1,0,De,fe,Fe,1):this}function T(De,fe,Fe,Ut,kt,Kn,Or,Mr,Vi,Xr,ys,Vs,Ss,us,fs,ni){var xn=this.props;if(1===De&&0===fe&&0===Fe&&0===Ut&&0===kt&&1===Kn&&0===Or&&0===Mr&&0===Vi&&0===Xr&&1===ys&&0===Vs)return xn[12]=xn[12]*De+xn[15]*Ss,xn[13]=xn[13]*Kn+xn[15]*us,xn[14]=xn[14]*ys+xn[15]*fs,xn[15]*=ni,this._identityCalculated=!1,this;var ri=xn[0],As=xn[1],go=xn[2],No=xn[3],an=xn[4],wr=xn[5],Us=xn[6],wi=xn[7],Rn=xn[8],Vn=xn[9],bo=xn[10],Cn=xn[11],At=xn[12],Yt=xn[13],Di=xn[14],Oo=xn[15];return xn[0]=ri*De+As*kt+go*Vi+No*Ss,xn[1]=ri*fe+As*Kn+go*Xr+No*us,xn[2]=ri*Fe+As*Or+go*ys+No*fs,xn[3]=ri*Ut+As*Mr+go*Vs+No*ni,xn[4]=an*De+wr*kt+Us*Vi+wi*Ss,xn[5]=an*fe+wr*Kn+Us*Xr+wi*us,xn[6]=an*Fe+wr*Or+Us*ys+wi*fs,xn[7]=an*Ut+wr*Mr+Us*Vs+wi*ni,xn[8]=Rn*De+Vn*kt+bo*Vi+Cn*Ss,xn[9]=Rn*fe+Vn*Kn+bo*Xr+Cn*us,xn[10]=Rn*Fe+Vn*Or+bo*ys+Cn*fs,xn[11]=Rn*Ut+Vn*Mr+bo*Vs+Cn*ni,xn[12]=At*De+Yt*kt+Di*Vi+Oo*Ss,xn[13]=At*fe+Yt*Kn+Di*Xr+Oo*us,xn[14]=At*Fe+Yt*Or+Di*ys+Oo*fs,xn[15]=At*Ut+Yt*Mr+Di*Vs+Oo*ni,this._identityCalculated=!1,this}function U(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function z(De){for(var fe=0;fe<16;){if(De.props[fe]!==this.props[fe])return!1;fe+=1}return!0}function X(De){var fe;for(fe=0;fe<16;fe+=1)De.props[fe]=this.props[fe];return De}function W(De){var fe;for(fe=0;fe<16;fe+=1)this.props[fe]=De[fe]}function J(De,fe,Fe){return{x:De*this.props[0]+fe*this.props[4]+Fe*this.props[8]+this.props[12],y:De*this.props[1]+fe*this.props[5]+Fe*this.props[9]+this.props[13],z:De*this.props[2]+fe*this.props[6]+Fe*this.props[10]+this.props[14]}}function se(De,fe,Fe){return De*this.props[0]+fe*this.props[4]+Fe*this.props[8]+this.props[12]}function pe(De,fe,Fe){return De*this.props[1]+fe*this.props[5]+Fe*this.props[9]+this.props[13]}function ve(De,fe,Fe){return De*this.props[2]+fe*this.props[6]+Fe*this.props[10]+this.props[14]}function be(){var De=this.props[0]*this.props[5]-this.props[1]*this.props[4],fe=this.props[5]/De,Fe=-this.props[1]/De,Ut=-this.props[4]/De,kt=this.props[0]/De,Kn=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/De,Or=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/De,Mr=new $t;return Mr.props[0]=fe,Mr.props[1]=Fe,Mr.props[4]=Ut,Mr.props[5]=kt,Mr.props[12]=Kn,Mr.props[13]=Or,Mr}function vt(De){return this.getInverseMatrix().applyToPointArray(De[0],De[1],De[2]||0)}function Zt(De){var fe,Fe=De.length,Ut=[];for(fe=0;fe<Fe;fe+=1)Ut[fe]=vt(De[fe]);return Ut}function Jt(De,fe,Fe){var Ut=rt("float32",6);if(this.isIdentity())Ut[0]=De[0],Ut[1]=De[1],Ut[2]=fe[0],Ut[3]=fe[1],Ut[4]=Fe[0],Ut[5]=Fe[1];else{var kt=this.props[0],Kn=this.props[1],Or=this.props[4],Mr=this.props[5],Vi=this.props[12],Xr=this.props[13];Ut[0]=De[0]*kt+De[1]*Or+Vi,Ut[1]=De[0]*Kn+De[1]*Mr+Xr,Ut[2]=fe[0]*kt+fe[1]*Or+Vi,Ut[3]=fe[0]*Kn+fe[1]*Mr+Xr,Ut[4]=Fe[0]*kt+Fe[1]*Or+Vi,Ut[5]=Fe[0]*Kn+Fe[1]*Mr+Xr}return Ut}function tn(De,fe,Fe){return this.isIdentity()?[De,fe,Fe]:[De*this.props[0]+fe*this.props[4]+Fe*this.props[8]+this.props[12],De*this.props[1]+fe*this.props[5]+Fe*this.props[9]+this.props[13],De*this.props[2]+fe*this.props[6]+Fe*this.props[10]+this.props[14]]}function An(De,fe){if(this.isIdentity())return De+","+fe;var Fe=this.props;return Math.round(100*(De*Fe[0]+fe*Fe[4]+Fe[12]))/100+","+Math.round(100*(De*Fe[1]+fe*Fe[5]+Fe[13]))/100}function kn(){for(var De=0,fe=this.props,Fe="matrix3d(";De<16;)Fe+=x(1e4*fe[De])/1e4,Fe+=15===De?")":",",De+=1;return Fe}function Vt(De){return De<1e-6&&De>0||De>-1e-6&&De<0?x(1e4*De)/1e4:De}function $e(){var De=this.props;return"matrix("+Vt(De[0])+","+Vt(De[1])+","+Vt(De[4])+","+Vt(De[5])+","+Vt(De[12])+","+Vt(De[13])+")"}return function(){this.reset=$,this.rotate=G,this.rotateX=le,this.rotateY=Ne,this.rotateZ=he,this.skew=Xe,this.skewFromAxis=Pt,this.shear=He,this.scale=ge,this.setTransform=I,this.translate=k,this.transform=T,this.applyToPoint=J,this.applyToX=se,this.applyToY=pe,this.applyToZ=ve,this.applyToPointArray=tn,this.applyToTriplePoints=Jt,this.applyToPointStringified=An,this.toCSS=kn,this.to2dCSS=$e,this.clone=X,this.cloneFromProps=W,this.equals=z,this.inversePoints=Zt,this.inversePoint=vt,this.getInverseMatrix=be,this._t=this.transform,this.isIdentity=U,this._identity=!0,this._identityCalculated=!1,this.props=rt("float32",16),this.reset()}}();function Tn(u){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(u)}var un={};function bt(){Qn.searchAnimations()}un.play=Qn.play,un.pause=Qn.pause,un.setLocationHref=function st(u){O=u},un.togglePause=Qn.togglePause,un.setSpeed=Qn.setSpeed,un.setDirection=Qn.setDirection,un.stop=Qn.stop,un.searchAnimations=bt,un.registerAnimation=Qn.registerAnimation,un.loadAnimation=function $n(u){return Qn.loadAnimation(u)},un.setSubframeRendering=function In(u){St=!!u},un.resize=Qn.resize,un.goToAndStop=Qn.goToAndStop,un.destroy=Qn.destroy,un.setQuality=function oi(u){if("string"==typeof u)switch(u){case"high":Dr(200);break;default:case"medium":Dr(50);break;case"low":Dr(10)}else!isNaN(u)&&u>1&&Dr(u);mi()},un.inBrowser=function Ji(){return typeof navigator<"u"},un.installPlugin=function qn(u,p){"expressions"===u&&function(p){dt=p}(p)},un.freeze=Qn.freeze,un.unfreeze=Qn.unfreeze,un.setVolume=Qn.setVolume,un.mute=Qn.mute,un.unmute=Qn.unmute,un.getRegisteredAnimations=Qn.getRegisteredAnimations,un.useWebWorker=function(p){ee=!!p},un.setIDPrefix=function Hn(u){on=u},un.__getFactory=function Wi(u){switch(u){case"propertyFactory":return zt;case"shapePropertyFactory":return ot;case"matrix":return $t;default:return null}},un.version="5.10.2";var Oi="",Qr=document.getElementsByTagName("script"),ns=Qr[Qr.length-1]||{src:""};Oi=ns.src?ns.src.replace(/^[^\?]+\??/,""):"",function lo(u){for(var p=Oi.split("&"),_=0;_<p.length;_+=1){var x=p[_].split("=");if(decodeURIComponent(x[0])==u)return decodeURIComponent(x[1])}return null}("renderer");var Fi=setInterval(function Ni(){"complete"===document.readyState&&(clearInterval(Fi),bt())},100);try{Tn(at)}catch{}var qr=function(){var u={},p={};return u.registerModifier=function _($,G){p[$]||(p[$]=G)},u.getModifier=function x($,G,le){return new p[$](G,le)},u}();function vi(){}function vr(){}function _o(){}vi.prototype.initModifierProperties=function(){},vi.prototype.addShapeToModifier=function(){},vi.prototype.addShape=function(u){if(!this.closed){u.sh.container.addDynamicProperty(u.sh);var p={shape:u.sh,data:u,localShapeCollection:Ie.newShapeCollection()};this.shapes.push(p),this.addShapeToModifier(p),this._isAnimated&&u.setAsAnimated()}},vi.prototype.init=function(u,p){this.shapes=[],this.elem=u,this.initDynamicPropertyContainer(u),this.initModifierProperties(u,p),this.frameId=Ve,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},vi.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},de([Le],vi),de([vi],vr),vr.prototype.initModifierProperties=function(u,p){this.s=zt.getProp(u,p.s,0,.01,this),this.e=zt.getProp(u,p.e,0,.01,this),this.o=zt.getProp(u,p.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=p.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},vr.prototype.addShapeToModifier=function(u){u.pathsData=[]},vr.prototype.calculateShapeEdges=function(u,p,_,x,$){var G=[];p<=1?G.push({s:u,e:p}):u>=1?G.push({s:u-1,e:p-1}):(G.push({s:u,e:1}),G.push({s:0,e:p-1}));var Ne,He,le=[],he=G.length;for(Ne=0;Ne<he;Ne+=1)(He=G[Ne]).e*$<x||He.s*$>x+_||le.push([He.s*$<=x?0:(He.s*$-x)/_,He.e*$>=x+_?1:(He.e*$-x)/_]);return le.length||le.push([0,0]),le},vr.prototype.releasePathsData=function(u){var p,_=u.length;for(p=0;p<_;p+=1)wn.release(u[p]);return u.length=0,u},vr.prototype.processShapes=function(u){var p,_;if(this._mdf||u){var x=this.o.v%360/360;if(x<0&&(x+=1),(p=this.s.v>1?1+x:this.s.v<0?0+x:this.s.v+x)>(_=this.e.v>1?1+x:this.e.v<0?0+x:this.e.v+x)){var $=p;p=_,_=$}p=1e-4*Math.round(1e4*p),_=1e-4*Math.round(1e4*_),this.sValue=p,this.eValue=_}else p=this.sValue,_=this.eValue;var G,le,he,He,Xe,Pt,ge,Ne=this.shapes.length,I=0;if(_===p)for(le=0;le<Ne;le+=1)this.shapes[le].localShapeCollection.releaseShapes(),this.shapes[le].shape._mdf=!0,this.shapes[le].shape.paths=this.shapes[le].localShapeCollection,this._mdf&&(this.shapes[le].pathsData.length=0);else if(1===_&&0===p||0===_&&1===p){if(this._mdf)for(le=0;le<Ne;le+=1)this.shapes[le].pathsData.length=0,this.shapes[le].shape._mdf=!0}else{var T,U,k=[];for(le=0;le<Ne;le+=1)if((T=this.shapes[le]).shape._mdf||this._mdf||u||2===this.m){if(He=(G=T.shape.paths)._length,ge=0,!T.shape._mdf&&T.pathsData.length)ge=T.totalShapeLength;else{for(Xe=this.releasePathsData(T.pathsData),he=0;he<He;he+=1)Pt=Wn.getSegmentsLength(G.shapes[he]),Xe.push(Pt),ge+=Pt.totalLength;T.totalShapeLength=ge,T.pathsData=Xe}I+=ge,T.shape._mdf=!0}else T.shape.paths=T.localShapeCollection;var J,z=p,X=_,W=0;for(le=Ne-1;le>=0;le-=1)if((T=this.shapes[le]).shape._mdf){for((U=T.localShapeCollection).releaseShapes(),2===this.m&&Ne>1?(J=this.calculateShapeEdges(p,_,T.totalShapeLength,W,I),W+=T.totalShapeLength):J=[[z,X]],He=J.length,he=0;he<He;he+=1){z=J[he][0],X=J[he][1],k.length=0,X<=1?k.push({s:T.totalShapeLength*z,e:T.totalShapeLength*X}):z>=1?k.push({s:T.totalShapeLength*(z-1),e:T.totalShapeLength*(X-1)}):(k.push({s:T.totalShapeLength*z,e:T.totalShapeLength}),k.push({s:0,e:T.totalShapeLength*(X-1)}));var se=this.addShapes(T,k[0]);if(k[0].s!==k[0].e){if(k.length>1)if(T.shape.paths.shapes[T.shape.paths._length-1].c){var ve=se.pop();this.addPaths(se,U),se=this.addShapes(T,k[1],ve)}else this.addPaths(se,U),se=this.addShapes(T,k[1]);this.addPaths(se,U)}}T.shape.paths=U}}},vr.prototype.addPaths=function(u,p){var _,x=u.length;for(_=0;_<x;_+=1)p.addShape(u[_])},vr.prototype.addSegment=function(u,p,_,x,$,G,le){$.setXYAt(p[0],p[1],"o",G),$.setXYAt(_[0],_[1],"i",G+1),le&&$.setXYAt(u[0],u[1],"v",G),$.setXYAt(x[0],x[1],"v",G+1)},vr.prototype.addSegmentFromArray=function(u,p,_,x){p.setXYAt(u[1],u[5],"o",_),p.setXYAt(u[2],u[6],"i",_+1),x&&p.setXYAt(u[0],u[4],"v",_),p.setXYAt(u[3],u[7],"v",_+1)},vr.prototype.addShapes=function(u,p,_){var G,Ne,he,Xe,Pt,ge,I,T,x=u.pathsData,$=u.shape.paths.shapes,le=u.shape.paths._length,He=0,k=[],U=!0;for(_?(Pt=_._length,T=_._length):(_=Te.newElement(),Pt=0,T=0),k.push(_),G=0;G<le;G+=1){for(ge=x[G].lengths,_.c=$[G].c,he=$[G].c?ge.length:ge.length+1,Ne=1;Ne<he;Ne+=1)if(He+(Xe=ge[Ne-1]).addedLength<p.s)He+=Xe.addedLength,_.c=!1;else{if(He>p.e){_.c=!1;break}p.s<=He&&p.e>=He+Xe.addedLength?(this.addSegment($[G].v[Ne-1],$[G].o[Ne-1],$[G].i[Ne],$[G].v[Ne],_,Pt,U),U=!1):(I=Wn.getNewSegment($[G].v[Ne-1],$[G].v[Ne],$[G].o[Ne-1],$[G].i[Ne],(p.s-He)/Xe.addedLength,(p.e-He)/Xe.addedLength,ge[Ne-1]),this.addSegmentFromArray(I,_,Pt,U),U=!1,_.c=!1),He+=Xe.addedLength,Pt+=1}if($[G].c&&ge.length){if(Xe=ge[Ne-1],He<=p.e){var z=ge[Ne-1].addedLength;p.s<=He&&p.e>=He+z?(this.addSegment($[G].v[Ne-1],$[G].o[Ne-1],$[G].i[0],$[G].v[0],_,Pt,U),U=!1):(I=Wn.getNewSegment($[G].v[Ne-1],$[G].v[0],$[G].o[Ne-1],$[G].i[0],(p.s-He)/z,(p.e-He)/z,ge[Ne-1]),this.addSegmentFromArray(I,_,Pt,U),U=!1,_.c=!1)}else _.c=!1;He+=Xe.addedLength,Pt+=1}if(_._length&&(_.setXYAt(_.v[T][0],_.v[T][1],"i",T),_.setXYAt(_.v[_._length-1][0],_.v[_._length-1][1],"o",_._length-1)),He>p.e)break;G<le-1&&(_=Te.newElement(),U=!0,k.push(_),Pt=0)}return k},de([vi],_o),_o.prototype.initModifierProperties=function(u,p){this.getValue=this.processKeys,this.amount=zt.getProp(u,p.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},_o.prototype.processPath=function(u,p){var _=p/100,x=[0,0],$=u._length,G=0;for(G=0;G<$;G+=1)x[0]+=u.v[G][0],x[1]+=u.v[G][1];x[0]/=$,x[1]/=$;var le=Te.newElement();for(le.c=u.c,G=0;G<$;G+=1)le.setTripleAt(u.v[G][0]+(x[0]-u.v[G][0])*_,u.v[G][1]+(x[1]-u.v[G][1])*_,u.o[G][0]+(x[0]-u.o[G][0])*-_,u.o[G][1]+(x[1]-u.o[G][1])*-_,u.i[G][0]+(x[0]-u.i[G][0])*-_,u.i[G][1]+(x[1]-u.i[G][1])*-_,G);return le},_o.prototype.processShapes=function(u){var p,_,$,G,Ne,he,x=this.shapes.length,le=this.amount.v;if(0!==le)for(_=0;_<x;_+=1){if(he=(Ne=this.shapes[_]).localShapeCollection,Ne.shape._mdf||this._mdf||u)for(he.releaseShapes(),Ne.shape._mdf=!0,p=Ne.shape.paths.shapes,G=Ne.shape.paths._length,$=0;$<G;$+=1)he.addShape(this.processPath(p[$],le));Ne.shape.paths=Ne.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var rs=function(){var u=[0,0];function le(he,He,Xe){if(this.elem=he,this.frameId=-1,this.propType="transform",this.data=He,this.v=new $t,this.pre=new $t,this.appliedTransformations=0,this.initDynamicPropertyContainer(Xe||he),He.p&&He.p.s?(this.px=zt.getProp(he,He.p.x,0,0,this),this.py=zt.getProp(he,He.p.y,0,0,this),He.p.z&&(this.pz=zt.getProp(he,He.p.z,0,0,this))):this.p=zt.getProp(he,He.p||{k:[0,0,0]},1,0,this),He.rx){if(this.rx=zt.getProp(he,He.rx,0,yt,this),this.ry=zt.getProp(he,He.ry,0,yt,this),this.rz=zt.getProp(he,He.rz,0,yt,this),He.or.k[0].ti){var Pt,ge=He.or.k.length;for(Pt=0;Pt<ge;Pt+=1)He.or.k[Pt].to=null,He.or.k[Pt].ti=null}this.or=zt.getProp(he,He.or,1,yt,this),this.or.sh=!0}else this.r=zt.getProp(he,He.r||{k:0},0,yt,this);He.sk&&(this.sk=zt.getProp(he,He.sk,0,yt,this),this.sa=zt.getProp(he,He.sa,0,yt,this)),this.a=zt.getProp(he,He.a||{k:[0,0,0]},1,0,this),this.s=zt.getProp(he,He.s||{k:[100,100,100]},1,.01,this),this.o=He.o?zt.getProp(he,He.o,0,.01,he):{_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return le.prototype={applyToMatrix:function p(he){var He=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||He,this.a&&he.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&he.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&he.skewFromAxis(-this.sk.v,this.sa.v),this.r?he.rotate(-this.r.v):he.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?he.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):he.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function _(he){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||he){var He;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var Xe,Pt;if(He=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(Xe=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/He,0),Pt=this.p.getValueAtTime(this.p.keyframes[0].t/He,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(Xe=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/He,0),Pt=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/He,0)):(Xe=this.p.pv,Pt=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/He,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){Xe=[],Pt=[];var ge=this.px,I=this.py;ge._caching.lastFrame+ge.offsetTime<=ge.keyframes[0].t?(Xe[0]=ge.getValueAtTime((ge.keyframes[0].t+.01)/He,0),Xe[1]=I.getValueAtTime((I.keyframes[0].t+.01)/He,0),Pt[0]=ge.getValueAtTime(ge.keyframes[0].t/He,0),Pt[1]=I.getValueAtTime(I.keyframes[0].t/He,0)):ge._caching.lastFrame+ge.offsetTime>=ge.keyframes[ge.keyframes.length-1].t?(Xe[0]=ge.getValueAtTime(ge.keyframes[ge.keyframes.length-1].t/He,0),Xe[1]=I.getValueAtTime(I.keyframes[I.keyframes.length-1].t/He,0),Pt[0]=ge.getValueAtTime((ge.keyframes[ge.keyframes.length-1].t-.01)/He,0),Pt[1]=I.getValueAtTime((I.keyframes[I.keyframes.length-1].t-.01)/He,0)):(Xe=[ge.pv,I.pv],Pt[0]=ge.getValueAtTime((ge._caching.lastFrame+ge.offsetTime-.01)/He,ge.offsetTime),Pt[1]=I.getValueAtTime((I._caching.lastFrame+I.offsetTime-.01)/He,I.offsetTime))}else Xe=Pt=u;this.v.rotate(-Math.atan2(Xe[1]-Pt[1],Xe[0]-Pt[0]))}this.data.p&&this.data.p.s?this.v.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function x(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function $(){}},de([Le],le),le.prototype.addDynamicProperty=function G(he){this._addDynamicProperty(he),this.elem.addDynamicProperty(he),this._isDirty=!0},le.prototype._addDynamicProperty=Le.prototype.addDynamicProperty,{getTransformProperty:function Ne(he,He,Xe){return new le(he,He,Xe)}}}();function ki(){}function ms(){}function Li(u,p){return 1e5*Math.abs(u-p)<=Math.min(Math.abs(u),Math.abs(p))}function Ei(u){return Math.abs(u)<=1e-5}function Ws(u,p,_){return u*(1-_)+p*_}function Vr(u,p,_){return[Ws(u[0],p[0],_),Ws(u[1],p[1],_)]}function Ti(u,p,_,x){return[3*p-u-3*_+x,3*u-6*p+3*_,-3*u+3*p,u]}function is(u){return new $r(u,u,u,u,!1)}function $r(u,p,_,x,$){$&&it(u,p)&&(p=Vr(u,x,1/3)),$&&it(_,x)&&(_=Vr(u,x,2/3));var G=Ti(u[0],p[0],_[0],x[0]),le=Ti(u[1],p[1],_[1],x[1]);this.a=[G[0],le[0]],this.b=[G[1],le[1]],this.c=[G[2],le[2]],this.d=[G[3],le[3]],this.points=[u,p,_,x]}function jo(u,p){var _=u.points[0][p],x=u.points[u.points.length-1][p];if(_>x){var $=x;x=_,_=$}for(var G=function cs(u,p,_){if(0===u)return[];var x=p*p-4*u*_;if(x<0)return[];var $=-p/(2*u);if(0===x)return[$];var G=Math.sqrt(x)/(2*u);return[$-G,$+G]}(3*u.a[p],2*u.b[p],u.c[p]),le=0;le<G.length;le+=1)if(G[le]>0&&G[le]<1){var Ne=u.point(G[le])[p];Ne<_?_=Ne:Ne>x&&(x=Ne)}return{min:_,max:x}}function Mo(u,p,_){var x=u.boundingBox();return{cx:x.cx,cy:x.cy,width:x.width,height:x.height,bez:u,t:(p+_)/2,t1:p,t2:_}}function Jr(u){var p=u.bez.split(.5);return[Mo(p[0],u.t1,u.t),Mo(p[1],u.t,u.t2)]}function Ps(u,p,_,x,$,G){if(function Eo(u,p){return 2*Math.abs(u.cx-p.cx)<u.width+p.width&&2*Math.abs(u.cy-p.cy)<u.height+p.height}(u,p)){if(_>=G||u.width<=x&&u.height<=x&&p.width<=x&&p.height<=x)return void $.push([u.t,p.t]);var le=Jr(u),Ne=Jr(p);Ps(le[0],Ne[0],_+1,x,$,G),Ps(le[0],Ne[1],_+1,x,$,G),Ps(le[1],Ne[0],_+1,x,$,G),Ps(le[1],Ne[1],_+1,x,$,G)}}function uo(u,p){return[u[1]*p[2]-u[2]*p[1],u[2]*p[0]-u[0]*p[2],u[0]*p[1]-u[1]*p[0]]}function ds(u,p,_,x){var le=[_[0],_[1],1],Ne=[x[0],x[1],1],he=uo(uo([u[0],u[1],1],[p[0],p[1],1]),uo(le,Ne));return Ei(he[2])?null:[he[0]/he[2],he[1]/he[2]]}function hs(u,p,_){return[u[0]+Math.cos(p)*_,u[1]-Math.sin(p)*_]}function ii(u,p){return Math.hypot(u[0]-p[0],u[1]-p[1])}function it(u,p){return Li(u[0],p[0])&&Li(u[1],p[1])}function Je(){}function mt(u,p,_,x,$,G,le){var Ne=_-Math.PI/2,he=_+Math.PI/2,He=p[0]+Math.cos(_)*x*$,Xe=p[1]-Math.sin(_)*x*$;u.setTripleAt(He,Xe,He+Math.cos(Ne)*G,Xe-Math.sin(Ne)*G,He+Math.cos(he)*le,Xe-Math.sin(he)*le,u.length())}function En(u,p){var _=0===p?u.length()-1:p-1,x=(p+1)%u.length(),le=function Kt(u,p){var _=[p[0]-u[0],p[1]-u[1]],x=.5*-Math.PI;return[Math.cos(x)*_[0]-Math.sin(x)*_[1],Math.sin(x)*_[0]+Math.cos(x)*_[1]]}(u.v[_],u.v[x]);return Math.atan2(0,1)-Math.atan2(le[1],le[0])}function tr(u,p,_,x,$,G,le){var Ne=En(p,_),he=p.v[_%p._length],He=p.v[0===_?p._length-1:_-1],Xe=p.v[(_+1)%p._length],Pt=2===G?Math.sqrt(Math.pow(he[0]-He[0],2)+Math.pow(he[1]-He[1],2)):0,ge=2===G?Math.sqrt(Math.pow(he[0]-Xe[0],2)+Math.pow(he[1]-Xe[1],2)):0;mt(u,p.v[_%p._length],Ne,le,x,ge/(2*($+1)),Pt/(2*($+1)))}function Tr(u,p,_,x,$,G){for(var le=0;le<x;le+=1){var Ne=(le+1)/(x+1),he=2===$?Math.sqrt(Math.pow(p.points[3][0]-p.points[0][0],2)+Math.pow(p.points[3][1]-p.points[0][1],2)):0,He=p.normalAngle(Ne);mt(u,p.point(Ne),He,G,_,he/(2*(x+1)),he/(2*(x+1))),G=-G}return G}function di(u,p,_){var x=Math.atan2(p[0]-u[0],p[1]-u[1]);return[hs(u,x,_),hs(p,x,_)]}function Hr(u,p){var _,x,$,G,le,Ne,he;_=(he=di(u.points[0],u.points[1],p))[0],x=he[1],$=(he=di(u.points[1],u.points[2],p))[0],G=he[1],le=(he=di(u.points[2],u.points[3],p))[0],Ne=he[1];var He=ds(_,x,$,G);null===He&&(He=x);var Xe=ds(le,Ne,$,G);return null===Xe&&(Xe=le),new $r(_,He,Xe,Ne)}function to(u,p,_,x,$){var G=p.points[3],le=_.points[0];if(3===x||it(G,le))return G;if(2===x){var Ne=-p.tangentAngle(1),he=-_.tangentAngle(0)+Math.PI,He=ds(G,hs(G,Ne+Math.PI/2,100),le,hs(le,Ne+Math.PI/2,100)),Xe=He?ii(He,G):ii(G,le)/2,Pt=hs(G,Ne,2*Xe*Me);return u.setXYAt(Pt[0],Pt[1],"o",u.length()-1),Pt=hs(le,he,2*Xe*Me),u.setTripleAt(le[0],le[1],le[0],le[1],Pt[0],Pt[1],u.length()),le}var k=ds(it(G,p.points[2])?p.points[0]:p.points[2],G,le,it(le,_.points[1])?_.points[3]:_.points[1]);return k&&ii(k,G)<$?(u.setTripleAt(k[0],k[1],k[0],k[1],k[0],k[1],u.length()),k):G}function bs(u,p){var _=u.intersections(p);return _.length&&Li(_[0][0],1)&&_.shift(),_.length?_[0]:null}function Ii(u,p){var _=u.slice(),x=p.slice(),$=bs(u[u.length-1],p[0]);return $&&(_[u.length-1]=u[u.length-1].split($[0])[0],x[0]=p[0].split($[1])[1]),u.length>1&&p.length>1&&($=bs(u[0],p[p.length-1]))?[[u[0].split($[0])[0]],[p[p.length-1].split($[1])[1]]]:[_,x]}function ho(u,p){var x,$,G,le,_=u.inflectionPoints();return 0===_.length?[Hr(u,p)]:1===_.length||Li(_[1],1)?($=(G=u.split(_[0]))[1],[Hr(x=G[0],p),Hr($,p)]):(x=(G=u.split(_[0]))[0],le=(G=G[1].split((_[1]-_[0])/(1-_[0])))[0],$=G[1],[Hr(x,p),Hr(le,p),Hr($,p)])}function qi(){}function $o(u){for(var G,p=u.fStyle?u.fStyle.split(" "):[],_="normal",x="normal",$=p.length,le=0;le<$;le+=1)switch(G=p[le].toLowerCase(),G){case"italic":x="italic";break;case"bold":_="700";break;case"black":_="900";break;case"medium":_="500";break;case"regular":case"normal":_="400";break;case"light":case"thin":_="200"}return{style:x,weight:u.fWeight||_}}de([vi],ki),ki.prototype.initModifierProperties=function(u,p){this.getValue=this.processKeys,this.c=zt.getProp(u,p.c,0,null,this),this.o=zt.getProp(u,p.o,0,null,this),this.tr=rs.getTransformProperty(u,p.tr,this),this.so=zt.getProp(u,p.tr.so,0,.01,this),this.eo=zt.getProp(u,p.tr.eo,0,.01,this),this.data=p,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new $t,this.rMatrix=new $t,this.sMatrix=new $t,this.tMatrix=new $t,this.matrix=new $t},ki.prototype.applyTransforms=function(u,p,_,x,$,G){var le=G?-1:1,Ne=x.s.v[0]+(1-x.s.v[0])*(1-$),he=x.s.v[1]+(1-x.s.v[1])*(1-$);u.translate(x.p.v[0]*le*$,x.p.v[1]*le*$,x.p.v[2]),p.translate(-x.a.v[0],-x.a.v[1],x.a.v[2]),p.rotate(-x.r.v*le*$),p.translate(x.a.v[0],x.a.v[1],x.a.v[2]),_.translate(-x.a.v[0],-x.a.v[1],x.a.v[2]),_.scale(G?1/Ne:Ne,G?1/he:he),_.translate(x.a.v[0],x.a.v[1],x.a.v[2])},ki.prototype.init=function(u,p,_,x){for(this.elem=u,this.arr=p,this.pos=_,this.elemsData=x,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(u),this.initModifierProperties(u,p[_]);_>0;)this._elements.unshift(p[_-=1]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ki.prototype.resetElements=function(u){var p,_=u.length;for(p=0;p<_;p+=1)u[p]._processed=!1,"gr"===u[p].ty&&this.resetElements(u[p].it)},ki.prototype.cloneElements=function(u){var p=JSON.parse(JSON.stringify(u));return this.resetElements(p),p},ki.prototype.changeGroupRender=function(u,p){var _,x=u.length;for(_=0;_<x;_+=1)u[_]._render=p,"gr"===u[_].ty&&this.changeGroupRender(u[_].it,p)},ki.prototype.processShapes=function(u){var p,_,x,$,G,le=!1;if(this._mdf||u){var He,Ne=Math.ceil(this.c.v);if(this._groups.length<Ne){for(;this._groups.length<Ne;){var he={it:this.cloneElements(this._elements),ty:"gr"};he.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,he),this._groups.splice(0,0,he),this._currentCopies+=1}this.elem.reloadShapes(),le=!0}for(G=0,x=0;x<=this._groups.length-1;x+=1){if(this._groups[x]._render=He=G<Ne,this.changeGroupRender(this._groups[x].it,He),!He){var Xe=this.elemsData[x].it,Pt=Xe[Xe.length-1];0!==Pt.transform.op.v?(Pt.transform.op._mdf=!0,Pt.transform.op.v=0):Pt.transform.op._mdf=!1}G+=1}this._currentCopies=Ne;var ge=this.o.v,I=ge%1,k=ge>0?Math.floor(ge):Math.ceil(ge),T=this.pMatrix.props,U=this.rMatrix.props,z=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var W,J,X=0;if(ge>0){for(;X<k;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),X+=1;I&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,I,!1),X+=I)}else if(ge<0){for(;X>k;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),X-=1;I&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-I,!0),X-=I)}for(x=1===this.data.m?0:this._currentCopies-1,$=1===this.data.m?1:-1,G=this._currentCopies;G;){if(J=(_=(p=this.elemsData[x].it)[p.length-1].transform.mProps.v.props).length,p[p.length-1].transform.mProps._mdf=!0,p[p.length-1].transform.op._mdf=!0,p[p.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+x/(this._currentCopies-1)*(this.eo.v-this.so.v),0!==X){for((0!==x&&1===$||x!==this._currentCopies-1&&-1===$)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(U[0],U[1],U[2],U[3],U[4],U[5],U[6],U[7],U[8],U[9],U[10],U[11],U[12],U[13],U[14],U[15]),this.matrix.transform(z[0],z[1],z[2],z[3],z[4],z[5],z[6],z[7],z[8],z[9],z[10],z[11],z[12],z[13],z[14],z[15]),this.matrix.transform(T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],T[8],T[9],T[10],T[11],T[12],T[13],T[14],T[15]),W=0;W<J;W+=1)_[W]=this.matrix.props[W];this.matrix.reset()}else for(this.matrix.reset(),W=0;W<J;W+=1)_[W]=this.matrix.props[W];X+=1,G-=1,x+=$}}else for(G=this._currentCopies,x=0,$=1;G;)_=(p=this.elemsData[x].it)[p.length-1].transform.mProps.v.props,p[p.length-1].transform.mProps._mdf=!1,p[p.length-1].transform.op._mdf=!1,G-=1,x+=$;return le},ki.prototype.addShape=function(){},de([vi],ms),ms.prototype.initModifierProperties=function(u,p){this.getValue=this.processKeys,this.rd=zt.getProp(u,p.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},ms.prototype.processPath=function(u,p){var _=Te.newElement();_.c=u.c;var x,G,le,Ne,he,He,Xe,ge,I,k,T,U,z,$=u._length,Pt=0;for(x=0;x<$;x+=1)le=u.i[x],(G=u.v[x])[0]===(Ne=u.o[x])[0]&&G[1]===Ne[1]&&G[0]===le[0]&&G[1]===le[1]?0!==x&&x!==$-1||u.c?(he=0===x?u.v[$-1]:u.v[x-1],Xe=(He=Math.sqrt(Math.pow(G[0]-he[0],2)+Math.pow(G[1]-he[1],2)))?Math.min(He/2,p)/He:0,_.setTripleAt(ge=U=G[0]+(he[0]-G[0])*Xe,I=z=G[1]-(G[1]-he[1])*Xe,ge-(ge-G[0])*Me,I-(I-G[1])*Me,U,z,Pt),Pt+=1,he=x===$-1?u.v[0]:u.v[x+1],Xe=(He=Math.sqrt(Math.pow(G[0]-he[0],2)+Math.pow(G[1]-he[1],2)))?Math.min(He/2,p)/He:0,_.setTripleAt(ge=k=G[0]+(he[0]-G[0])*Xe,I=T=G[1]+(he[1]-G[1])*Xe,k,T,U=ge-(ge-G[0])*Me,z=I-(I-G[1])*Me,Pt),Pt+=1):(_.setTripleAt(G[0],G[1],Ne[0],Ne[1],le[0],le[1],Pt),Pt+=1):(_.setTripleAt(u.v[x][0],u.v[x][1],u.o[x][0],u.o[x][1],u.i[x][0],u.i[x][1],Pt),Pt+=1);return _},ms.prototype.processShapes=function(u){var p,_,$,G,Ne,he,x=this.shapes.length,le=this.rd.v;if(0!==le)for(_=0;_<x;_+=1){if(he=(Ne=this.shapes[_]).localShapeCollection,Ne.shape._mdf||this._mdf||u)for(he.releaseShapes(),Ne.shape._mdf=!0,p=Ne.shape.paths.shapes,G=Ne.shape.paths._length,$=0;$<G;$+=1)he.addShape(this.processPath(p[$],le));Ne.shape.paths=Ne.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},$r.prototype.point=function(u){return[((this.a[0]*u+this.b[0])*u+this.c[0])*u+this.d[0],((this.a[1]*u+this.b[1])*u+this.c[1])*u+this.d[1]]},$r.prototype.derivative=function(u){return[(3*u*this.a[0]+2*this.b[0])*u+this.c[0],(3*u*this.a[1]+2*this.b[1])*u+this.c[1]]},$r.prototype.tangentAngle=function(u){var p=this.derivative(u);return Math.atan2(p[1],p[0])},$r.prototype.normalAngle=function(u){var p=this.derivative(u);return Math.atan2(p[0],p[1])},$r.prototype.inflectionPoints=function(){var u=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(Ei(u))return[];var p=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/u,_=p*p-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/u;if(_<0)return[];var x=Math.sqrt(_);return Ei(x)?x>0&&x<1?[p]:[]:[p-x,p+x].filter(function($){return $>0&&$<1})},$r.prototype.split=function(u){if(u<=0)return[is(this.points[0]),this];if(u>=1)return[this,is(this.points[this.points.length-1])];var p=Vr(this.points[0],this.points[1],u),_=Vr(this.points[1],this.points[2],u),x=Vr(this.points[2],this.points[3],u),$=Vr(p,_,u),G=Vr(_,x,u),le=Vr($,G,u);return[new $r(this.points[0],p,$,le,!0),new $r(le,G,x,this.points[3],!0)]},$r.prototype.bounds=function(){return{x:jo(this,0),y:jo(this,1)}},$r.prototype.boundingBox=function(){var u=this.bounds();return{left:u.x.min,right:u.x.max,top:u.y.min,bottom:u.y.max,width:u.x.max-u.x.min,height:u.y.max-u.y.min,cx:(u.x.max+u.x.min)/2,cy:(u.y.max+u.y.min)/2}},$r.prototype.intersections=function(u,p,_){void 0===p&&(p=2),void 0===_&&(_=7);var x=[];return Ps(Mo(this,0,1),Mo(u,0,1),0,p,x,_),x},$r.shapeSegment=function(u,p){var _=(p+1)%u.length();return new $r(u.v[p],u.o[p],u.i[_],u.v[_],!0)},$r.shapeSegmentInverted=function(u,p){var _=(p+1)%u.length();return new $r(u.v[_],u.i[_],u.o[p],u.v[p],!0)},de([vi],Je),Je.prototype.initModifierProperties=function(u,p){this.getValue=this.processKeys,this.amplitude=zt.getProp(u,p.s,0,null,this),this.frequency=zt.getProp(u,p.r,0,null,this),this.pointsType=zt.getProp(u,p.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},Je.prototype.processPath=function(u,p,_,x){var $=u._length,G=Te.newElement();if(G.c=u.c,u.c||($-=1),0===$)return G;var le=-1,Ne=$r.shapeSegment(u,0);tr(G,u,0,p,_,x,le);for(var he=0;he<$;he+=1)le=Tr(G,Ne,p,_,x,-le),Ne=he!==$-1||u.c?$r.shapeSegment(u,(he+1)%$):null,tr(G,u,he+1,p,_,x,le);return G},Je.prototype.processShapes=function(u){var p,_,$,G,He,Xe,x=this.shapes.length,le=this.amplitude.v,Ne=Math.max(0,Math.round(this.frequency.v)),he=this.pointsType.v;if(0!==le)for(_=0;_<x;_+=1){if(Xe=(He=this.shapes[_]).localShapeCollection,He.shape._mdf||this._mdf||u)for(Xe.releaseShapes(),He.shape._mdf=!0,p=He.shape.paths.shapes,G=He.shape.paths._length,$=0;$<G;$+=1)Xe.addShape(this.processPath(p[$],le,Ne,he));He.shape.paths=He.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},de([vi],qi),qi.prototype.initModifierProperties=function(u,p){this.getValue=this.processKeys,this.amount=zt.getProp(u,p.a,0,null,this),this.miterLimit=zt.getProp(u,p.ml,0,null,this),this.lineJoin=p.lj,this._isAnimated=0!==this.amount.effectsSequence.length},qi.prototype.processPath=function(u,p,_,x){var $=Te.newElement();$.c=u.c;var G=u.length();u.c||(G-=1);var le,Ne,he,He=[];for(le=0;le<G;le+=1)he=$r.shapeSegment(u,le),He.push(ho(he,p));if(!u.c)for(le=G-1;le>=0;le-=1)he=$r.shapeSegmentInverted(u,le),He.push(ho(he,p));He=function co(u){for(var p,_=1;_<u.length;_+=1)p=Ii(u[_-1],u[_]),u[_-1]=p[0],u[_]=p[1];return u.length>1&&(p=Ii(u[u.length-1],u[0]),u[u.length-1]=p[0],u[0]=p[1]),u}(He);var Xe=null,Pt=null;for(le=0;le<He.length;le+=1){var ge=He[le];for(Pt&&(Xe=to($,Pt,ge[0],_,x)),Pt=ge[ge.length-1],Ne=0;Ne<ge.length;Ne+=1)he=ge[Ne],Xe&&it(he.points[0],Xe)?$.setXYAt(he.points[1][0],he.points[1][1],"o",$.length()-1):$.setTripleAt(he.points[0][0],he.points[0][1],he.points[1][0],he.points[1][1],he.points[0][0],he.points[0][1],$.length()),$.setTripleAt(he.points[3][0],he.points[3][1],he.points[3][0],he.points[3][1],he.points[2][0],he.points[2][1],$.length()),Xe=he.points[3]}return He.length&&to($,Pt,He[0][0],_,x),$},qi.prototype.processShapes=function(u){var p,_,$,G,He,Xe,x=this.shapes.length,le=this.amount.v,Ne=this.miterLimit.v,he=this.lineJoin;if(0!==le)for(_=0;_<x;_+=1){if(Xe=(He=this.shapes[_]).localShapeCollection,He.shape._mdf||this._mdf||u)for(Xe.releaseShapes(),He.shape._mdf=!0,p=He.shape.paths.shapes,G=He.shape.paths._length,$=0;$<G;$+=1)Xe.addShape(this.processPath(p[$],le,he,Ne));He.shape.paths=He.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var ks=function(){var p={w:0,size:0,shapes:[],data:{shapes:[]}},_=[];_=_.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var x=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],$=[65039,8205];function le(J,se){var pe=Qe("span");pe.setAttribute("aria-hidden",!0),pe.style.fontFamily=se;var ve=Qe("span");ve.innerText="giItT1WQy@!-/#",pe.style.position="absolute",pe.style.left="-10000px",pe.style.top="-10000px",pe.style.fontSize="300px",pe.style.fontVariant="normal",pe.style.fontStyle="normal",pe.style.fontWeight="normal",pe.style.letterSpacing="0",pe.appendChild(ve),document.body.appendChild(pe);var be=ve.offsetWidth;return ve.style.fontFamily=function G(J){var pe,se=J.split(","),ve=se.length,be=[];for(pe=0;pe<ve;pe+=1)"sans-serif"!==se[pe]&&"monospace"!==se[pe]&&be.push(se[pe]);return be.join(",")}(J)+", "+se,{node:ve,w:be,parent:pe}}function he(J,se){var ve,pe=document.body&&se?"svg":"canvas",be=$o(J);if("svg"===pe){var vt=cn("text");vt.style.fontSize="100px",vt.setAttribute("font-family",J.fFamily),vt.setAttribute("font-style",be.style),vt.setAttribute("font-weight",be.weight),vt.textContent="1",J.fClass?(vt.style.fontFamily="inherit",vt.setAttribute("class",J.fClass)):vt.style.fontFamily=J.fFamily,se.appendChild(vt),ve=vt}else{var Zt=new OffscreenCanvas(500,500).getContext("2d");Zt.font=be.style+" "+be.weight+" 100px "+J.fFamily,ve=Zt}return{measureText:function Jt(tn){return"svg"===pe?(ve.textContent=tn,ve.getComputedTextLength()):ve.measureText(tn).width}}}var X=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return X.isModifier=function k(J,se){var pe=J.toString(16)+se.toString(16);return-1!==x.indexOf(pe)},X.isZeroWidthJoiner=function T(J,se){return se?J===$[0]&&se===$[1]:J===$[1]},X.isCombinedCharacter=function U(J){return-1!==_.indexOf(J)},X.prototype={addChars:function Xe(J){if(J){this.chars||(this.chars=[]);var se,ve,vt,pe=J.length,be=this.chars.length;for(se=0;se<pe;se+=1){for(ve=0,vt=!1;ve<be;)this.chars[ve].style===J[se].style&&this.chars[ve].fFamily===J[se].fFamily&&this.chars[ve].ch===J[se].ch&&(vt=!0),ve+=1;vt||(this.chars.push(J[se]),be+=1)}}},addFonts:function He(J,se){if(J){if(this.chars)return this.isLoaded=!0,void(this.fonts=J.list);if(!document.body)return this.isLoaded=!0,J.list.forEach(function($e){$e.helper=he($e),$e.cache={}}),void(this.fonts=J.list);var ve,pe=J.list,be=pe.length,vt=be;for(ve=0;ve<be;ve+=1){var Jt,tn,Zt=!0;if(pe[ve].loaded=!1,pe[ve].monoCase=le(pe[ve].fFamily,"monospace"),pe[ve].sansCase=le(pe[ve].fFamily,"sans-serif"),pe[ve].fPath){if("p"===pe[ve].fOrigin||3===pe[ve].origin){if((Jt=document.querySelectorAll('style[f-forigin="p"][f-family="'+pe[ve].fFamily+'"], style[f-origin="3"][f-family="'+pe[ve].fFamily+'"]')).length>0&&(Zt=!1),Zt){var An=Qe("style");An.setAttribute("f-forigin",pe[ve].fOrigin),An.setAttribute("f-origin",pe[ve].origin),An.setAttribute("f-family",pe[ve].fFamily),An.type="text/css",An.innerText="@font-face {font-family: "+pe[ve].fFamily+"; font-style: normal; src: url('"+pe[ve].fPath+"');}",se.appendChild(An)}}else if("g"===pe[ve].fOrigin||1===pe[ve].origin){for(Jt=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),tn=0;tn<Jt.length;tn+=1)-1!==Jt[tn].href.indexOf(pe[ve].fPath)&&(Zt=!1);if(Zt){var kn=Qe("link");kn.setAttribute("f-forigin",pe[ve].fOrigin),kn.setAttribute("f-origin",pe[ve].origin),kn.type="text/css",kn.rel="stylesheet",kn.href=pe[ve].fPath,document.body.appendChild(kn)}}else if("t"===pe[ve].fOrigin||2===pe[ve].origin){for(Jt=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),tn=0;tn<Jt.length;tn+=1)pe[ve].fPath===Jt[tn].src&&(Zt=!1);if(Zt){var Vt=Qe("link");Vt.setAttribute("f-forigin",pe[ve].fOrigin),Vt.setAttribute("f-origin",pe[ve].origin),Vt.setAttribute("rel","stylesheet"),Vt.setAttribute("href",pe[ve].fPath),se.appendChild(Vt)}}}else pe[ve].loaded=!0,vt-=1;pe[ve].helper=he(pe[ve],se),pe[ve].cache={},this.fonts.push(pe[ve])}0===vt?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function Pt(J,se,pe){for(var ve=0,be=this.chars.length;ve<be;){if(this.chars[ve].ch===J&&this.chars[ve].style===se&&this.chars[ve].fFamily===pe)return this.chars[ve];ve+=1}return("string"==typeof J&&13!==J.charCodeAt(0)||!J)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",J,se,pe)),p},getFontByName:function I(J){for(var se=0,pe=this.fonts.length;se<pe;){if(this.fonts[se].fName===J)return this.fonts[se];se+=1}return this.fonts[0]},measureText:function ge(J,se,pe){var ve=this.getFontByName(se),be=J.charCodeAt(0);if(!ve.cache[be+1]){var vt=ve.helper;if(" "===J){var Zt=vt.measureText("|"+J+"|"),Jt=vt.measureText("||");ve.cache[be+1]=(Zt-Jt)/100}else ve.cache[be+1]=vt.measureText(J)/100}return ve.cache[be+1]*pe},checkLoadedFonts:function Ne(){var J,se=this.fonts.length,be=se;for(J=0;J<se;J+=1)this.fonts[J].loaded?be-=1:"n"===this.fonts[J].fOrigin||0===this.fonts[J].origin?this.fonts[J].loaded=!0:((this.fonts[J].monoCase.node.offsetWidth!==this.fonts[J].monoCase.w||this.fonts[J].sansCase.node.offsetWidth!==this.fonts[J].sansCase.w)&&(be-=1,this.fonts[J].loaded=!0),this.fonts[J].loaded&&(this.fonts[J].sansCase.parent.parentNode.removeChild(this.fonts[J].sansCase.parent),this.fonts[J].monoCase.parent.parentNode.removeChild(this.fonts[J].monoCase.parent)));0!==be&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function z(){this.isLoaded=!0}},X}();function Ri(){}Ri.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(p){-1===this.renderableComponents.indexOf(p)&&this.renderableComponents.push(p)},removeRenderableComponent:function(p){-1!==this.renderableComponents.indexOf(p)&&this.renderableComponents.splice(this.renderableComponents.indexOf(p),1)},prepareRenderableFrame:function(p){this.checkLayerLimits(p)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(p){this.data.ip-this.data.st<=p&&this.data.op-this.data.st>p?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var p,_=this.renderableComponents.length;for(p=0;p<_;p+=1)this.renderableComponents[p].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var no=function(){var u={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(p){return u[p]||""}}();function Xi(u,p,_){this.p=zt.getProp(p,u.v,0,0,_)}function Qo(u,p,_){this.p=zt.getProp(p,u.v,0,0,_)}function Ho(u,p,_){this.p=zt.getProp(p,u.v,1,0,_)}function Is(u,p,_){this.p=zt.getProp(p,u.v,1,0,_)}function xo(u,p,_){this.p=zt.getProp(p,u.v,0,0,_)}function ro(u,p,_){this.p=zt.getProp(p,u.v,0,0,_)}function Go(u,p,_){this.p=zt.getProp(p,u.v,0,0,_)}function ji(){this.p={}}function Cs(u,p){var _=u.ef||[];this.effectElements=[];var x,G,$=_.length;for(x=0;x<$;x+=1)G=new Ki(_[x],p),this.effectElements.push(G)}function Ki(u,p){this.init(u,p)}function Zi(){}function $i(){}function Rs(u,p,_){this.initFrame(),this.initRenderable(),this.assetData=p.getAssetData(u.refId),this.footageData=p.imageLoader.getAsset(this.assetData),this.initBaseData(u,p,_)}function ss(u,p,_){this.initFrame(),this.initRenderable(),this.assetData=p.getAssetData(u.refId),this.initBaseData(u,p,_),this._isPlaying=!1,this._canPlay=!1;var x=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(x),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=u.tm?zt.getProp(this,u.tm,0,p.frameRate,this):{_placeholder:!0},this.lv=zt.getProp(this,u.au&&u.au.lv?u.au.lv:{k:[100]},1,.01,this)}function _i(){}function Ur(){}function Ns(u,p,_){this.data=u,this.element=p,this.globalData=_,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var $,x=this.globalData.defs,G=this.masksProperties?this.masksProperties.length:0;this.viewData=et(G),this.solidPath="";var le,Xe,Pt,I,k,T,U,Ne=this.masksProperties,he=0,He=[],ge=Lt(),z="clipPath",X="clip-path";for($=0;$<G;$+=1)if(("a"!==Ne[$].mode&&"n"!==Ne[$].mode||Ne[$].inv||100!==Ne[$].o.k||Ne[$].o.x)&&(z="mask",X="mask"),"s"!==Ne[$].mode&&"i"!==Ne[$].mode||0!==he?I=null:((I=cn("rect")).setAttribute("fill","#ffffff"),I.setAttribute("width",this.element.comp.data.w||0),I.setAttribute("height",this.element.comp.data.h||0),He.push(I)),le=cn("path"),"n"===Ne[$].mode)this.viewData[$]={op:zt.getProp(this.element,Ne[$].o,0,.01,this.element),prop:ot.getShapeProp(this.element,Ne[$],3),elem:le,lastPath:""},x.appendChild(le);else{var W;if(he+=1,le.setAttribute("fill","s"===Ne[$].mode?"#000000":"#ffffff"),le.setAttribute("clip-rule","nonzero"),0!==Ne[$].x.k?(z="mask",X="mask",U=zt.getProp(this.element,Ne[$].x,0,null,this.element),W=Lt(),(k=cn("filter")).setAttribute("id",W),(T=cn("feMorphology")).setAttribute("operator","erode"),T.setAttribute("in","SourceGraphic"),T.setAttribute("radius","0"),k.appendChild(T),x.appendChild(k),le.setAttribute("stroke","s"===Ne[$].mode?"#000000":"#ffffff")):(T=null,U=null),this.storedData[$]={elem:le,x:U,expan:T,lastPath:"",lastOperator:"",filterId:W,lastRadius:0},"i"===Ne[$].mode){Pt=He.length;var J=cn("g");for(Xe=0;Xe<Pt;Xe+=1)J.appendChild(He[Xe]);var se=cn("mask");se.setAttribute("mask-type","alpha"),se.setAttribute("id",ge+"_"+he),se.appendChild(le),x.appendChild(se),J.setAttribute("mask","url("+Ge()+"#"+ge+"_"+he+")"),He.length=0,He.push(J)}else He.push(le);Ne[$].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[$]={elem:le,lastPath:"",op:zt.getProp(this.element,Ne[$].o,0,.01,this.element),prop:ot.getShapeProp(this.element,Ne[$],3),invRect:I},this.viewData[$].prop.k||this.drawPath(Ne[$],this.viewData[$].prop.v,this.viewData[$])}for(this.maskElement=cn(z),G=He.length,$=0;$<G;$+=1)this.maskElement.appendChild(He[$]);he>0&&(this.maskElement.setAttribute("id",ge),this.element.maskedElement.setAttribute(X,"url("+Ge()+"#"+ge+")"),x.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}de([Le],Ki),Ki.prototype.getValue=Ki.prototype.iterateDynamicProperties,Ki.prototype.init=function(u,p){this.data=u,this.effectElements=[],this.initDynamicPropertyContainer(p);var _,$,x=this.data.ef.length,G=this.data.ef;for(_=0;_<x;_+=1){switch($=null,G[_].ty){case 0:$=new Xi(G[_],p,this);break;case 1:$=new Qo(G[_],p,this);break;case 2:$=new Ho(G[_],p,this);break;case 3:$=new Is(G[_],p,this);break;case 4:case 7:$=new Go(G[_],p,this);break;case 10:$=new xo(G[_],p,this);break;case 11:$=new ro(G[_],p,this);break;case 5:$=new Cs(G[_],p,this);break;default:$=new ji(G[_],p,this)}$&&this.effectElements.push($)}},Zi.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var p=0,_=this.data.masksProperties.length;p<_;){if("n"!==this.data.masksProperties[p].mode&&!1!==this.data.masksProperties[p].cl)return!0;p+=1}return!1},initExpressions:function(){var p=null;if(p){var _=p("layer"),x=p("effects"),$=p("shape"),G=p("text"),le=p("comp");this.layerInterface=_(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var Ne=x.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(Ne),0===this.data.ty||this.data.xt?this.compInterface=le(this):4===this.data.ty?(this.layerInterface.shapeInterface=$(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=G(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var p=no(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=p},initBaseData:function(p,_,x){this.globalData=_,this.comp=x,this.data=p,this.layerId=Lt(),this.data.sr||(this.data.sr=1),this.effectsManager=new Cs(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},$i.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(p,_){var x,$=this.dynamicProperties.length;for(x=0;x<$;x+=1)(_||this._isParent&&"transform"===this.dynamicProperties[x].propType)&&(this.dynamicProperties[x].getValue(),this.dynamicProperties[x]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(p){-1===this.dynamicProperties.indexOf(p)&&this.dynamicProperties.push(p)}},Rs.prototype.prepareFrame=function(){},de([Ri,Zi,$i],Rs),Rs.prototype.getBaseElement=function(){return null},Rs.prototype.renderFrame=function(){},Rs.prototype.destroy=function(){},Rs.prototype.initExpressions=function(){var u=null;if(u){var p=u("footage");this.layerInterface=p(this)}},Rs.prototype.getFootageData=function(){return this.footageData},ss.prototype.prepareFrame=function(u){this.prepareRenderableFrame(u,!0),this.prepareProperties(u,!0),this._currentTime=this.tm._placeholder?u/this.data.sr:this.tm.v,this._volume=this.lv.v[0];var _=this._volume*this._volumeMultiplier;this._previousVolume!==_&&(this._previousVolume=_,this.audio.volume(_))},de([Ri,Zi,$i],ss),ss.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},ss.prototype.show=function(){},ss.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},ss.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},ss.prototype.resume=function(){this._canPlay=!0},ss.prototype.setRate=function(u){this.audio.rate(u)},ss.prototype.volume=function(u){this._volumeMultiplier=u,this._previousVolume=u*this._volume,this.audio.volume(this._previousVolume)},ss.prototype.getBaseElement=function(){return null},ss.prototype.destroy=function(){},ss.prototype.sourceRectAtTime=function(){},ss.prototype.initExpressions=function(){},_i.prototype.checkLayers=function(u){var p,x,_=this.layers.length;for(this.completeLayers=!0,p=_-1;p>=0;p-=1)this.elements[p]||(x=this.layers[p]).ip-x.st<=u-this.layers[p].st&&x.op-x.st>u-this.layers[p].st&&this.buildItem(p),this.completeLayers=!!this.elements[p]&&this.completeLayers;this.checkPendingElements()},_i.prototype.createItem=function(u){switch(u.ty){case 2:return this.createImage(u);case 0:return this.createComp(u);case 1:return this.createSolid(u);case 3:default:return this.createNull(u);case 4:return this.createShape(u);case 5:return this.createText(u);case 6:return this.createAudio(u);case 13:return this.createCamera(u);case 15:return this.createFootage(u)}},_i.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},_i.prototype.createAudio=function(u){return new ss(u,this.globalData,this)},_i.prototype.createFootage=function(u){return new Rs(u,this.globalData,this)},_i.prototype.buildAllItems=function(){var u,p=this.layers.length;for(u=0;u<p;u+=1)this.buildItem(u);this.checkPendingElements()},_i.prototype.includeLayers=function(u){this.completeLayers=!1;var p,x,_=u.length,$=this.layers.length;for(p=0;p<_;p+=1)for(x=0;x<$;){if(this.layers[x].id===u[p].id){this.layers[x]=u[p];break}x+=1}},_i.prototype.setProjectInterface=function(u){this.globalData.projectInterface=u},_i.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},_i.prototype.buildElementParenting=function(u,p,_){for(var x=this.elements,$=this.layers,G=0,le=$.length;G<le;)$[G].ind==p&&(x[G]&&!0!==x[G]?(_.push(x[G]),x[G].setAsParent(),void 0!==$[G].parent?this.buildElementParenting(u,$[G].parent,_):u.setHierarchy(_)):(this.buildItem(G),this.addPendingElement(u))),G+=1},_i.prototype.addPendingElement=function(u){this.pendingElements.push(u)},_i.prototype.searchExtraCompositions=function(u){var p,_=u.length;for(p=0;p<_;p+=1)if(u[p].xt){var x=this.createComp(u[p]);x.initExpressions(),this.globalData.projectInterface.registerComposition(x)}},_i.prototype.getElementById=function(u){var p,_=this.elements.length;for(p=0;p<_;p+=1)if(this.elements[p].data.ind===u)return this.elements[p];return null},_i.prototype.getElementByPath=function(u){var _,p=u.shift();if("number"==typeof p)_=this.elements[p];else{var x,$=this.elements.length;for(x=0;x<$;x+=1)if(this.elements[x].data.nm===p){_=this.elements[x];break}}return 0===u.length?_:_.getElementByPath(u)},_i.prototype.setupGlobalData=function(u,p){this.globalData.fontManager=new ks,this.globalData.fontManager.addChars(u.chars),this.globalData.fontManager.addFonts(u.fonts,p),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=u.fr,this.globalData.nm=u.nm,this.globalData.compSize={w:u.w,h:u.h}},Ur.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?rs.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new $t},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0)},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var p,_=this.finalTransform.mat,x=0,$=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;x<$;){if(this.hierarchy[x].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}x+=1}if(this.finalTransform._matMdf)for(_.cloneFromProps(p=this.finalTransform.mProp.v.props),x=0;x<$;x+=1)_.transform((p=this.hierarchy[x].finalTransform.mProp.v.props)[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])}},globalToLocal:function(p){var _=[];_.push(this.finalTransform);for(var x=!0,$=this.comp;x;)$.finalTransform?($.data.hasMask&&_.splice(0,0,$.finalTransform),$=$.comp):x=!1;var G,Ne,le=_.length;for(G=0;G<le;G+=1)Ne=_[G].mat.applyToPointArray(0,0,0),p=[p[0]-Ne[0],p[1]-Ne[1],0];return p},mHelper:new $t},Ns.prototype.getMaskProperty=function(u){return this.viewData[u].prop},Ns.prototype.renderFrame=function(u){var _,p=this.element.finalTransform.mat,x=this.masksProperties.length;for(_=0;_<x;_+=1)if((this.viewData[_].prop._mdf||u)&&this.drawPath(this.masksProperties[_],this.viewData[_].prop.v,this.viewData[_]),(this.viewData[_].op._mdf||u)&&this.viewData[_].elem.setAttribute("fill-opacity",this.viewData[_].op.v),"n"!==this.masksProperties[_].mode&&(this.viewData[_].invRect&&(this.element.finalTransform.mProp._mdf||u)&&this.viewData[_].invRect.setAttribute("transform",p.getInverseMatrix().to2dCSS()),this.storedData[_].x&&(this.storedData[_].x._mdf||u))){var $=this.storedData[_].expan;this.storedData[_].x.v<0?("erode"!==this.storedData[_].lastOperator&&(this.storedData[_].lastOperator="erode",this.storedData[_].elem.setAttribute("filter","url("+Ge()+"#"+this.storedData[_].filterId+")")),$.setAttribute("radius",-this.storedData[_].x.v)):("dilate"!==this.storedData[_].lastOperator&&(this.storedData[_].lastOperator="dilate",this.storedData[_].elem.setAttribute("filter",null)),this.storedData[_].elem.setAttribute("stroke-width",2*this.storedData[_].x.v))}},Ns.prototype.getMaskelement=function(){return this.maskElement},Ns.prototype.createLayerSolidPath=function(){var u="M0,0 ";return u+=" h"+this.globalData.compSize.w,u+=" v"+this.globalData.compSize.h,(u+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},Ns.prototype.drawPath=function(u,p,_){var $,G,x=" M"+p.v[0][0]+","+p.v[0][1];for(G=p._length,$=1;$<G;$+=1)x+=" C"+p.o[$-1][0]+","+p.o[$-1][1]+" "+p.i[$][0]+","+p.i[$][1]+" "+p.v[$][0]+","+p.v[$][1];if(p.c&&G>1&&(x+=" C"+p.o[$-1][0]+","+p.o[$-1][1]+" "+p.i[0][0]+","+p.i[0][1]+" "+p.v[0][0]+","+p.v[0][1]),_.lastPath!==x){var le="";_.elem&&(p.c&&(le=u.inv?this.solidPath+x:x),_.elem.setAttribute("d",le)),_.lastPath=x}},Ns.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var wo=function(){var u={};return u.createFilter=function p(x,$){var G=cn("filter");return G.setAttribute("id",x),!0!==$&&(G.setAttribute("filterUnits","objectBoundingBox"),G.setAttribute("x","0%"),G.setAttribute("y","0%"),G.setAttribute("width","100%"),G.setAttribute("height","100%")),G},u.createAlphaToLuminanceFilter=function _(){var x=cn("feColorMatrix");return x.setAttribute("type","matrix"),x.setAttribute("color-interpolation-filters","sRGB"),x.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),x},u}(),Ds=function(){var u={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(u.maskType=!1),/firefox/i.test(navigator.userAgent)&&(u.svgLumaHidden=!1),u}(),_r={},os="filter_result_";function Os(u){var p,Ne,_="SourceGraphic",x=u.data.ef?u.data.ef.length:0,$=Lt(),G=wo.createFilter($,!0),le=0;for(this.filters=[],p=0;p<x;p+=1){Ne=null;var he=u.data.ef[p].ty;_r[he]&&(Ne=new(0,_r[he].effect)(G,u.effectsManager.effectElements[p],u,os+le,_),_=os+le,_r[he].countsAsEffect&&(le+=1)),Ne&&this.filters.push(Ne)}le&&(u.globalData.defs.appendChild(G),u.layerElement.setAttribute("filter","url("+Ge()+"#"+$+")")),this.filters.length&&u.addRenderableComponent(this)}function Lr(){}function qs(){}function Fs(){}function zo(u,p,_){this.assetData=p.getAssetData(u.refId),this.initElement(u,p,_),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function Ls(u,p){this.elem=u,this.pos=p}function Po(){}Os.prototype.renderFrame=function(u){var p,_=this.filters.length;for(p=0;p<_;p+=1)this.filters[p].renderFrame(u)},Lr.prototype={initRendererElement:function(){this.layerElement=cn("g")},createContainerElements:function(){this.matteElement=cn("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var p=null;if(this.data.td){this.matteMasks={};var _=cn("g");_.setAttribute("id",this.layerId),_.appendChild(this.layerElement),p=_,this.globalData.defs.appendChild(_)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),p=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var x=cn("clipPath"),$=cn("path");$.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var G=Lt();if(x.setAttribute("id",G),x.appendChild($),this.globalData.defs.appendChild(x),this.checkMasks()){var le=cn("g");le.setAttribute("clip-path","url("+Ge()+"#"+G+")"),le.appendChild(this.layerElement),this.transformedElement=le,p?p.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+Ge()+"#"+G+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new Ns(this.data,this,this.globalData),this.renderableEffectsManager=new Os(this)},getMatte:function(p){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[p]){var x,$,G,le,_=this.layerId+"_"+p;if(1===p||3===p){var Ne=cn("mask");Ne.setAttribute("id",_),Ne.setAttribute("mask-type",3===p?"luminance":"alpha"),(G=cn("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Ne.appendChild(G),this.globalData.defs.appendChild(Ne),!Ds.maskType&&1===p&&(Ne.setAttribute("mask-type","luminance"),x=Lt(),$=wo.createFilter(x),this.globalData.defs.appendChild($),$.appendChild(wo.createAlphaToLuminanceFilter()),(le=cn("g")).appendChild(G),Ne.appendChild(le),le.setAttribute("filter","url("+Ge()+"#"+x+")"))}else if(2===p){var he=cn("mask");he.setAttribute("id",_),he.setAttribute("mask-type","alpha");var He=cn("g");he.appendChild(He),x=Lt(),$=wo.createFilter(x);var Xe=cn("feComponentTransfer");Xe.setAttribute("in","SourceGraphic"),$.appendChild(Xe);var Pt=cn("feFuncA");Pt.setAttribute("type","table"),Pt.setAttribute("tableValues","1.0 0.0"),Xe.appendChild(Pt),this.globalData.defs.appendChild($);var ge=cn("rect");ge.setAttribute("width",this.comp.data.w),ge.setAttribute("height",this.comp.data.h),ge.setAttribute("x","0"),ge.setAttribute("y","0"),ge.setAttribute("fill","#ffffff"),ge.setAttribute("opacity","0"),He.setAttribute("filter","url("+Ge()+"#"+x+")"),He.appendChild(ge),(G=cn("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),He.appendChild(G),Ds.maskType||(he.setAttribute("mask-type","luminance"),$.appendChild(wo.createAlphaToLuminanceFilter()),le=cn("g"),He.appendChild(ge),le.appendChild(this.layerElement),He.appendChild(le)),this.globalData.defs.appendChild(he)}this.matteMasks[p]=_}return this.matteMasks[p]},setMatte:function(p){!this.matteElement||this.matteElement.setAttribute("mask","url("+Ge()+"#"+p+")")}},qs.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(p){this.hierarchy=p},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},de([Ri,function Pe(u){function p(){}return p.prototype=u,p}({initElement:function(_,x,$){this.initFrame(),this.initBaseData(_,x,$),this.initTransform(_,x,$),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(_){this._mdf=!1,this.prepareRenderableFrame(_),this.prepareProperties(_,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],Fs),de([Zi,Ur,Lr,qs,$i,Fs],zo),zo.prototype.createContent=function(){var u=this.globalData.getAssetsPath(this.assetData);this.innerElem=cn("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",u),this.layerElement.appendChild(this.innerElem)},zo.prototype.sourceRectAtTime=function(){return this.sourceRect},Po.prototype={addShapeToModifiers:function(p){var _,x=this.shapeModifiers.length;for(_=0;_<x;_+=1)this.shapeModifiers[_].addShape(p)},isShapeInAnimatedModifiers:function(p){for(var x=this.shapeModifiers.length;0<x;)if(this.shapeModifiers[0].isAnimatedWithShape(p))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var p,_=this.shapes.length;for(p=0;p<_;p+=1)this.shapes[p].sh.reset();for(p=(_=this.shapeModifiers.length)-1;p>=0&&!this.shapeModifiers[p].processShapes(this._isFirstFrame);p-=1);}},searchProcessedElement:function(p){for(var _=this.processedElements,x=0,$=_.length;x<$;){if(_[x].elem===p)return _[x].pos;x+=1}return 0},addProcessedElement:function(p,_){for(var x=this.processedElements,$=x.length;$;)if(x[$-=1].elem===p)return void(x[$].pos=_);x.push(new Ls(p,_))},prepareFrame:function(p){this.prepareRenderableFrame(p),this.prepareProperties(p,this.isInRange)}};var Ci={1:"butt",2:"round",3:"square"},or={1:"miter",2:"round",3:"bevel"};function Wo(u,p,_){this.caches=[],this.styles=[],this.transformers=u,this.lStr="",this.sh=_,this.lvl=p,this._isAnimated=!!_.k;for(var x=0,$=u.length;x<$;){if(u[x].mProps.dynamicProperties.length){this._isAnimated=!0;break}x+=1}}function ha(u,p){this.data=u,this.type=u.ty,this.d="",this.lvl=p,this._mdf=!1,this.closed=!0===u.hd,this.pElem=cn("path"),this.msElem=null}function fo(u,p,_,x){this.elem=u,this.frameId=-1,this.dataProps=et(p.length),this.renderer=_,this.k=!1,this.dashStr="",this.dashArray=rt("float32",p.length?p.length-1:0),this.dashoffset=rt("float32",1),this.initDynamicPropertyContainer(x);var $,le,G=p.length||0;for($=0;$<G;$+=1)le=zt.getProp(u,p[$].v,0,0,this),this.k=le.k||this.k,this.dataProps[$]={n:p[$].n,p:le};this.k||this.getValue(!0),this._isAnimated=this.k}function io(u,p,_){this.initDynamicPropertyContainer(u),this.getValue=this.iterateDynamicProperties,this.o=zt.getProp(u,p.o,0,.01,this),this.w=zt.getProp(u,p.w,0,null,this),this.d=new fo(u,p.d||{},"svg",this),this.c=zt.getProp(u,p.c,1,255,this),this.style=_,this._isAnimated=!!this._isAnimated}function hi(u,p,_){this.initDynamicPropertyContainer(u),this.getValue=this.iterateDynamicProperties,this.o=zt.getProp(u,p.o,0,.01,this),this.c=zt.getProp(u,p.c,1,255,this),this.style=_}function Ks(u,p,_){this.initDynamicPropertyContainer(u),this.getValue=this.iterateDynamicProperties,this.style=_}function as(u,p,_){this.data=p,this.c=rt("uint8c",4*p.p);var x=p.k.k[0].s?p.k.k[0].s.length-4*p.p:p.k.k.length-4*p.p;this.o=rt("float32",x),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=x,this.initDynamicPropertyContainer(_),this.prop=zt.getProp(u,p.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function Zs(u,p,_){this.initDynamicPropertyContainer(u),this.getValue=this.iterateDynamicProperties,this.initGradientData(u,p,_)}function nn(u,p,_){this.initDynamicPropertyContainer(u),this.getValue=this.iterateDynamicProperties,this.w=zt.getProp(u,p.w,0,null,this),this.d=new fo(u,p.d||{},"svg",this),this.initGradientData(u,p,_),this._isAnimated=!!this._isAnimated}function Pr(){this.it=[],this.prevViewData=[],this.gr=cn("g")}function ko(u,p,_){this.transform={mProps:u,op:p,container:_},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}Wo.prototype.setAsAnimated=function(){this._isAnimated=!0},ha.prototype.reset=function(){this.d="",this._mdf=!1},fo.prototype.getValue=function(u){if((this.elem.globalData.frameId!==this.frameId||u)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||u,this._mdf)){var p=0,_=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),p=0;p<_;p+=1)"o"!==this.dataProps[p].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[p].p.v:this.dashArray[p]=this.dataProps[p].p.v:this.dashoffset[0]=this.dataProps[p].p.v}},de([Le],fo),de([Le],io),de([Le],hi),de([Le],Ks),as.prototype.comparePoints=function(u,p){for(var _=0,x=this.o.length/2;_<x;){if(Math.abs(u[4*_]-u[4*p+2*_])>.01)return!1;_+=1}return!0},as.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var u=0,p=this.data.k.k.length;u<p;){if(!this.comparePoints(this.data.k.k[u].s,this.data.p))return!1;u+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},as.prototype.getValue=function(u){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||u){var p,x,$,_=4*this.data.p;for(p=0;p<_;p+=1)x=p%4==0?100:255,$=Math.round(this.prop.v[p]*x),this.c[p]!==$&&(this.c[p]=$,this._cmdf=!u);if(this.o.length)for(_=this.prop.v.length,p=4*this.data.p;p<_;p+=1)x=p%2==0?100:1,$=p%2==0?Math.round(100*this.prop.v[p]):this.prop.v[p],this.o[p-4*this.data.p]!==$&&(this.o[p-4*this.data.p]=$,this._omdf=!u);this._mdf=!u}},de([Le],as),Zs.prototype.initGradientData=function(u,p,_){this.o=zt.getProp(u,p.o,0,.01,this),this.s=zt.getProp(u,p.s,1,null,this),this.e=zt.getProp(u,p.e,1,null,this),this.h=zt.getProp(u,p.h||{k:0},0,.01,this),this.a=zt.getProp(u,p.a||{k:0},0,yt,this),this.g=new as(u,p.g,this),this.style=_,this.stops=[],this.setGradientData(_.pElem,p),this.setGradientOpacity(p,_),this._isAnimated=!!this._isAnimated},Zs.prototype.setGradientData=function(u,p){var _=Lt(),x=cn(1===p.t?"linearGradient":"radialGradient");x.setAttribute("id",_),x.setAttribute("spreadMethod","pad"),x.setAttribute("gradientUnits","userSpaceOnUse");var G,le,Ne,$=[];for(Ne=4*p.g.p,le=0;le<Ne;le+=4)G=cn("stop"),x.appendChild(G),$.push(G);u.setAttribute("gf"===p.ty?"fill":"stroke","url("+Ge()+"#"+_+")"),this.gf=x,this.cst=$},Zs.prototype.setGradientOpacity=function(u,p){if(this.g._hasOpacity&&!this.g._collapsable){var _,x,$,G=cn("mask"),le=cn("path");G.appendChild(le);var Ne=Lt(),he=Lt();G.setAttribute("id",he);var He=cn(1===u.t?"linearGradient":"radialGradient");He.setAttribute("id",Ne),He.setAttribute("spreadMethod","pad"),He.setAttribute("gradientUnits","userSpaceOnUse"),$=u.g.k.k[0].s?u.g.k.k[0].s.length:u.g.k.k.length;var Xe=this.stops;for(x=4*u.g.p;x<$;x+=2)(_=cn("stop")).setAttribute("stop-color","rgb(255,255,255)"),He.appendChild(_),Xe.push(_);le.setAttribute("gf"===u.ty?"fill":"stroke","url("+Ge()+"#"+Ne+")"),"gs"===u.ty&&(le.setAttribute("stroke-linecap",Ci[u.lc||2]),le.setAttribute("stroke-linejoin",or[u.lj||2]),1===u.lj&&le.setAttribute("stroke-miterlimit",u.ml)),this.of=He,this.ms=G,this.ost=Xe,this.maskId=he,p.msElem=le}},de([Le],Zs),de([Zs,Le],nn);var Ro=function(p,_,x,$){if(0===_)return"";var he,G=p.o,le=p.i,Ne=p.v,He=" M"+$.applyToPointStringified(Ne[0][0],Ne[0][1]);for(he=1;he<_;he+=1)He+=" C"+$.applyToPointStringified(G[he-1][0],G[he-1][1])+" "+$.applyToPointStringified(le[he][0],le[he][1])+" "+$.applyToPointStringified(Ne[he][0],Ne[he][1]);return x&&_&&(He+=" C"+$.applyToPointStringified(G[he-1][0],G[he-1][1])+" "+$.applyToPointStringified(le[0][0],le[0][1])+" "+$.applyToPointStringified(Ne[0][0],Ne[0][1]),He+="z"),He},Hi=function(){var u=new $t,p=new $t;function $(Pt,ge,I){(I||ge.transform.op._mdf)&&ge.transform.container.setAttribute("opacity",ge.transform.op.v),(I||ge.transform.mProps._mdf)&&ge.transform.container.setAttribute("transform",ge.transform.mProps.v.to2dCSS())}function G(){}function le(Pt,ge,I){var k,T,U,z,X,W,pe,ve,be,vt,Zt,J=ge.styles.length,se=ge.lvl;for(W=0;W<J;W+=1){if(z=ge.sh._mdf||I,ge.styles[W].lvl<se){for(ve=p.reset(),vt=se-ge.styles[W].lvl,Zt=ge.transformers.length-1;!z&&vt>0;)z=ge.transformers[Zt].mProps._mdf||z,vt-=1,Zt-=1;if(z)for(vt=se-ge.styles[W].lvl,Zt=ge.transformers.length-1;vt>0;)ve.transform((be=ge.transformers[Zt].mProps.v.props)[0],be[1],be[2],be[3],be[4],be[5],be[6],be[7],be[8],be[9],be[10],be[11],be[12],be[13],be[14],be[15]),vt-=1,Zt-=1}else ve=u;if(T=(pe=ge.sh.paths)._length,z){for(U="",k=0;k<T;k+=1)(X=pe.shapes[k])&&X._length&&(U+=Ro(X,X._length,X.c,ve));ge.caches[W]=U}else U=ge.caches[W];ge.styles[W].d+=!0===Pt.hd?"":U,ge.styles[W]._mdf=z||ge.styles[W]._mdf}}function Ne(Pt,ge,I){var k=ge.style;(ge.c._mdf||I)&&k.pElem.setAttribute("fill","rgb("+qe(ge.c.v[0])+","+qe(ge.c.v[1])+","+qe(ge.c.v[2])+")"),(ge.o._mdf||I)&&k.pElem.setAttribute("fill-opacity",ge.o.v)}function he(Pt,ge,I){He(Pt,ge,I),Xe(0,ge,I)}function He(Pt,ge,I){var se,pe,ve,be,Jt,k=ge.gf,T=ge.g._hasOpacity,U=ge.s.v,z=ge.e.v;if((ge.o._mdf||I)&&ge.style.pElem.setAttribute("gf"===Pt.ty?"fill-opacity":"stroke-opacity",ge.o.v),ge.s._mdf||I){var W=1===Pt.t?"x1":"cx",J="x1"===W?"y1":"cy";k.setAttribute(W,U[0]),k.setAttribute(J,U[1]),T&&!ge.g._collapsable&&(ge.of.setAttribute(W,U[0]),ge.of.setAttribute(J,U[1]))}if(ge.g._cmdf||I){var vt=ge.g.c;for(ve=(se=ge.cst).length,pe=0;pe<ve;pe+=1)(be=se[pe]).setAttribute("offset",vt[4*pe]+"%"),be.setAttribute("stop-color","rgb("+vt[4*pe+1]+","+vt[4*pe+2]+","+vt[4*pe+3]+")")}if(T&&(ge.g._omdf||I)){var Zt=ge.g.o;for(ve=(se=ge.g._collapsable?ge.cst:ge.ost).length,pe=0;pe<ve;pe+=1)be=se[pe],ge.g._collapsable||be.setAttribute("offset",Zt[2*pe]+"%"),be.setAttribute("stop-opacity",Zt[2*pe+1])}if(1===Pt.t)(ge.e._mdf||I)&&(k.setAttribute("x2",z[0]),k.setAttribute("y2",z[1]),T&&!ge.g._collapsable&&(ge.of.setAttribute("x2",z[0]),ge.of.setAttribute("y2",z[1])));else if((ge.s._mdf||ge.e._mdf||I)&&(Jt=Math.sqrt(Math.pow(U[0]-z[0],2)+Math.pow(U[1]-z[1],2)),k.setAttribute("r",Jt),T&&!ge.g._collapsable&&ge.of.setAttribute("r",Jt)),ge.e._mdf||ge.h._mdf||ge.a._mdf||I){Jt||(Jt=Math.sqrt(Math.pow(U[0]-z[0],2)+Math.pow(U[1]-z[1],2)));var tn=Math.atan2(z[1]-U[1],z[0]-U[0]),An=ge.h.v;An>=1?An=.99:An<=-1&&(An=-.99);var kn=Jt*An,Vt=Math.cos(tn+ge.a.v)*kn+U[0],$e=Math.sin(tn+ge.a.v)*kn+U[1];k.setAttribute("fx",Vt),k.setAttribute("fy",$e),T&&!ge.g._collapsable&&(ge.of.setAttribute("fx",Vt),ge.of.setAttribute("fy",$e))}}function Xe(Pt,ge,I){var k=ge.style,T=ge.d;T&&(T._mdf||I)&&T.dashStr&&(k.pElem.setAttribute("stroke-dasharray",T.dashStr),k.pElem.setAttribute("stroke-dashoffset",T.dashoffset[0])),ge.c&&(ge.c._mdf||I)&&k.pElem.setAttribute("stroke","rgb("+qe(ge.c.v[0])+","+qe(ge.c.v[1])+","+qe(ge.c.v[2])+")"),(ge.o._mdf||I)&&k.pElem.setAttribute("stroke-opacity",ge.o.v),(ge.w._mdf||I)&&(k.pElem.setAttribute("stroke-width",ge.w.v),k.msElem&&k.msElem.setAttribute("stroke-width",ge.w.v))}return{createRenderFunction:function x(Pt){switch(Pt.ty){case"fl":return Ne;case"gf":return He;case"gs":return he;case"st":return Xe;case"sh":case"el":case"rc":case"sr":return le;case"tr":return $;case"no":return G;default:return null}}}}();function Kr(u,p,_){this.shapes=[],this.shapesData=u.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(u,p,_),this.prevViewData=[]}function so(u,p,_,x,$,G){this.o=u,this.sw=p,this.sc=_,this.fc=x,this.m=$,this.p=G,this._mdf={o:!0,sw:!!p,sc:!!_,fc:!!x,m:!0,p:!0}}function fi(u,p){this._frameId=Ve,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=p,this.elem=u,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}de([Zi,Ur,Lr,Po,qs,$i,Fs],Kr),Kr.prototype.initSecondaryElement=function(){},Kr.prototype.identityMatrix=new $t,Kr.prototype.buildExpressionInterface=function(){},Kr.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},Kr.prototype.filterUniqueShapes=function(){var u,_,x,G,p=this.shapes.length,$=this.stylesList.length,le=[],Ne=!1;for(x=0;x<$;x+=1){for(G=this.stylesList[x],Ne=!1,le.length=0,u=0;u<p;u+=1)-1!==(_=this.shapes[u]).styles.indexOf(G)&&(le.push(_),Ne=_._isAnimated||Ne);le.length>1&&Ne&&this.setShapesAsAnimated(le)}},Kr.prototype.setShapesAsAnimated=function(u){var p,_=u.length;for(p=0;p<_;p+=1)u[p].setAsAnimated()},Kr.prototype.createStyleElement=function(u,p){var _,x=new ha(u,p),$=x.pElem;return"st"===u.ty?_=new io(this,u,x):"fl"===u.ty?_=new hi(this,u,x):"gf"===u.ty||"gs"===u.ty?(_=new("gf"===u.ty?Zs:nn)(this,u,x),this.globalData.defs.appendChild(_.gf),_.maskId&&(this.globalData.defs.appendChild(_.ms),this.globalData.defs.appendChild(_.of),$.setAttribute("mask","url("+Ge()+"#"+_.maskId+")"))):"no"===u.ty&&(_=new Ks(this,u,x)),("st"===u.ty||"gs"===u.ty)&&($.setAttribute("stroke-linecap",Ci[u.lc||2]),$.setAttribute("stroke-linejoin",or[u.lj||2]),$.setAttribute("fill-opacity","0"),1===u.lj&&$.setAttribute("stroke-miterlimit",u.ml)),2===u.r&&$.setAttribute("fill-rule","evenodd"),u.ln&&$.setAttribute("id",u.ln),u.cl&&$.setAttribute("class",u.cl),u.bm&&($.style["mix-blend-mode"]=no(u.bm)),this.stylesList.push(x),this.addToAnimatedContents(u,_),_},Kr.prototype.createGroupElement=function(u){var p=new Pr;return u.ln&&p.gr.setAttribute("id",u.ln),u.cl&&p.gr.setAttribute("class",u.cl),u.bm&&(p.gr.style["mix-blend-mode"]=no(u.bm)),p},Kr.prototype.createTransformElement=function(u,p){var _=rs.getTransformProperty(this,u,this),x=new ko(_,_.o,p);return this.addToAnimatedContents(u,x),x},Kr.prototype.createShapeElement=function(u,p,_){var x=4;"rc"===u.ty?x=5:"el"===u.ty?x=6:"sr"===u.ty&&(x=7);var G=new Wo(p,_,ot.getShapeProp(this,u,x,this));return this.shapes.push(G),this.addShapeToModifiers(G),this.addToAnimatedContents(u,G),G},Kr.prototype.addToAnimatedContents=function(u,p){for(var _=0,x=this.animatedContents.length;_<x;){if(this.animatedContents[_].element===p)return;_+=1}this.animatedContents.push({fn:Hi.createRenderFunction(u),element:p,data:u})},Kr.prototype.setElementStyles=function(u){var _,p=u.styles,x=this.stylesList.length;for(_=0;_<x;_+=1)this.stylesList[_].closed||p.push(this.stylesList[_])},Kr.prototype.reloadShapes=function(){this._isFirstFrame=!0;var u,p=this.itemsData.length;for(u=0;u<p;u+=1)this.prevViewData[u]=this.itemsData[u];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),p=this.dynamicProperties.length,u=0;u<p;u+=1)this.dynamicProperties[u].getValue();this.renderModifiers()},Kr.prototype.searchShapes=function(u,p,_,x,$,G,le){var he,Xe,Pt,T,U,Ne=[].concat(G),He=u.length-1,ge=[],I=[];for(he=He;he>=0;he-=1){if((U=this.searchProcessedElement(u[he]))?p[he]=_[U-1]:u[he]._render=le,"fl"===u[he].ty||"st"===u[he].ty||"gf"===u[he].ty||"gs"===u[he].ty||"no"===u[he].ty)U?p[he].style.closed=!1:p[he]=this.createStyleElement(u[he],$),u[he]._render&&p[he].style.pElem.parentNode!==x&&x.appendChild(p[he].style.pElem),ge.push(p[he].style);else if("gr"===u[he].ty){if(U)for(Pt=p[he].it.length,Xe=0;Xe<Pt;Xe+=1)p[he].prevViewData[Xe]=p[he].it[Xe];else p[he]=this.createGroupElement(u[he]);this.searchShapes(u[he].it,p[he].it,p[he].prevViewData,p[he].gr,$+1,Ne,le),u[he]._render&&p[he].gr.parentNode!==x&&x.appendChild(p[he].gr)}else"tr"===u[he].ty?(U||(p[he]=this.createTransformElement(u[he],x)),Ne.push(p[he].transform)):"sh"===u[he].ty||"rc"===u[he].ty||"el"===u[he].ty||"sr"===u[he].ty?(U||(p[he]=this.createShapeElement(u[he],Ne,$)),this.setElementStyles(p[he])):"tm"===u[he].ty||"rd"===u[he].ty||"ms"===u[he].ty||"pb"===u[he].ty||"zz"===u[he].ty||"op"===u[he].ty?(U?(T=p[he]).closed=!1:((T=qr.getModifier(u[he].ty)).init(this,u[he]),p[he]=T,this.shapeModifiers.push(T)),I.push(T)):"rp"===u[he].ty&&(U?(T=p[he]).closed=!0:(T=qr.getModifier(u[he].ty),p[he]=T,T.init(this,u,he,p),this.shapeModifiers.push(T),le=!1),I.push(T));this.addProcessedElement(u[he],he+1)}for(He=ge.length,he=0;he<He;he+=1)ge[he].closed=!0;for(He=I.length,he=0;he<He;he+=1)I[he].closed=!0},Kr.prototype.renderInnerContent=function(){this.renderModifiers();var u,p=this.stylesList.length;for(u=0;u<p;u+=1)this.stylesList[u].reset();for(this.renderShape(),u=0;u<p;u+=1)(this.stylesList[u]._mdf||this._isFirstFrame)&&(this.stylesList[u].msElem&&(this.stylesList[u].msElem.setAttribute("d",this.stylesList[u].d),this.stylesList[u].d="M0 0"+this.stylesList[u].d),this.stylesList[u].pElem.setAttribute("d",this.stylesList[u].d||"M0 0"))},Kr.prototype.renderShape=function(){var u,_,p=this.animatedContents.length;for(u=0;u<p;u+=1)_=this.animatedContents[u],(this._isFirstFrame||_.element._isAnimated)&&!0!==_.data&&_.fn(_.data,_.element,this._isFirstFrame)},Kr.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},so.prototype.update=function(u,p,_,x,$,G){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var le=!1;return this.o!==u&&(this.o=u,this._mdf.o=!0,le=!0),this.sw!==p&&(this.sw=p,this._mdf.sw=!0,le=!0),this.sc!==_&&(this.sc=_,this._mdf.sc=!0,le=!0),this.fc!==x&&(this.fc=x,this._mdf.fc=!0,le=!0),this.m!==$&&(this.m=$,this._mdf.m=!0,le=!0),G.length&&(this.p[0]!==G[0]||this.p[1]!==G[1]||this.p[4]!==G[4]||this.p[5]!==G[5]||this.p[12]!==G[12]||this.p[13]!==G[13])&&(this.p=G,this._mdf.p=!0,le=!0),le},fi.prototype.defaultBoxWidth=[0,0],fi.prototype.copyData=function(u,p){for(var _ in p)Object.prototype.hasOwnProperty.call(p,_)&&(u[_]=p[_]);return u},fi.prototype.setCurrentData=function(u){u.__complete||this.completeTextData(u),this.currentData=u,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},fi.prototype.searchProperty=function(){return this.searchKeyframes()},fi.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},fi.prototype.addEffect=function(u){this.effectsSequence.push(u),this.elem.addDynamicProperty(this)},fi.prototype.getValue=function(u){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||u){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var p=this.currentData,_=this.keysIndex;if(this.lock)return void this.setCurrentData(this.currentData);this.lock=!0,this._mdf=!1;var x,$=this.effectsSequence.length,G=u||this.data.d.k[this.keysIndex].s;for(x=0;x<$;x+=1)G=this.effectsSequence[x](_!==this.keysIndex?G:this.currentData,G.t);p!==G&&this.setCurrentData(G),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},fi.prototype.getKeyframeValue=function(){for(var u=this.data.d.k,p=this.elem.comp.renderedFrame,_=0,x=u.length;_<=x-1&&!(_===x-1||u[_+1].t>p);)_+=1;return this.keysIndex!==_&&(this.keysIndex=_),this.data.d.k[this.keysIndex].s},fi.prototype.buildFinalText=function(u){for(var $,G,p=[],_=0,x=u.length,le=!1;_<x;)$=u.charCodeAt(_),ks.isCombinedCharacter($)?p[p.length-1]+=u.charAt(_):$>=55296&&$<=56319?(G=u.charCodeAt(_+1))>=56320&&G<=57343?(le||ks.isModifier($,G)?(p[p.length-1]+=u.substr(_,2),le=!1):p.push(u.substr(_,2)),_+=1):p.push(u.charAt(_)):$>56319?(G=u.charCodeAt(_+1),ks.isZeroWidthJoiner($,G)?(le=!0,p[p.length-1]+=u.substr(_,2),_+=1):p.push(u.charAt(_))):ks.isZeroWidthJoiner($)?(p[p.length-1]+=u.charAt(_),le=!0):p.push(u.charAt(_)),_+=1;return p},fi.prototype.completeTextData=function(u){u.__complete=!0;var $,G,le,he,U,z,W,p=this.elem.globalData.fontManager,_=this.data,x=[],Ne=0,He=_.m.g,Xe=0,Pt=0,ge=0,I=[],k=0,T=0,X=p.getFontByName(u.f),J=0,se=$o(X);u.fWeight=se.weight,u.fStyle=se.style,u.finalSize=u.s,u.finalText=this.buildFinalText(u.t),G=u.finalText.length,u.finalLineHeight=u.lh;var ve,pe=u.tr/1e3*u.finalSize;if(u.sz)for(var Jt,tn,be=!0,vt=u.sz[0],Zt=u.sz[1];be;){Jt=0,k=0,G=(tn=this.buildFinalText(u.t)).length,pe=u.tr/1e3*u.finalSize;var An=-1;for($=0;$<G;$+=1)ve=tn[$].charCodeAt(0),le=!1," "===tn[$]?An=$:(13===ve||3===ve)&&(k=0,le=!0,Jt+=u.finalLineHeight||1.2*u.finalSize),p.chars?(W=p.getCharData(tn[$],X.fStyle,X.fFamily),J=le?0:W.w*u.finalSize/100):J=p.measureText(tn[$],u.f,u.finalSize),k+J>vt&&" "!==tn[$]?(-1===An?G+=1:$=An,Jt+=u.finalLineHeight||1.2*u.finalSize,tn.splice($,An===$?1:0,"\r"),An=-1,k=0):(k+=J,k+=pe);Jt+=X.ascent*u.finalSize/100,this.canResize&&u.finalSize>this.minimumFontSize&&Zt<Jt?(u.finalSize-=1,u.finalLineHeight=u.finalSize*u.lh/u.s):(u.finalText=tn,G=u.finalText.length,be=!1)}k=-pe,J=0;var Vt,kn=0;for($=0;$<G;$+=1)if(le=!1,13===(ve=(Vt=u.finalText[$]).charCodeAt(0))||3===ve?(kn=0,I.push(k),T=k>T?k:T,k=-2*pe,he="",le=!0,ge+=1):he=Vt,p.chars?(W=p.getCharData(Vt,X.fStyle,p.getFontByName(u.f).fFamily),J=le?0:W.w*u.finalSize/100):J=p.measureText(he,u.f,u.finalSize)," "===Vt?kn+=J+pe:(k+=J+pe+kn,kn=0),x.push({l:J,an:J,add:Xe,n:le,anIndexes:[],val:he,line:ge,animatorJustifyOffset:0}),2==He){if(Xe+=J,""===he||" "===he||$===G-1){for((""===he||" "===he)&&(Xe-=J);Pt<=$;)x[Pt].an=Xe,x[Pt].ind=Ne,x[Pt].extra=J,Pt+=1;Ne+=1,Xe=0}}else if(3==He){if(Xe+=J,""===he||$===G-1){for(""===he&&(Xe-=J);Pt<=$;)x[Pt].an=Xe,x[Pt].ind=Ne,x[Pt].extra=J,Pt+=1;Xe=0,Ne+=1}}else x[Ne].ind=Ne,x[Ne].extra=0,Ne+=1;if(u.l=x,T=k>T?k:T,I.push(k),u.sz)u.boxWidth=u.sz[0],u.justifyOffset=0;else switch(u.boxWidth=T,u.j){case 1:u.justifyOffset=-u.boxWidth;break;case 2:u.justifyOffset=-u.boxWidth/2;break;default:u.justifyOffset=0}u.lineWidths=I;var De,fe,$e=_.a;z=$e.length;var Fe,Ut,kt=[];for(U=0;U<z;U+=1){for((De=$e[U]).a.sc&&(u.strokeColorAnim=!0),De.a.sw&&(u.strokeWidthAnim=!0),(De.a.fc||De.a.fh||De.a.fs||De.a.fb)&&(u.fillColorAnim=!0),Ut=0,Fe=De.s.b,$=0;$<G;$+=1)(fe=x[$]).anIndexes[U]=Ut,(1==Fe&&""!==fe.val||2==Fe&&""!==fe.val&&" "!==fe.val||3==Fe&&(fe.n||" "==fe.val||$==G-1)||4==Fe&&(fe.n||$==G-1))&&(1===De.s.rn&&kt.push(Ut),Ut+=1);_.a[U].s.totalChars=Ut;var Or,Kn=-1;if(1===De.s.rn)for($=0;$<G;$+=1)Kn!=(fe=x[$]).anIndexes[U]&&(Kn=fe.anIndexes[U],Or=kt.splice(Math.floor(Math.random()*kt.length),1)[0]),fe.anIndexes[U]=Or}u.yOffset=u.finalLineHeight||1.2*u.finalSize,u.ls=u.ls||0,u.ascent=X.ascent*u.finalSize/100},fi.prototype.updateDocumentData=function(u,p){var _=this.copyData({},this.data.d.k[p=void 0===p?this.keysIndex:p].s);_=this.copyData(_,u),this.data.d.k[p].s=_,this.recalculate(p),this.elem.addDynamicProperty(this)},fi.prototype.recalculate=function(u){var p=this.data.d.k[u].s;p.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(p)},fi.prototype.canResizeFont=function(u){this.canResize=u,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},fi.prototype.setMinimumFontSize=function(u){this.minimumFontSize=Math.floor(u)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var ra=function(){var u=Math.max,p=Math.min,_=Math.floor;function x(G,le){this._currentTextLength=-1,this.k=!1,this.data=le,this.elem=G,this.comp=G.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(G),this.s=zt.getProp(G,le.s||{k:0},0,0,this),this.e="e"in le?zt.getProp(G,le.e,0,0,this):{v:100},this.o=zt.getProp(G,le.o||{k:0},0,0,this),this.xe=zt.getProp(G,le.xe||{k:0},0,0,this),this.ne=zt.getProp(G,le.ne||{k:0},0,0,this),this.sm=zt.getProp(G,le.sm||{k:100},0,0,this),this.a=zt.getProp(G,le.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return x.prototype={getMult:function(le){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var Ne=0,he=0,He=1,Xe=1;this.ne.v>0?Ne=this.ne.v/100:he=-this.ne.v/100,this.xe.v>0?He=1-this.xe.v/100:Xe=1+this.xe.v/100;var Pt=jr.getBezierEasing(Ne,he,He,Xe).get,ge=0,I=this.finalS,k=this.finalE,T=this.data.sh;if(2===T)ge=Pt(ge=k===I?le>=k?1:0:u(0,p(.5/(k-I)+(le-I)/(k-I),1)));else if(3===T)ge=Pt(ge=k===I?le>=k?0:1:1-u(0,p(.5/(k-I)+(le-I)/(k-I),1)));else if(4===T)k===I?ge=0:(ge=u(0,p(.5/(k-I)+(le-I)/(k-I),1)))<.5?ge*=2:ge=1-2*(ge-.5),ge=Pt(ge);else if(5===T){if(k===I)ge=0;else{var U=k-I,z=-U/2+(le=p(u(0,le+.5-I),k-I)),X=U/2;ge=Math.sqrt(1-z*z/(X*X))}ge=Pt(ge)}else 6===T?(k===I?ge=0:(le=p(u(0,le+.5-I),k-I),ge=(1+Math.cos(Math.PI+2*Math.PI*le/(k-I)))/2),ge=Pt(ge)):(le>=_(I)&&(ge=u(0,p(le-I<0?p(k,1)-(I-le):k-le,1))),ge=Pt(ge));if(100!==this.sm.v){var W=.01*this.sm.v;0===W&&(W=1e-8);var J=.5-.5*W;ge<J?ge=0:(ge=(ge-J)/W)>1&&(ge=1)}return ge*this.a.v},getValue:function(le){this.iterateDynamicProperties(),this._mdf=le||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,le&&2===this.data.r&&(this.e.v=this._currentTextLength);var Ne=2===this.data.r?1:100/this.data.totalChars,he=this.o.v/Ne,He=this.s.v/Ne+he,Xe=this.e.v/Ne+he;if(He>Xe){var Pt=He;He=Xe,Xe=Pt}this.finalS=He,this.finalE=Xe}},de([Le],x),{getTextSelectorProp:function $(G,le,Ne){return new x(G,le,Ne)}}}();function po(u,p,_){var x={propType:!1},$=zt.getProp,G=p.a;this.a={r:G.r?$(u,G.r,0,yt,_):x,rx:G.rx?$(u,G.rx,0,yt,_):x,ry:G.ry?$(u,G.ry,0,yt,_):x,sk:G.sk?$(u,G.sk,0,yt,_):x,sa:G.sa?$(u,G.sa,0,yt,_):x,s:G.s?$(u,G.s,1,.01,_):x,a:G.a?$(u,G.a,1,0,_):x,o:G.o?$(u,G.o,0,.01,_):x,p:G.p?$(u,G.p,1,0,_):x,sw:G.sw?$(u,G.sw,0,0,_):x,sc:G.sc?$(u,G.sc,1,0,_):x,fc:G.fc?$(u,G.fc,1,0,_):x,fh:G.fh?$(u,G.fh,0,0,_):x,fs:G.fs?$(u,G.fs,0,.01,_):x,fb:G.fb?$(u,G.fb,0,.01,_):x,t:G.t?$(u,G.t,0,0,_):x},this.s=ra.getTextSelectorProp(u,p.s,_),this.s.t=p.s.t}function Si(u,p,_){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=u,this._renderType=p,this._elem=_,this._animatorsData=et(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(_)}function Mi(){}Si.prototype.searchProperties=function(){var u,p=this._textData.a.length,x=zt.getProp;for(u=0;u<p;u+=1)this._animatorsData[u]=new po(this._elem,this._textData.a[u],this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:x(this._elem,this._textData.p.a,0,0,this),f:x(this._elem,this._textData.p.f,0,0,this),l:x(this._elem,this._textData.p.l,0,0,this),r:x(this._elem,this._textData.p.r,0,0,this),p:x(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=x(this._elem,this._textData.m.a,1,0,this)},Si.prototype.getMeasures=function(u,p){if(this.lettersChangedFlag=p,this._mdf||this._isFirstFrame||p||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var he,He,Xe,Pt,I,k,T,U,z,X,W,J,se,pe,ve,be,vt,Jt,_=this._moreOptions.alignment.v,x=this._animatorsData,$=this._textData,G=this.mHelper,le=this._renderType,Ne=this.renderedLetters.length,ge=u.l;if(this._hasMaskedPath){if(Jt=this._pathData.m,!this._pathData.n||this._pathData._mdf){var An,tn=Jt.v;for(this._pathData.r.v&&(tn=tn.reverse()),I={tLength:0,segments:[]},Pt=tn._length-1,be=0,Xe=0;Xe<Pt;Xe+=1)An=Wn.buildBezierData(tn.v[Xe],tn.v[Xe+1],[tn.o[Xe][0]-tn.v[Xe][0],tn.o[Xe][1]-tn.v[Xe][1]],[tn.i[Xe+1][0]-tn.v[Xe+1][0],tn.i[Xe+1][1]-tn.v[Xe+1][1]]),I.tLength+=An.segmentLength,I.segments.push(An),be+=An.segmentLength;Xe=Pt,Jt.v.c&&(An=Wn.buildBezierData(tn.v[Xe],tn.v[0],[tn.o[Xe][0]-tn.v[Xe][0],tn.o[Xe][1]-tn.v[Xe][1]],[tn.i[0][0]-tn.v[0][0],tn.i[0][1]-tn.v[0][1]]),I.tLength+=An.segmentLength,I.segments.push(An),be+=An.segmentLength),this._pathData.pi=I}if(W=0,X=1,U=0,z=!0,pe=(I=this._pathData.pi).segments,(k=this._pathData.f.v)<0&&Jt.v.c)for(I.tLength<Math.abs(k)&&(k=-Math.abs(k)%I.tLength),X=(se=pe[W=pe.length-1].points).length-1;k<0;)k+=se[X].partialLength,(X-=1)<0&&(X=(se=pe[W-=1].points).length-1);J=(se=pe[W].points)[X-1],ve=(T=se[X]).partialLength}Pt=ge.length,he=0,He=0;var $e,fe,Fe,Ut,kn=1.2*u.finalSize*.714,Vt=!0;Fe=x.length;var kt,Or,Mr,Vi,us,fs,ni,xn,ri,As,go,No,Us,Kn=-1,Xr=k,ys=W,Vs=X,Ss=-1,an="",wr=this.defaultPropsArray;if(2===u.j||1===u.j){var wi=0,Rn=0,Vn=2===u.j?-.5:-1,bo=0,Cn=!0;for(Xe=0;Xe<Pt;Xe+=1)if(ge[Xe].n){for(wi&&(wi+=Rn);bo<Xe;)ge[bo].animatorJustifyOffset=wi,bo+=1;wi=0,Cn=!0}else{for(fe=0;fe<Fe;fe+=1)($e=x[fe].a).t.propType&&(Cn&&2===u.j&&(Rn+=$e.t.v*Vn),wi+=(kt=x[fe].s.getMult(ge[Xe].anIndexes[fe],$.a[fe].s.totalChars)).length?$e.t.v*kt[0]*Vn:$e.t.v*kt*Vn);Cn=!1}for(wi&&(wi+=Rn);bo<Xe;)ge[bo].animatorJustifyOffset=wi,bo+=1}for(Xe=0;Xe<Pt;Xe+=1){if(G.reset(),us=1,ge[Xe].n)he=0,He+=u.yOffset,He+=Vt?1:0,k=Xr,Vt=!1,this._hasMaskedPath&&(J=(se=pe[W=ys].points)[(X=Vs)-1],ve=(T=se[X]).partialLength,U=0),an="",No="",As="",Us="",wr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Ss!==ge[Xe].line){switch(u.j){case 1:k+=be-u.lineWidths[ge[Xe].line];break;case 2:k+=(be-u.lineWidths[ge[Xe].line])/2}Ss=ge[Xe].line}Kn!==ge[Xe].ind&&(ge[Kn]&&(k+=ge[Kn].extra),k+=ge[Xe].an/2,Kn=ge[Xe].ind),k+=_[0]*ge[Xe].an*.005;var At=0;for(fe=0;fe<Fe;fe+=1)($e=x[fe].a).p.propType&&(At+=(kt=x[fe].s.getMult(ge[Xe].anIndexes[fe],$.a[fe].s.totalChars)).length?$e.p.v[0]*kt[0]:$e.p.v[0]*kt),$e.a.propType&&(At+=(kt=x[fe].s.getMult(ge[Xe].anIndexes[fe],$.a[fe].s.totalChars)).length?$e.a.v[0]*kt[0]:$e.a.v[0]*kt);for(z=!0,this._pathData.a.v&&(k=.5*ge[0].an+(be-this._pathData.f.v-.5*ge[0].an-.5*ge[ge.length-1].an)*Kn/(Pt-1),k+=this._pathData.f.v);z;)U+ve>=k+At||!se?(Mr=J.point[0]+(T.point[0]-J.point[0])*(vt=(k+At-U)/T.partialLength),Vi=J.point[1]+(T.point[1]-J.point[1])*vt,G.translate(-_[0]*ge[Xe].an*.005,-_[1]*kn*.01),z=!1):se&&(U+=T.partialLength,(X+=1)>=se.length&&(X=0,pe[W+=1]?se=pe[W].points:Jt.v.c?(X=0,se=pe[W=0].points):(U-=T.partialLength,se=null)),se&&(J=T,ve=(T=se[X]).partialLength));G.translate(-(Or=ge[Xe].an/2-ge[Xe].add),0,0)}else G.translate(-(Or=ge[Xe].an/2-ge[Xe].add),0,0),G.translate(-_[0]*ge[Xe].an*.005,-_[1]*kn*.01,0);for(fe=0;fe<Fe;fe+=1)($e=x[fe].a).t.propType&&(kt=x[fe].s.getMult(ge[Xe].anIndexes[fe],$.a[fe].s.totalChars),(0!==he||0!==u.j)&&(this._hasMaskedPath?k+=kt.length?$e.t.v*kt[0]:$e.t.v*kt:he+=kt.length?$e.t.v*kt[0]:$e.t.v*kt));for(u.strokeWidthAnim&&(ni=u.sw||0),u.strokeColorAnim&&(fs=u.sc?[u.sc[0],u.sc[1],u.sc[2]]:[0,0,0]),u.fillColorAnim&&u.fc&&(xn=[u.fc[0],u.fc[1],u.fc[2]]),fe=0;fe<Fe;fe+=1)($e=x[fe].a).a.propType&&((kt=x[fe].s.getMult(ge[Xe].anIndexes[fe],$.a[fe].s.totalChars)).length?G.translate(-$e.a.v[0]*kt[0],-$e.a.v[1]*kt[1],$e.a.v[2]*kt[2]):G.translate(-$e.a.v[0]*kt,-$e.a.v[1]*kt,$e.a.v[2]*kt));for(fe=0;fe<Fe;fe+=1)($e=x[fe].a).s.propType&&((kt=x[fe].s.getMult(ge[Xe].anIndexes[fe],$.a[fe].s.totalChars)).length?G.scale(1+($e.s.v[0]-1)*kt[0],1+($e.s.v[1]-1)*kt[1],1):G.scale(1+($e.s.v[0]-1)*kt,1+($e.s.v[1]-1)*kt,1));for(fe=0;fe<Fe;fe+=1){if($e=x[fe].a,kt=x[fe].s.getMult(ge[Xe].anIndexes[fe],$.a[fe].s.totalChars),$e.sk.propType&&(kt.length?G.skewFromAxis(-$e.sk.v*kt[0],$e.sa.v*kt[1]):G.skewFromAxis(-$e.sk.v*kt,$e.sa.v*kt)),$e.r.propType&&G.rotateZ(kt.length?-$e.r.v*kt[2]:-$e.r.v*kt),$e.ry.propType&&G.rotateY(kt.length?$e.ry.v*kt[1]:$e.ry.v*kt),$e.rx.propType&&G.rotateX(kt.length?$e.rx.v*kt[0]:$e.rx.v*kt),$e.o.propType&&(us+=kt.length?($e.o.v*kt[0]-us)*kt[0]:($e.o.v*kt-us)*kt),u.strokeWidthAnim&&$e.sw.propType&&(ni+=kt.length?$e.sw.v*kt[0]:$e.sw.v*kt),u.strokeColorAnim&&$e.sc.propType)for(ri=0;ri<3;ri+=1)fs[ri]+=kt.length?($e.sc.v[ri]-fs[ri])*kt[0]:($e.sc.v[ri]-fs[ri])*kt;if(u.fillColorAnim&&u.fc){if($e.fc.propType)for(ri=0;ri<3;ri+=1)xn[ri]+=kt.length?($e.fc.v[ri]-xn[ri])*kt[0]:($e.fc.v[ri]-xn[ri])*kt;$e.fh.propType&&(xn=ci(xn,kt.length?$e.fh.v*kt[0]:$e.fh.v*kt)),$e.fs.propType&&(xn=Un(xn,kt.length?$e.fs.v*kt[0]:$e.fs.v*kt)),$e.fb.propType&&(xn=ei(xn,kt.length?$e.fb.v*kt[0]:$e.fb.v*kt))}}for(fe=0;fe<Fe;fe+=1)($e=x[fe].a).p.propType&&(kt=x[fe].s.getMult(ge[Xe].anIndexes[fe],$.a[fe].s.totalChars),this._hasMaskedPath?kt.length?G.translate(0,$e.p.v[1]*kt[0],-$e.p.v[2]*kt[1]):G.translate(0,$e.p.v[1]*kt,-$e.p.v[2]*kt):kt.length?G.translate($e.p.v[0]*kt[0],$e.p.v[1]*kt[1],-$e.p.v[2]*kt[2]):G.translate($e.p.v[0]*kt,$e.p.v[1]*kt,-$e.p.v[2]*kt));if(u.strokeWidthAnim&&(As=ni<0?0:ni),u.strokeColorAnim&&(go="rgb("+Math.round(255*fs[0])+","+Math.round(255*fs[1])+","+Math.round(255*fs[2])+")"),u.fillColorAnim&&u.fc&&(No="rgb("+Math.round(255*xn[0])+","+Math.round(255*xn[1])+","+Math.round(255*xn[2])+")"),this._hasMaskedPath){if(G.translate(0,-u.ls),G.translate(0,_[1]*kn*.01+He,0),this._pathData.p.v){var Yt=180*Math.atan((T.point[1]-J.point[1])/(T.point[0]-J.point[0]))/Math.PI;T.point[0]<J.point[0]&&(Yt+=180),G.rotate(-Yt*Math.PI/180)}G.translate(Mr,Vi,0),k-=_[0]*ge[Xe].an*.005,ge[Xe+1]&&Kn!==ge[Xe+1].ind&&(k+=ge[Xe].an/2,k+=.001*u.tr*u.finalSize)}else{switch(G.translate(he,He,0),u.ps&&G.translate(u.ps[0],u.ps[1]+u.ascent,0),u.j){case 1:G.translate(ge[Xe].animatorJustifyOffset+u.justifyOffset+(u.boxWidth-u.lineWidths[ge[Xe].line]),0,0);break;case 2:G.translate(ge[Xe].animatorJustifyOffset+u.justifyOffset+(u.boxWidth-u.lineWidths[ge[Xe].line])/2,0,0)}G.translate(0,-u.ls),G.translate(Or,0,0),G.translate(_[0]*ge[Xe].an*.005,_[1]*kn*.01,0),he+=ge[Xe].l+.001*u.tr*u.finalSize}"html"===le?an=G.toCSS():"svg"===le?an=G.to2dCSS():wr=[G.props[0],G.props[1],G.props[2],G.props[3],G.props[4],G.props[5],G.props[6],G.props[7],G.props[8],G.props[9],G.props[10],G.props[11],G.props[12],G.props[13],G.props[14],G.props[15]],Us=us}Ne<=Xe?(Ut=new so(Us,As,go,No,an,wr),this.renderedLetters.push(Ut),Ne+=1,this.lettersChangedFlag=!0):this.lettersChangedFlag=(Ut=this.renderedLetters[Xe]).update(Us,As,go,No,an,wr)||this.lettersChangedFlag}}},Si.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},Si.prototype.mHelper=new $t,Si.prototype.defaultPropsArray=[],de([Le],Si),Mi.prototype.initElement=function(u,p,_){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(u,p,_),this.textProperty=new fi(this,u.t,this.dynamicProperties),this.textAnimator=new Si(u.t,this.renderType,this),this.initTransform(u,p,_),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},Mi.prototype.prepareFrame=function(u){this._mdf=!1,this.prepareRenderableFrame(u),this.prepareProperties(u,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},Mi.prototype.createPathShape=function(u,p){var _,$,x=p.length,G="";for(_=0;_<x;_+=1)"sh"===p[_].ty&&(G+=Ro($=p[_].ks.k,$.i.length,!0,u));return G},Mi.prototype.updateDocumentData=function(u,p){this.textProperty.updateDocumentData(u,p)},Mi.prototype.canResizeFont=function(u){this.textProperty.canResizeFont(u)},Mi.prototype.setMinimumFontSize=function(u){this.textProperty.setMinimumFontSize(u)},Mi.prototype.applyTextPropertiesToMatrix=function(u,p,_,x,$){switch(u.ps&&p.translate(u.ps[0],u.ps[1]+u.ascent,0),p.translate(0,-u.ls,0),u.j){case 1:p.translate(u.justifyOffset+(u.boxWidth-u.lineWidths[_]),0,0);break;case 2:p.translate(u.justifyOffset+(u.boxWidth-u.lineWidths[_])/2,0,0)}p.translate(x,$,0)},Mi.prototype.buildColor=function(u){return"rgb("+Math.round(255*u[0])+","+Math.round(255*u[1])+","+Math.round(255*u[2])+")"},Mi.prototype.emptyProp=new so,Mi.prototype.destroy=function(){};var Y={shapes:[]};function B(u,p,_){this.textSpans=[],this.renderType="svg",this.initElement(u,p,_)}function L(u,p,_){this.initElement(u,p,_)}function ue(u,p,_){this.initFrame(),this.initBaseData(u,p,_),this.initFrame(),this.initTransform(u,p,_),this.initHierarchy()}function _t(){}function On(){}function ur(u,p,_){this.layers=u.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?et(this.layers.length):[],this.initElement(u,p,_),this.tm=u.tm?zt.getProp(this,u.tm,0,p.frameRate,this):{_placeholder:!0}}function ls(u,p){this.animationItem=u,this.layers=null,this.renderedFrame=-1,this.svgElement=cn("svg");var _="";if(p&&p.title){var x=cn("title"),$=Lt();x.setAttribute("id",$),x.textContent=p.title,this.svgElement.appendChild(x),_+=$}if(p&&p.description){var G=cn("desc"),le=Lt();G.setAttribute("id",le),G.textContent=p.description,this.svgElement.appendChild(G),_+=" "+le}_&&this.svgElement.setAttribute("aria-labelledby",_);var Ne=cn("defs");this.svgElement.appendChild(Ne);var he=cn("g");this.svgElement.appendChild(he),this.layerElement=he,this.renderConfig={preserveAspectRatio:p&&p.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:p&&p.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:p&&p.contentVisibility||"visible",progressiveLoad:p&&p.progressiveLoad||!1,hideOnTransparent:!(p&&!1===p.hideOnTransparent),viewBoxOnly:p&&p.viewBoxOnly||!1,viewBoxSize:p&&p.viewBoxSize||!1,className:p&&p.className||"",id:p&&p.id||"",focusable:p&&p.focusable,filterSize:{width:p&&p.filterSize&&p.filterSize.width||"100%",height:p&&p.filterSize&&p.filterSize.height||"100%",x:p&&p.filterSize&&p.filterSize.x||"0%",y:p&&p.filterSize&&p.filterSize.y||"0%"},width:p&&p.width,height:p&&p.height,runExpressions:!p||void 0===p.runExpressions||p.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:Ne,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}return de([Zi,Ur,Lr,qs,$i,Fs,Mi],B),B.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=cn("text"))},B.prototype.buildTextContents=function(u){for(var p=0,_=u.length,x=[],$="";p<_;)u[p]===String.fromCharCode(13)||u[p]===String.fromCharCode(3)?(x.push($),$=""):$+=u[p],p+=1;return x.push($),x},B.prototype.buildShapeData=function(u,p){if(u.shapes&&u.shapes.length){var _=u.shapes[0];if(_.it){var x=_.it[_.it.length-1];x.s&&(x.s.k[0]=p,x.s.k[1]=p)}}return u},B.prototype.buildNewText=function(){this.addDynamicProperty(this);var u,p,_=this.textProperty.currentData;this.renderedLetters=et(_?_.l.length:0),this.layerElement.setAttribute("fill",_.fc?this.buildColor(_.fc):"rgba(0,0,0,0)"),_.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(_.sc)),this.layerElement.setAttribute("stroke-width",_.sw)),this.layerElement.setAttribute("font-size",_.finalSize);var x=this.globalData.fontManager.getFontByName(_.f);if(x.fClass)this.layerElement.setAttribute("class",x.fClass);else{this.layerElement.setAttribute("font-family",x.fFamily);var $=_.fWeight;this.layerElement.setAttribute("font-style",_.fStyle),this.layerElement.setAttribute("font-weight",$)}this.layerElement.setAttribute("aria-label",_.t);var le=_.l||[],Ne=!!this.globalData.fontManager.chars;p=le.length;var he,He=this.mHelper,Pt=this.data.singleShape,ge=0,I=0,k=!0,T=.001*_.tr*_.finalSize;if(!Pt||Ne||_.sz){var J,W=this.textSpans.length;for(u=0;u<p;u+=1){if(this.textSpans[u]||(this.textSpans[u]={span:null,childSpan:null,glyph:null}),!Ne||!Pt||0===u){if(he=W>u?this.textSpans[u].span:cn(Ne?"g":"text"),W<=u){if(he.setAttribute("stroke-linecap","butt"),he.setAttribute("stroke-linejoin","round"),he.setAttribute("stroke-miterlimit","4"),this.textSpans[u].span=he,Ne){var se=cn("g");he.appendChild(se),this.textSpans[u].childSpan=se}this.textSpans[u].span=he,this.layerElement.appendChild(he)}he.style.display="inherit"}if(He.reset(),Pt&&(le[u].n&&(ge=-T,I+=_.yOffset,I+=k?1:0,k=!1),this.applyTextPropertiesToMatrix(_,He,le[u].line,ge,I),ge+=le[u].l||0,ge+=T),Ne){var pe;if(1===(J=this.globalData.fontManager.getCharData(_.finalText[u],x.fStyle,this.globalData.fontManager.getFontByName(_.f).fFamily)).t)pe=new ur(J.data,this.globalData,this);else{var ve=Y;J.data&&J.data.shapes&&(ve=this.buildShapeData(J.data,_.finalSize)),pe=new Kr(ve,this.globalData,this)}if(this.textSpans[u].glyph){var be=this.textSpans[u].glyph;this.textSpans[u].childSpan.removeChild(be.layerElement),be.destroy()}this.textSpans[u].glyph=pe,pe._debug=!0,pe.prepareFrame(0),pe.renderFrame(),this.textSpans[u].childSpan.appendChild(pe.layerElement),1===J.t&&this.textSpans[u].childSpan.setAttribute("transform","scale("+_.finalSize/100+","+_.finalSize/100+")")}else Pt&&he.setAttribute("transform","translate("+He.props[12]+","+He.props[13]+")"),he.textContent=le[u].val,he.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}Pt&&he&&he.setAttribute("d","")}else{var U=this.textContainer,z="start";switch(_.j){case 1:z="end";break;case 2:z="middle";break;default:z="start"}U.setAttribute("text-anchor",z),U.setAttribute("letter-spacing",T);var X=this.buildTextContents(_.finalText);for(p=X.length,I=_.ps?_.ps[1]+_.ascent:0,u=0;u<p;u+=1)(he=this.textSpans[u].span||cn("tspan")).textContent=X[u],he.setAttribute("x",0),he.setAttribute("y",I),he.style.display="inherit",U.appendChild(he),this.textSpans[u]||(this.textSpans[u]={span:null,glyph:null}),this.textSpans[u].span=he,I+=_.finalLineHeight;this.layerElement.appendChild(U)}for(;u<this.textSpans.length;)this.textSpans[u].span.style.display="none",u+=1;this._sizeChanged=!0},B.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var u=this.layerElement.getBBox();this.bbox={top:u.y,left:u.x,width:u.width,height:u.height}}return this.bbox},B.prototype.getValue=function(){var u,_,p=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,u=0;u<p;u+=1)(_=this.textSpans[u].glyph)&&(_.prepareFrame(this.comp.renderedFrame-this.data.st),_._mdf&&(this._mdf=!0))},B.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var u,p,$,G,le,_=this.textAnimator.renderedLetters,x=this.textProperty.currentData.l;for(p=x.length,u=0;u<p;u+=1)x[u].n||($=_[u],G=this.textSpans[u].span,(le=this.textSpans[u].glyph)&&le.renderFrame(),$._mdf.m&&G.setAttribute("transform",$.m),$._mdf.o&&G.setAttribute("opacity",$.o),$._mdf.sw&&G.setAttribute("stroke-width",$.sw),$._mdf.sc&&G.setAttribute("stroke",$.sc),$._mdf.fc&&G.setAttribute("fill",$.fc))}},de([zo],L),L.prototype.createContent=function(){var u=cn("rect");u.setAttribute("width",this.data.sw),u.setAttribute("height",this.data.sh),u.setAttribute("fill",this.data.sc),this.layerElement.appendChild(u)},ue.prototype.prepareFrame=function(u){this.prepareProperties(u,!0)},ue.prototype.renderFrame=function(){},ue.prototype.getBaseElement=function(){return null},ue.prototype.destroy=function(){},ue.prototype.sourceRectAtTime=function(){},ue.prototype.hide=function(){},de([Zi,Ur,qs,$i],ue),de([_i],_t),_t.prototype.createNull=function(u){return new ue(u,this.globalData,this)},_t.prototype.createShape=function(u){return new Kr(u,this.globalData,this)},_t.prototype.createText=function(u){return new B(u,this.globalData,this)},_t.prototype.createImage=function(u){return new zo(u,this.globalData,this)},_t.prototype.createSolid=function(u){return new L(u,this.globalData,this)},_t.prototype.configAnimation=function(u){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize?this.renderConfig.viewBoxSize:"0 0 "+u.w+" "+u.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",u.w),this.svgElement.setAttribute("height",u.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var p=this.globalData.defs;this.setupGlobalData(u,p),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=u;var _=cn("clipPath"),x=cn("rect");x.setAttribute("width",u.w),x.setAttribute("height",u.h),x.setAttribute("x",0),x.setAttribute("y",0);var $=Lt();_.setAttribute("id",$),_.appendChild(x),this.layerElement.setAttribute("clip-path","url("+Ge()+"#"+$+")"),p.appendChild(_),this.layers=u.layers,this.elements=et(u.layers.length)},_t.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var u,p=this.layers?this.layers.length:0;for(u=0;u<p;u+=1)this.elements[u]&&this.elements[u].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},_t.prototype.updateContainerSize=function(){},_t.prototype.findIndexByInd=function(u){var p=0,_=this.layers.length;for(p=0;p<_;p+=1)if(this.layers[p].ind===u)return p;return-1},_t.prototype.buildItem=function(u){var p=this.elements;if(!p[u]&&99!==this.layers[u].ty){p[u]=!0;var _=this.createItem(this.layers[u]);if(p[u]=_,bn()&&(0===this.layers[u].ty&&this.globalData.projectInterface.registerComposition(_),_.initExpressions()),this.appendElementInPos(_,u),this.layers[u].tt){var x="tp"in this.layers[u]?this.findIndexByInd(this.layers[u].tp):u-1;if(-1===x)return;if(this.elements[x]&&!0!==this.elements[x]){var G=p[x].getMatte(this.layers[u].tt);_.setMatte(G)}else this.buildItem(x),this.addPendingElement(_)}}},_t.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var u=this.pendingElements.pop();if(u.checkParenting(),u.data.tt)for(var p=0,_=this.elements.length;p<_;){if(this.elements[p]===u){var x="tp"in u.data?this.findIndexByInd(u.data.tp):p-1,G=this.elements[x].getMatte(this.layers[p].tt);u.setMatte(G);break}p+=1}}},_t.prototype.renderFrame=function(u){if(this.renderedFrame!==u&&!this.destroyed){null===u?u=this.renderedFrame:this.renderedFrame=u,this.globalData.frameNum=u,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=u,this.globalData._mdf=!1;var p,_=this.layers.length;for(this.completeLayers||this.checkLayers(u),p=_-1;p>=0;p-=1)(this.completeLayers||this.elements[p])&&this.elements[p].prepareFrame(u-this.layers[p].st);if(this.globalData._mdf)for(p=0;p<_;p+=1)(this.completeLayers||this.elements[p])&&this.elements[p].renderFrame()}},_t.prototype.appendElementInPos=function(u,p){var _=u.getBaseElement();if(_){for(var $,x=0;x<p;)this.elements[x]&&!0!==this.elements[x]&&this.elements[x].getBaseElement()&&($=this.elements[x].getBaseElement()),x+=1;$?this.layerElement.insertBefore(_,$):this.layerElement.appendChild(_)}},_t.prototype.hide=function(){this.layerElement.style.display="none"},_t.prototype.show=function(){this.layerElement.style.display="block"},de([Zi,Ur,qs,$i,Fs],On),On.prototype.initElement=function(u,p,_){this.initFrame(),this.initBaseData(u,p,_),this.initTransform(u,p,_),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!p.progressiveLoad)&&this.buildAllItems(),this.hide()},On.prototype.prepareFrame=function(u){if(this._mdf=!1,this.prepareRenderableFrame(u),this.prepareProperties(u,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=u/this.data.sr;else{var p=this.tm.v;p===this.data.op&&(p=this.data.op-1),this.renderedFrame=p}var _,x=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),_=x-1;_>=0;_-=1)(this.completeLayers||this.elements[_])&&(this.elements[_].prepareFrame(this.renderedFrame-this.layers[_].st),this.elements[_]._mdf&&(this._mdf=!0))}},On.prototype.renderInnerContent=function(){var u,p=this.layers.length;for(u=0;u<p;u+=1)(this.completeLayers||this.elements[u])&&this.elements[u].renderFrame()},On.prototype.setElements=function(u){this.elements=u},On.prototype.getElements=function(){return this.elements},On.prototype.destroyElements=function(){var u,p=this.layers.length;for(u=0;u<p;u+=1)this.elements[u]&&this.elements[u].destroy()},On.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},de([_t,On,Lr],ur),ur.prototype.createComp=function(u){return new ur(u,this.globalData,this)},de([_t],ls),ls.prototype.createComp=function(u){return new ur(u,this.globalData,this)},Wr["svg"]=ls,qr.registerModifier("tm",vr),qr.registerModifier("pb",_o),qr.registerModifier("rp",ki),qr.registerModifier("rd",ms),qr.registerModifier("zz",Je),qr.registerModifier("op",qi),un}())},1135:(_n,at,H)=>{"use strict";H.d(at,{X:()=>O});var h=H(7579);class O extends h.x{constructor(Ve){super(),this._value=Ve}get value(){return this.getValue()}_subscribe(Ve){const ze=super._subscribe(Ve);return!ze.closed&&Ve.next(this._value),ze}getValue(){const{hasError:Ve,thrownError:ze,_value:We}=this;if(Ve)throw ze;return this._throwIfClosed(),We}next(Ve){super.next(this._value=Ve)}}},9751:(_n,at,H)=>{"use strict";H.d(at,{y:()=>Ge});var h=H(930),O=H(727),ee=H(8822),Ve=H(9635),ze=H(2416),We=H(576),Ze=H(2806);let Ge=(()=>{class Pe{constructor(rt){rt&&(this._subscribe=rt)}lift(rt){const et=new Pe;return et.source=this,et.operator=rt,et}subscribe(rt,et,Qt){const St=function _e(Pe){return Pe&&Pe instanceof h.Lv||function de(Pe){return Pe&&(0,We.m)(Pe.next)&&(0,We.m)(Pe.error)&&(0,We.m)(Pe.complete)}(Pe)&&(0,O.Nn)(Pe)}(rt)?rt:new h.Hp(rt,et,Qt);return(0,Ze.x)(()=>{const{operator:dt,source:pn}=this;St.add(dt?dt.call(St,pn):pn?this._subscribe(St):this._trySubscribe(St))}),St}_trySubscribe(rt){try{return this._subscribe(rt)}catch(et){rt.error(et)}}forEach(rt,et){return new(et=Qe(et))((Qt,St)=>{const dt=new h.Hp({next:pn=>{try{rt(pn)}catch(on){St(on),dt.unsubscribe()}},error:St,complete:Qt});this.subscribe(dt)})}_subscribe(rt){var et;return null===(et=this.source)||void 0===et?void 0:et.subscribe(rt)}[ee.L](){return this}pipe(...rt){return(0,Ve.U)(rt)(this)}toPromise(rt){return new(rt=Qe(rt))((et,Qt)=>{let St;this.subscribe(dt=>St=dt,dt=>Qt(dt),()=>et(St))})}}return Pe.create=ft=>new Pe(ft),Pe})();function Qe(Pe){var ft;return null!==(ft=Pe??ze.v.Promise)&&void 0!==ft?ft:Promise}},7579:(_n,at,H)=>{"use strict";H.d(at,{x:()=>Ze});var h=H(9751),O=H(727);const Ve=(0,H(3888).d)(Qe=>function(){Qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ze=H(8737),We=H(2806);let Ze=(()=>{class Qe extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(_e){const Pe=new Ge(this,this);return Pe.operator=_e,Pe}_throwIfClosed(){if(this.closed)throw new Ve}next(_e){(0,We.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Pe of this.currentObservers)Pe.next(_e)}})}error(_e){(0,We.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=_e;const{observers:Pe}=this;for(;Pe.length;)Pe.shift().error(_e)}})}complete(){(0,We.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:_e}=this;for(;_e.length;)_e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var _e;return(null===(_e=this.observers)||void 0===_e?void 0:_e.length)>0}_trySubscribe(_e){return this._throwIfClosed(),super._trySubscribe(_e)}_subscribe(_e){return this._throwIfClosed(),this._checkFinalizedStatuses(_e),this._innerSubscribe(_e)}_innerSubscribe(_e){const{hasError:Pe,isStopped:ft,observers:rt}=this;return Pe||ft?O.Lc:(this.currentObservers=null,rt.push(_e),new O.w0(()=>{this.currentObservers=null,(0,ze.P)(rt,_e)}))}_checkFinalizedStatuses(_e){const{hasError:Pe,thrownError:ft,isStopped:rt}=this;Pe?_e.error(ft):rt&&_e.complete()}asObservable(){const _e=new h.y;return _e.source=this,_e}}return Qe.create=(de,_e)=>new Ge(de,_e),Qe})();class Ge extends Ze{constructor(de,_e){super(),this.destination=de,this.source=_e}next(de){var _e,Pe;null===(Pe=null===(_e=this.destination)||void 0===_e?void 0:_e.next)||void 0===Pe||Pe.call(_e,de)}error(de){var _e,Pe;null===(Pe=null===(_e=this.destination)||void 0===_e?void 0:_e.error)||void 0===Pe||Pe.call(_e,de)}complete(){var de,_e;null===(_e=null===(de=this.destination)||void 0===de?void 0:de.complete)||void 0===_e||_e.call(de)}_subscribe(de){var _e,Pe;return null!==(Pe=null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(de))&&void 0!==Pe?Pe:O.Lc}}},930:(_n,at,H)=>{"use strict";H.d(at,{Hp:()=>Qt,Lv:()=>Pe});var h=H(576),O=H(727),ee=H(2416),Ve=H(7849),ze=H(5032);const We=Qe("C",void 0,void 0);function Qe(Oe,Ot,Tt){return{kind:Oe,value:Ot,error:Tt}}var de=H(3410),_e=H(2806);class Pe extends O.w0{constructor(Ot){super(),this.isStopped=!1,Ot?(this.destination=Ot,(0,O.Nn)(Ot)&&Ot.add(this)):this.destination=on}static create(Ot,Tt,Wt){return new Qt(Ot,Tt,Wt)}next(Ot){this.isStopped?pn(function Ge(Oe){return Qe("N",Oe,void 0)}(Ot),this):this._next(Ot)}error(Ot){this.isStopped?pn(function Ze(Oe){return Qe("E",void 0,Oe)}(Ot),this):(this.isStopped=!0,this._error(Ot))}complete(){this.isStopped?pn(We,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ot){this.destination.next(Ot)}_error(Ot){try{this.destination.error(Ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ft=Function.prototype.bind;function rt(Oe,Ot){return ft.call(Oe,Ot)}class et{constructor(Ot){this.partialObserver=Ot}next(Ot){const{partialObserver:Tt}=this;if(Tt.next)try{Tt.next(Ot)}catch(Wt){St(Wt)}}error(Ot){const{partialObserver:Tt}=this;if(Tt.error)try{Tt.error(Ot)}catch(Wt){St(Wt)}else St(Ot)}complete(){const{partialObserver:Ot}=this;if(Ot.complete)try{Ot.complete()}catch(Tt){St(Tt)}}}class Qt extends Pe{constructor(Ot,Tt,Wt){let qe;if(super(),(0,h.m)(Ot)||!Ot)qe={next:Ot??void 0,error:Tt??void 0,complete:Wt??void 0};else{let lt;this&&ee.v.useDeprecatedNextContext?(lt=Object.create(Ot),lt.unsubscribe=()=>this.unsubscribe(),qe={next:Ot.next&&rt(Ot.next,lt),error:Ot.error&&rt(Ot.error,lt),complete:Ot.complete&&rt(Ot.complete,lt)}):qe=Ot}this.destination=new et(qe)}}function St(Oe){ee.v.useDeprecatedSynchronousErrorHandling?(0,_e.O)(Oe):(0,Ve.h)(Oe)}function pn(Oe,Ot){const{onStoppedNotification:Tt}=ee.v;Tt&&de.z.setTimeout(()=>Tt(Oe,Ot))}const on={closed:!0,next:ze.Z,error:function dt(Oe){throw Oe},complete:ze.Z}},727:(_n,at,H)=>{"use strict";H.d(at,{Lc:()=>We,w0:()=>ze,Nn:()=>Ze});var h=H(576);const ee=(0,H(3888).d)(Qe=>function(_e){Qe(this),this.message=_e?`${_e.length} errors occurred during unsubscription:\n${_e.map((Pe,ft)=>`${ft+1}) ${Pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=_e});var Ve=H(8737);class ze{constructor(de){this.initialTeardown=de,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let de;if(!this.closed){this.closed=!0;const{_parentage:_e}=this;if(_e)if(this._parentage=null,Array.isArray(_e))for(const rt of _e)rt.remove(this);else _e.remove(this);const{initialTeardown:Pe}=this;if((0,h.m)(Pe))try{Pe()}catch(rt){de=rt instanceof ee?rt.errors:[rt]}const{_finalizers:ft}=this;if(ft){this._finalizers=null;for(const rt of ft)try{Ge(rt)}catch(et){de=de??[],et instanceof ee?de=[...de,...et.errors]:de.push(et)}}if(de)throw new ee(de)}}add(de){var _e;if(de&&de!==this)if(this.closed)Ge(de);else{if(de instanceof ze){if(de.closed||de._hasParent(this))return;de._addParent(this)}(this._finalizers=null!==(_e=this._finalizers)&&void 0!==_e?_e:[]).push(de)}}_hasParent(de){const{_parentage:_e}=this;return _e===de||Array.isArray(_e)&&_e.includes(de)}_addParent(de){const{_parentage:_e}=this;this._parentage=Array.isArray(_e)?(_e.push(de),_e):_e?[_e,de]:de}_removeParent(de){const{_parentage:_e}=this;_e===de?this._parentage=null:Array.isArray(_e)&&(0,Ve.P)(_e,de)}remove(de){const{_finalizers:_e}=this;_e&&(0,Ve.P)(_e,de),de instanceof ze&&de._removeParent(this)}}ze.EMPTY=(()=>{const Qe=new ze;return Qe.closed=!0,Qe})();const We=ze.EMPTY;function Ze(Qe){return Qe instanceof ze||Qe&&"closed"in Qe&&(0,h.m)(Qe.remove)&&(0,h.m)(Qe.add)&&(0,h.m)(Qe.unsubscribe)}function Ge(Qe){(0,h.m)(Qe)?Qe():Qe.unsubscribe()}},2416:(_n,at,H)=>{"use strict";H.d(at,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(_n,at,H)=>{"use strict";H.d(at,{z:()=>ze});var h=H(8189),ee=H(7669),Ve=H(8996);function ze(...We){return function O(){return(0,h.J)(1)}()((0,Ve.D)(We,(0,ee.yG)(We)))}},9770:(_n,at,H)=>{"use strict";H.d(at,{P:()=>ee});var h=H(9751),O=H(8421);function ee(Ve){return new h.y(ze=>{(0,O.Xf)(Ve()).subscribe(ze)})}},515:(_n,at,H)=>{"use strict";H.d(at,{E:()=>O});const O=new(H(9751).y)(ze=>ze.complete())},8996:(_n,at,H)=>{"use strict";H.d(at,{D:()=>Ot});var h=H(8421),O=H(5363),ee=H(9468),We=H(9751),Ge=H(2202),Qe=H(576),de=H(9672);function Pe(Tt,Wt){if(!Tt)throw new Error("Iterable cannot be null");return new We.y(qe=>{(0,de.f)(qe,Wt,()=>{const lt=Tt[Symbol.asyncIterator]();(0,de.f)(qe,Wt,()=>{lt.next().then(Dt=>{Dt.done?qe.complete():qe.next(Dt.value)})},0,!0)})})}var ft=H(3670),rt=H(8239),et=H(1144),Qt=H(6495),St=H(2206),dt=H(4532),pn=H(3260);function Ot(Tt,Wt){return Wt?function Oe(Tt,Wt){if(null!=Tt){if((0,ft.c)(Tt))return function Ve(Tt,Wt){return(0,h.Xf)(Tt).pipe((0,ee.R)(Wt),(0,O.Q)(Wt))}(Tt,Wt);if((0,et.z)(Tt))return function Ze(Tt,Wt){return new We.y(qe=>{let lt=0;return Wt.schedule(function(){lt===Tt.length?qe.complete():(qe.next(Tt[lt++]),qe.closed||this.schedule())})})}(Tt,Wt);if((0,rt.t)(Tt))return function ze(Tt,Wt){return(0,h.Xf)(Tt).pipe((0,ee.R)(Wt),(0,O.Q)(Wt))}(Tt,Wt);if((0,St.D)(Tt))return Pe(Tt,Wt);if((0,Qt.T)(Tt))return function _e(Tt,Wt){return new We.y(qe=>{let lt;return(0,de.f)(qe,Wt,()=>{lt=Tt[Ge.h](),(0,de.f)(qe,Wt,()=>{let Dt,pt;try{({value:Dt,done:pt}=lt.next())}catch(Rt){return void qe.error(Rt)}pt?qe.complete():qe.next(Dt)},0,!0)}),()=>(0,Qe.m)(lt?.return)&&lt.return()})}(Tt,Wt);if((0,pn.L)(Tt))return function on(Tt,Wt){return Pe((0,pn.Q)(Tt),Wt)}(Tt,Wt)}throw(0,dt.z)(Tt)}(Tt,Wt):(0,h.Xf)(Tt)}},8421:(_n,at,H)=>{"use strict";H.d(at,{Xf:()=>ft});var h=H(655),O=H(1144),ee=H(8239),Ve=H(9751),ze=H(3670),We=H(2206),Ze=H(4532),Ge=H(6495),Qe=H(3260),de=H(576),_e=H(7849),Pe=H(8822);function ft(Oe){if(Oe instanceof Ve.y)return Oe;if(null!=Oe){if((0,ze.c)(Oe))return function rt(Oe){return new Ve.y(Ot=>{const Tt=Oe[Pe.L]();if((0,de.m)(Tt.subscribe))return Tt.subscribe(Ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,O.z)(Oe))return function et(Oe){return new Ve.y(Ot=>{for(let Tt=0;Tt<Oe.length&&!Ot.closed;Tt++)Ot.next(Oe[Tt]);Ot.complete()})}(Oe);if((0,ee.t)(Oe))return function Qt(Oe){return new Ve.y(Ot=>{Oe.then(Tt=>{Ot.closed||(Ot.next(Tt),Ot.complete())},Tt=>Ot.error(Tt)).then(null,_e.h)})}(Oe);if((0,We.D)(Oe))return dt(Oe);if((0,Ge.T)(Oe))return function St(Oe){return new Ve.y(Ot=>{for(const Tt of Oe)if(Ot.next(Tt),Ot.closed)return;Ot.complete()})}(Oe);if((0,Qe.L)(Oe))return function pn(Oe){return dt((0,Qe.Q)(Oe))}(Oe)}throw(0,Ze.z)(Oe)}function dt(Oe){return new Ve.y(Ot=>{(function on(Oe,Ot){var Tt,Wt,qe,lt;return(0,h.mG)(this,void 0,void 0,function*(){try{for(Tt=(0,h.KL)(Oe);!(Wt=yield Tt.next()).done;)if(Ot.next(Wt.value),Ot.closed)return}catch(Dt){qe={error:Dt}}finally{try{Wt&&!Wt.done&&(lt=Tt.return)&&(yield lt.call(Tt))}finally{if(qe)throw qe.error}}Ot.complete()})})(Oe,Ot).catch(Tt=>Ot.error(Tt))})}},6451:(_n,at,H)=>{"use strict";H.d(at,{T:()=>We});var h=H(8189),O=H(8421),ee=H(515),Ve=H(7669),ze=H(8996);function We(...Ze){const Ge=(0,Ve.yG)(Ze),Qe=(0,Ve._6)(Ze,1/0),de=Ze;return de.length?1===de.length?(0,O.Xf)(de[0]):(0,h.J)(Qe)((0,ze.D)(de,Ge)):ee.E}},9646:(_n,at,H)=>{"use strict";H.d(at,{of:()=>ee});var h=H(7669),O=H(8996);function ee(...Ve){const ze=(0,h.yG)(Ve);return(0,O.D)(Ve,ze)}},5403:(_n,at,H)=>{"use strict";H.d(at,{x:()=>O});var h=H(930);function O(Ve,ze,We,Ze,Ge){return new ee(Ve,ze,We,Ze,Ge)}class ee extends h.Lv{constructor(ze,We,Ze,Ge,Qe,de){super(ze),this.onFinalize=Qe,this.shouldUnsubscribe=de,this._next=We?function(_e){try{We(_e)}catch(Pe){ze.error(Pe)}}:super._next,this._error=Ge?function(_e){try{Ge(_e)}catch(Pe){ze.error(Pe)}finally{this.unsubscribe()}}:super._error,this._complete=Ze?function(){try{Ze()}catch(_e){ze.error(_e)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ze;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:We}=this;super.unsubscribe(),!We&&(null===(ze=this.onFinalize)||void 0===ze||ze.call(this))}}}},6590:(_n,at,H)=>{"use strict";H.d(at,{d:()=>ee});var h=H(4482),O=H(5403);function ee(Ve){return(0,h.e)((ze,We)=>{let Ze=!1;ze.subscribe((0,O.x)(We,Ge=>{Ze=!0,We.next(Ge)},()=>{Ze||We.next(Ve),We.complete()}))})}},9300:(_n,at,H)=>{"use strict";H.d(at,{h:()=>ee});var h=H(4482),O=H(5403);function ee(Ve,ze){return(0,h.e)((We,Ze)=>{let Ge=0;We.subscribe((0,O.x)(Ze,Qe=>Ve.call(ze,Qe,Ge++)&&Ze.next(Qe)))})}},590:(_n,at,H)=>{"use strict";H.d(at,{P:()=>Ze});var h=H(6805),O=H(9300),ee=H(5698),Ve=H(6590),ze=H(8068),We=H(4671);function Ze(Ge,Qe){const de=arguments.length>=2;return _e=>_e.pipe(Ge?(0,O.h)((Pe,ft)=>Ge(Pe,ft,_e)):We.y,(0,ee.q)(1),de?(0,Ve.d)(Qe):(0,ze.T)(()=>new h.K))}},4004:(_n,at,H)=>{"use strict";H.d(at,{U:()=>ee});var h=H(4482),O=H(5403);function ee(Ve,ze){return(0,h.e)((We,Ze)=>{let Ge=0;We.subscribe((0,O.x)(Ze,Qe=>{Ze.next(Ve.call(ze,Qe,Ge++))}))})}},8189:(_n,at,H)=>{"use strict";H.d(at,{J:()=>ee});var h=H(5577),O=H(4671);function ee(Ve=1/0){return(0,h.z)(O.y,Ve)}},5577:(_n,at,H)=>{"use strict";H.d(at,{z:()=>Ge});var h=H(4004),O=H(8421),ee=H(4482),Ve=H(9672),ze=H(5403),Ze=H(576);function Ge(Qe,de,_e=1/0){return(0,Ze.m)(de)?Ge((Pe,ft)=>(0,h.U)((rt,et)=>de(Pe,rt,ft,et))((0,O.Xf)(Qe(Pe,ft))),_e):("number"==typeof de&&(_e=de),(0,ee.e)((Pe,ft)=>function We(Qe,de,_e,Pe,ft,rt,et,Qt){const St=[];let dt=0,pn=0,on=!1;const Oe=()=>{on&&!St.length&&!dt&&de.complete()},Ot=Wt=>dt<Pe?Tt(Wt):St.push(Wt),Tt=Wt=>{rt&&de.next(Wt),dt++;let qe=!1;(0,O.Xf)(_e(Wt,pn++)).subscribe((0,ze.x)(de,lt=>{ft?.(lt),rt?Ot(lt):de.next(lt)},()=>{qe=!0},void 0,()=>{if(qe)try{for(dt--;St.length&&dt<Pe;){const lt=St.shift();et?(0,Ve.f)(de,et,()=>Tt(lt)):Tt(lt)}Oe()}catch(lt){de.error(lt)}}))};return Qe.subscribe((0,ze.x)(de,Ot,()=>{on=!0,Oe()})),()=>{Qt?.()}}(Pe,ft,Qe,_e)))}},5363:(_n,at,H)=>{"use strict";H.d(at,{Q:()=>Ve});var h=H(9672),O=H(4482),ee=H(5403);function Ve(ze,We=0){return(0,O.e)((Ze,Ge)=>{Ze.subscribe((0,ee.x)(Ge,Qe=>(0,h.f)(Ge,ze,()=>Ge.next(Qe),We),()=>(0,h.f)(Ge,ze,()=>Ge.complete(),We),Qe=>(0,h.f)(Ge,ze,()=>Ge.error(Qe),We)))})}},5026:(_n,at,H)=>{"use strict";H.d(at,{R:()=>Ve});var h=H(4482),O=H(5403);function ee(ze,We,Ze,Ge,Qe){return(de,_e)=>{let Pe=Ze,ft=We,rt=0;de.subscribe((0,O.x)(_e,et=>{const Qt=rt++;ft=Pe?ze(ft,et,Qt):(Pe=!0,et),Ge&&_e.next(ft)},Qe&&(()=>{Pe&&_e.next(ft),_e.complete()})))}}function Ve(ze,We){return(0,h.e)(ee(ze,We,arguments.length>=2,!0))}},3099:(_n,at,H)=>{"use strict";H.d(at,{B:()=>ze});var h=H(8421),O=H(7579),ee=H(930),Ve=H(4482);function ze(Ze={}){const{connector:Ge=(()=>new O.x),resetOnError:Qe=!0,resetOnComplete:de=!0,resetOnRefCountZero:_e=!0}=Ze;return Pe=>{let ft,rt,et,Qt=0,St=!1,dt=!1;const pn=()=>{rt?.unsubscribe(),rt=void 0},on=()=>{pn(),ft=et=void 0,St=dt=!1},Oe=()=>{const Ot=ft;on(),Ot?.unsubscribe()};return(0,Ve.e)((Ot,Tt)=>{Qt++,!dt&&!St&&pn();const Wt=et=et??Ge();Tt.add(()=>{Qt--,0===Qt&&!dt&&!St&&(rt=We(Oe,_e))}),Wt.subscribe(Tt),!ft&&Qt>0&&(ft=new ee.Hp({next:qe=>Wt.next(qe),error:qe=>{dt=!0,pn(),rt=We(on,Qe,qe),Wt.error(qe)},complete:()=>{St=!0,pn(),rt=We(on,de),Wt.complete()}}),(0,h.Xf)(Ot).subscribe(ft))})(Pe)}}function We(Ze,Ge,...Qe){if(!0===Ge)return void Ze();if(!1===Ge)return;const de=new ee.Hp({next:()=>{de.unsubscribe(),Ze()}});return Ge(...Qe).subscribe(de)}},3151:(_n,at,H)=>{"use strict";H.d(at,{d:()=>ze});var h=H(7579),O=H(6063);class ee extends h.x{constructor(Ze=1/0,Ge=1/0,Qe=O.l){super(),this._bufferSize=Ze,this._windowTime=Ge,this._timestampProvider=Qe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ge===1/0,this._bufferSize=Math.max(1,Ze),this._windowTime=Math.max(1,Ge)}next(Ze){const{isStopped:Ge,_buffer:Qe,_infiniteTimeWindow:de,_timestampProvider:_e,_windowTime:Pe}=this;Ge||(Qe.push(Ze),!de&&Qe.push(_e.now()+Pe)),this._trimBuffer(),super.next(Ze)}_subscribe(Ze){this._throwIfClosed(),this._trimBuffer();const Ge=this._innerSubscribe(Ze),{_infiniteTimeWindow:Qe,_buffer:de}=this,_e=de.slice();for(let Pe=0;Pe<_e.length&&!Ze.closed;Pe+=Qe?1:2)Ze.next(_e[Pe]);return this._checkFinalizedStatuses(Ze),Ge}_trimBuffer(){const{_bufferSize:Ze,_timestampProvider:Ge,_buffer:Qe,_infiniteTimeWindow:de}=this,_e=(de?1:2)*Ze;if(Ze<1/0&&_e<Qe.length&&Qe.splice(0,Qe.length-_e),!de){const Pe=Ge.now();let ft=0;for(let rt=1;rt<Qe.length&&Qe[rt]<=Pe;rt+=2)ft=rt;ft&&Qe.splice(0,ft+1)}}}var Ve=H(3099);function ze(We,Ze,Ge){let Qe,de=!1;return We&&"object"==typeof We?({bufferSize:Qe=1/0,windowTime:Ze=1/0,refCount:de=!1,scheduler:Ge}=We):Qe=We??1/0,(0,Ve.B)({connector:()=>new ee(Qe,Ze,Ge),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:de})}},8675:(_n,at,H)=>{"use strict";H.d(at,{O:()=>Ve});var h=H(7272),O=H(7669),ee=H(4482);function Ve(...ze){const We=(0,O.yG)(ze);return(0,ee.e)((Ze,Ge)=>{(We?(0,h.z)(ze,Ze,We):(0,h.z)(ze,Ze)).subscribe(Ge)})}},9468:(_n,at,H)=>{"use strict";H.d(at,{R:()=>O});var h=H(4482);function O(ee,Ve=0){return(0,h.e)((ze,We)=>{We.add(ee.schedule(()=>ze.subscribe(We),Ve))})}},3900:(_n,at,H)=>{"use strict";H.d(at,{w:()=>Ve});var h=H(8421),O=H(4482),ee=H(5403);function Ve(ze,We){return(0,O.e)((Ze,Ge)=>{let Qe=null,de=0,_e=!1;const Pe=()=>_e&&!Qe&&Ge.complete();Ze.subscribe((0,ee.x)(Ge,ft=>{Qe?.unsubscribe();let rt=0;const et=de++;(0,h.Xf)(ze(ft,et)).subscribe(Qe=(0,ee.x)(Ge,Qt=>Ge.next(We?We(ft,Qt,et,rt++):Qt),()=>{Qe=null,Pe()}))},()=>{_e=!0,Pe()}))})}},5698:(_n,at,H)=>{"use strict";H.d(at,{q:()=>Ve});var h=H(515),O=H(4482),ee=H(5403);function Ve(ze){return ze<=0?()=>h.E:(0,O.e)((We,Ze)=>{let Ge=0;We.subscribe((0,ee.x)(Ze,Qe=>{++Ge<=ze&&(Ze.next(Qe),ze<=Ge&&Ze.complete())}))})}},8505:(_n,at,H)=>{"use strict";H.d(at,{b:()=>ze});var h=H(576),O=H(4482),ee=H(5403),Ve=H(4671);function ze(We,Ze,Ge){const Qe=(0,h.m)(We)||Ze||Ge?{next:We,error:Ze,complete:Ge}:We;return Qe?(0,O.e)((de,_e)=>{var Pe;null===(Pe=Qe.subscribe)||void 0===Pe||Pe.call(Qe);let ft=!0;de.subscribe((0,ee.x)(_e,rt=>{var et;null===(et=Qe.next)||void 0===et||et.call(Qe,rt),_e.next(rt)},()=>{var rt;ft=!1,null===(rt=Qe.complete)||void 0===rt||rt.call(Qe),_e.complete()},rt=>{var et;ft=!1,null===(et=Qe.error)||void 0===et||et.call(Qe,rt),_e.error(rt)},()=>{var rt,et;ft&&(null===(rt=Qe.unsubscribe)||void 0===rt||rt.call(Qe)),null===(et=Qe.finalize)||void 0===et||et.call(Qe)}))}):Ve.y}},8068:(_n,at,H)=>{"use strict";H.d(at,{T:()=>Ve});var h=H(6805),O=H(4482),ee=H(5403);function Ve(We=ze){return(0,O.e)((Ze,Ge)=>{let Qe=!1;Ze.subscribe((0,ee.x)(Ge,de=>{Qe=!0,Ge.next(de)},()=>Qe?Ge.complete():Ge.error(We())))})}function ze(){return new h.K}},4408:(_n,at,H)=>{"use strict";H.d(at,{o:()=>ze});var h=H(727);class O extends h.w0{constructor(Ze,Ge){super()}schedule(Ze,Ge=0){return this}}const ee={setInterval(We,Ze,...Ge){const{delegate:Qe}=ee;return Qe?.setInterval?Qe.setInterval(We,Ze,...Ge):setInterval(We,Ze,...Ge)},clearInterval(We){const{delegate:Ze}=ee;return(Ze?.clearInterval||clearInterval)(We)},delegate:void 0};var Ve=H(8737);class ze extends O{constructor(Ze,Ge){super(Ze,Ge),this.scheduler=Ze,this.work=Ge,this.pending=!1}schedule(Ze,Ge=0){var Qe;if(this.closed)return this;this.state=Ze;const de=this.id,_e=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(_e,de,Ge)),this.pending=!0,this.delay=Ge,this.id=null!==(Qe=this.id)&&void 0!==Qe?Qe:this.requestAsyncId(_e,this.id,Ge),this}requestAsyncId(Ze,Ge,Qe=0){return ee.setInterval(Ze.flush.bind(Ze,this),Qe)}recycleAsyncId(Ze,Ge,Qe=0){if(null!=Qe&&this.delay===Qe&&!1===this.pending)return Ge;null!=Ge&&ee.clearInterval(Ge)}execute(Ze,Ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Qe=this._execute(Ze,Ge);if(Qe)return Qe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ze,Ge){let de,Qe=!1;try{this.work(Ze)}catch(_e){Qe=!0,de=_e||new Error("Scheduled action threw falsy error")}if(Qe)return this.unsubscribe(),de}unsubscribe(){if(!this.closed){const{id:Ze,scheduler:Ge}=this,{actions:Qe}=Ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ve.P)(Qe,this),null!=Ze&&(this.id=this.recycleAsyncId(Ge,Ze,null)),this.delay=null,super.unsubscribe()}}}},7565:(_n,at,H)=>{"use strict";H.d(at,{v:()=>ee});var h=H(6063);class O{constructor(ze,We=O.now){this.schedulerActionCtor=ze,this.now=We}schedule(ze,We=0,Ze){return new this.schedulerActionCtor(this,ze).schedule(Ze,We)}}O.now=h.l.now;class ee extends O{constructor(ze,We=O.now){super(ze,We),this.actions=[],this._active=!1}flush(ze){const{actions:We}=this;if(this._active)return void We.push(ze);let Ze;this._active=!0;do{if(Ze=ze.execute(ze.state,ze.delay))break}while(ze=We.shift());if(this._active=!1,Ze){for(;ze=We.shift();)ze.unsubscribe();throw Ze}}}},4986:(_n,at,H)=>{"use strict";H.d(at,{z:()=>ee});var h=H(4408);const ee=new(H(7565).v)(h.o)},6063:(_n,at,H)=>{"use strict";H.d(at,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(_n,at,H)=>{"use strict";H.d(at,{z:()=>h});const h={setTimeout(O,ee,...Ve){const{delegate:ze}=h;return ze?.setTimeout?ze.setTimeout(O,ee,...Ve):setTimeout(O,ee,...Ve)},clearTimeout(O){const{delegate:ee}=h;return(ee?.clearTimeout||clearTimeout)(O)},delegate:void 0}},2202:(_n,at,H)=>{"use strict";H.d(at,{h:()=>O});const O=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(_n,at,H)=>{"use strict";H.d(at,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(_n,at,H)=>{"use strict";H.d(at,{K:()=>O});const O=(0,H(3888).d)(ee=>function(){ee(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(_n,at,H)=>{"use strict";H.d(at,{_6:()=>We,jO:()=>Ve,yG:()=>ze});var h=H(576);function ee(Ze){return Ze[Ze.length-1]}function Ve(Ze){return(0,h.m)(ee(Ze))?Ze.pop():void 0}function ze(Ze){return function O(Ze){return Ze&&(0,h.m)(Ze.schedule)}(ee(Ze))?Ze.pop():void 0}function We(Ze,Ge){return"number"==typeof ee(Ze)?Ze.pop():Ge}},4742:(_n,at,H)=>{"use strict";H.d(at,{D:()=>ze});const{isArray:h}=Array,{getPrototypeOf:O,prototype:ee,keys:Ve}=Object;function ze(Ze){if(1===Ze.length){const Ge=Ze[0];if(h(Ge))return{args:Ge,keys:null};if(function We(Ze){return Ze&&"object"==typeof Ze&&O(Ze)===ee}(Ge)){const Qe=Ve(Ge);return{args:Qe.map(de=>Ge[de]),keys:Qe}}}return{args:Ze,keys:null}}},8737:(_n,at,H)=>{"use strict";function h(O,ee){if(O){const Ve=O.indexOf(ee);0<=Ve&&O.splice(Ve,1)}}H.d(at,{P:()=>h})},3888:(_n,at,H)=>{"use strict";function h(O){const Ve=O(ze=>{Error.call(ze),ze.stack=(new Error).stack});return Ve.prototype=Object.create(Error.prototype),Ve.prototype.constructor=Ve,Ve}H.d(at,{d:()=>h})},1810:(_n,at,H)=>{"use strict";function h(O,ee){return O.reduce((Ve,ze,We)=>(Ve[ze]=ee[We],Ve),{})}H.d(at,{n:()=>h})},2806:(_n,at,H)=>{"use strict";H.d(at,{O:()=>Ve,x:()=>ee});var h=H(2416);let O=null;function ee(ze){if(h.v.useDeprecatedSynchronousErrorHandling){const We=!O;if(We&&(O={errorThrown:!1,error:null}),ze(),We){const{errorThrown:Ze,error:Ge}=O;if(O=null,Ze)throw Ge}}else ze()}function Ve(ze){h.v.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=ze)}},9672:(_n,at,H)=>{"use strict";function h(O,ee,Ve,ze=0,We=!1){const Ze=ee.schedule(function(){Ve(),We?O.add(this.schedule(null,ze)):this.unsubscribe()},ze);if(O.add(Ze),!We)return Ze}H.d(at,{f:()=>h})},4671:(_n,at,H)=>{"use strict";function h(O){return O}H.d(at,{y:()=>h})},1144:(_n,at,H)=>{"use strict";H.d(at,{z:()=>h});const h=O=>O&&"number"==typeof O.length&&"function"!=typeof O},2206:(_n,at,H)=>{"use strict";H.d(at,{D:()=>O});var h=H(576);function O(ee){return Symbol.asyncIterator&&(0,h.m)(ee?.[Symbol.asyncIterator])}},576:(_n,at,H)=>{"use strict";function h(O){return"function"==typeof O}H.d(at,{m:()=>h})},3670:(_n,at,H)=>{"use strict";H.d(at,{c:()=>ee});var h=H(8822),O=H(576);function ee(Ve){return(0,O.m)(Ve[h.L])}},6495:(_n,at,H)=>{"use strict";H.d(at,{T:()=>ee});var h=H(2202),O=H(576);function ee(Ve){return(0,O.m)(Ve?.[h.h])}},8239:(_n,at,H)=>{"use strict";H.d(at,{t:()=>O});var h=H(576);function O(ee){return(0,h.m)(ee?.then)}},3260:(_n,at,H)=>{"use strict";H.d(at,{L:()=>Ve,Q:()=>ee});var h=H(655),O=H(576);function ee(ze){return(0,h.FC)(this,arguments,function*(){const Ze=ze.getReader();try{for(;;){const{value:Ge,done:Qe}=yield(0,h.qq)(Ze.read());if(Qe)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(Ge)}}finally{Ze.releaseLock()}})}function Ve(ze){return(0,O.m)(ze?.getReader)}},4482:(_n,at,H)=>{"use strict";H.d(at,{A:()=>O,e:()=>ee});var h=H(576);function O(Ve){return(0,h.m)(Ve?.lift)}function ee(Ve){return ze=>{if(O(ze))return ze.lift(function(We){try{return Ve(We,this)}catch(Ze){this.error(Ze)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(_n,at,H)=>{"use strict";H.d(at,{Z:()=>Ve});var h=H(4004);const{isArray:O}=Array;function Ve(ze){return(0,h.U)(We=>function ee(ze,We){return O(We)?ze(...We):ze(We)}(ze,We))}},5032:(_n,at,H)=>{"use strict";function h(){}H.d(at,{Z:()=>h})},9635:(_n,at,H)=>{"use strict";H.d(at,{U:()=>ee,z:()=>O});var h=H(4671);function O(...Ve){return ee(Ve)}function ee(Ve){return 0===Ve.length?h.y:1===Ve.length?Ve[0]:function(We){return Ve.reduce((Ze,Ge)=>Ge(Ze),We)}}},7849:(_n,at,H)=>{"use strict";H.d(at,{h:()=>ee});var h=H(2416),O=H(3410);function ee(Ve){O.z.setTimeout(()=>{const{onUnhandledError:ze}=h.v;if(!ze)throw Ve;ze(Ve)})}},4532:(_n,at,H)=>{"use strict";function h(O){return new TypeError(`You provided ${null!==O&&"object"==typeof O?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(at,{z:()=>h})},655:(_n,at,H)=>{"use strict";function Ve(Me,tt){var ut={};for(var jt in Me)Object.prototype.hasOwnProperty.call(Me,jt)&&tt.indexOf(jt)<0&&(ut[jt]=Me[jt]);if(null!=Me&&"function"==typeof Object.getOwnPropertySymbols){var Bt=0;for(jt=Object.getOwnPropertySymbols(Me);Bt<jt.length;Bt++)tt.indexOf(jt[Bt])<0&&Object.prototype.propertyIsEnumerable.call(Me,jt[Bt])&&(ut[jt[Bt]]=Me[jt[Bt]])}return ut}function Pe(Me,tt,ut,jt){return new(ut||(ut=Promise))(function(It,Nn){function yn(qt){try{en(jt.next(qt))}catch(Ht){Nn(Ht)}}function Ar(qt){try{en(jt.throw(qt))}catch(Ht){Nn(Ht)}}function en(qt){qt.done?It(qt.value):function Bt(It){return It instanceof ut?It:new ut(function(Nn){Nn(It)})}(qt.value).then(yn,Ar)}en((jt=jt.apply(Me,tt||[])).next())})}function Oe(Me){return this instanceof Oe?(this.v=Me,this):new Oe(Me)}function Ot(Me,tt,ut){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Bt,jt=ut.apply(Me,tt||[]),It=[];return Bt={},Nn("next"),Nn("throw"),Nn("return"),Bt[Symbol.asyncIterator]=function(){return this},Bt;function Nn(Lt){jt[Lt]&&(Bt[Lt]=function(mn){return new Promise(function(Bn,Un){It.push([Lt,mn,Bn,Un])>1||yn(Lt,mn)})})}function yn(Lt,mn){try{!function Ar(Lt){Lt.value instanceof Oe?Promise.resolve(Lt.value.v).then(en,qt):Ht(It[0][2],Lt)}(jt[Lt](mn))}catch(Bn){Ht(It[0][3],Bn)}}function en(Lt){yn("next",Lt)}function qt(Lt){yn("throw",Lt)}function Ht(Lt,mn){Lt(mn),It.shift(),It.length&&yn(It[0][0],It[0][1])}}function Wt(Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,tt=Me[Symbol.asyncIterator];return tt?tt.call(Me):(Me=function Qt(Me){var tt="function"==typeof Symbol&&Symbol.iterator,ut=tt&&Me[tt],jt=0;if(ut)return ut.call(Me);if(Me&&"number"==typeof Me.length)return{next:function(){return Me&&jt>=Me.length&&(Me=void 0),{value:Me&&Me[jt++],done:!Me}}};throw new TypeError(tt?"Object is not iterable.":"Symbol.iterator is not defined.")}(Me),ut={},jt("next"),jt("throw"),jt("return"),ut[Symbol.asyncIterator]=function(){return this},ut);function jt(It){ut[It]=Me[It]&&function(Nn){return new Promise(function(yn,Ar){!function Bt(It,Nn,yn,Ar){Promise.resolve(Ar).then(function(en){It({value:en,done:yn})},Nn)}(yn,Ar,(Nn=Me[It](Nn)).done,Nn.value)})}}}H.d(at,{FC:()=>Ot,KL:()=>Wt,_T:()=>Ve,mG:()=>Pe,qq:()=>Oe})},6895:(_n,at,H)=>{"use strict";H.d(at,{Do:()=>on,EM:()=>Ns,HT:()=>ze,JF:()=>Os,K0:()=>Ze,Mx:()=>vi,NF:()=>$i,O5:()=>Vr,PC:()=>uo,PM:()=>Rs,S$:()=>St,V_:()=>de,Ye:()=>Oe,b0:()=>pn,bD:()=>ji,ez:()=>Go,mk:()=>vr,q:()=>ee,sg:()=>Li,w_:()=>We});var h=H(4650);let O=null;function ee(){return O}function ze(I){O||(O=I)}class We{}const Ze=new h.OlP("DocumentToken");let Ge=(()=>{class I{historyGo(T){throw new Error("Not implemented")}}return I.\u0275fac=function(T){return new(T||I)},I.\u0275prov=h.Yz7({token:I,factory:function(){return function Qe(){return(0,h.LFG)(_e)}()},providedIn:"platform"}),I})();const de=new h.OlP("Location Initialized");let _e=(()=>{class I extends Ge{constructor(T){super(),this._doc=T,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ee().getBaseHref(this._doc)}onPopState(T){const U=ee().getGlobalEventTarget(this._doc,"window");return U.addEventListener("popstate",T,!1),()=>U.removeEventListener("popstate",T)}onHashChange(T){const U=ee().getGlobalEventTarget(this._doc,"window");return U.addEventListener("hashchange",T,!1),()=>U.removeEventListener("hashchange",T)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(T){this.location.pathname=T}pushState(T,U,z){Pe()?this._history.pushState(T,U,z):this.location.hash=z}replaceState(T,U,z){Pe()?this._history.replaceState(T,U,z):this.location.hash=z}forward(){this._history.forward()}back(){this._history.back()}historyGo(T=0){this._history.go(T)}getState(){return this._history.state}}return I.\u0275fac=function(T){return new(T||I)(h.LFG(Ze))},I.\u0275prov=h.Yz7({token:I,factory:function(){return function ft(){return new _e((0,h.LFG)(Ze))}()},providedIn:"platform"}),I})();function Pe(){return!!window.history.pushState}function rt(I,k){if(0==I.length)return k;if(0==k.length)return I;let T=0;return I.endsWith("/")&&T++,k.startsWith("/")&&T++,2==T?I+k.substring(1):1==T?I+k:I+"/"+k}function et(I){const k=I.match(/#|\?|$/),T=k&&k.index||I.length;return I.slice(0,T-("/"===I[T-1]?1:0))+I.slice(T)}function Qt(I){return I&&"?"!==I[0]?"?"+I:I}let St=(()=>{class I{historyGo(T){throw new Error("Not implemented")}}return I.\u0275fac=function(T){return new(T||I)},I.\u0275prov=h.Yz7({token:I,factory:function(){return(0,h.f3M)(pn)},providedIn:"root"}),I})();const dt=new h.OlP("appBaseHref");let pn=(()=>{class I extends St{constructor(T,U){super(),this._platformLocation=T,this._removeListenerFns=[],this._baseHref=U??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(Ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}prepareExternalUrl(T){return rt(this._baseHref,T)}path(T=!1){const U=this._platformLocation.pathname+Qt(this._platformLocation.search),z=this._platformLocation.hash;return z&&T?`${U}${z}`:U}pushState(T,U,z,X){const W=this.prepareExternalUrl(z+Qt(X));this._platformLocation.pushState(T,U,W)}replaceState(T,U,z,X){const W=this.prepareExternalUrl(z+Qt(X));this._platformLocation.replaceState(T,U,W)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return I.\u0275fac=function(T){return new(T||I)(h.LFG(Ge),h.LFG(dt,8))},I.\u0275prov=h.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),on=(()=>{class I extends St{constructor(T,U){super(),this._platformLocation=T,this._baseHref="",this._removeListenerFns=[],null!=U&&(this._baseHref=U)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}path(T=!1){let U=this._platformLocation.hash;return null==U&&(U="#"),U.length>0?U.substring(1):U}prepareExternalUrl(T){const U=rt(this._baseHref,T);return U.length>0?"#"+U:U}pushState(T,U,z,X){let W=this.prepareExternalUrl(z+Qt(X));0==W.length&&(W=this._platformLocation.pathname),this._platformLocation.pushState(T,U,W)}replaceState(T,U,z,X){let W=this.prepareExternalUrl(z+Qt(X));0==W.length&&(W=this._platformLocation.pathname),this._platformLocation.replaceState(T,U,W)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return I.\u0275fac=function(T){return new(T||I)(h.LFG(Ge),h.LFG(dt,8))},I.\u0275prov=h.Yz7({token:I,factory:I.\u0275fac}),I})(),Oe=(()=>{class I{constructor(T){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=T;const U=this._locationStrategy.getBaseHref();this._baseHref=et(Wt(U)),this._locationStrategy.onPopState(z=>{this._subject.emit({url:this.path(!0),pop:!0,state:z.state,type:z.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(T=!1){return this.normalize(this._locationStrategy.path(T))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(T,U=""){return this.path()==this.normalize(T+Qt(U))}normalize(T){return I.stripTrailingSlash(function Tt(I,k){return I&&k.startsWith(I)?k.substring(I.length):k}(this._baseHref,Wt(T)))}prepareExternalUrl(T){return T&&"/"!==T[0]&&(T="/"+T),this._locationStrategy.prepareExternalUrl(T)}go(T,U="",z=null){this._locationStrategy.pushState(z,"",T,U),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+Qt(U)),z)}replaceState(T,U="",z=null){this._locationStrategy.replaceState(z,"",T,U),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+Qt(U)),z)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(T=0){this._locationStrategy.historyGo?.(T)}onUrlChange(T){return this._urlChangeListeners.push(T),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(U=>{this._notifyUrlChangeListeners(U.url,U.state)})),()=>{const U=this._urlChangeListeners.indexOf(T);this._urlChangeListeners.splice(U,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(T="",U){this._urlChangeListeners.forEach(z=>z(T,U))}subscribe(T,U,z){return this._subject.subscribe({next:T,error:U,complete:z})}}return I.normalizeQueryParams=Qt,I.joinWithSlash=rt,I.stripTrailingSlash=et,I.\u0275fac=function(T){return new(T||I)(h.LFG(St))},I.\u0275prov=h.Yz7({token:I,factory:function(){return function Ot(){return new Oe((0,h.LFG)(St))}()},providedIn:"root"}),I})();function Wt(I){return I.replace(/\/index.html$/,"")}function vi(I,k){k=encodeURIComponent(k);for(const T of I.split(";")){const U=T.indexOf("="),[z,X]=-1==U?[T,""]:[T.slice(0,U),T.slice(U+1)];if(z.trim()===k)return decodeURIComponent(X)}return null}let vr=(()=>{class I{constructor(T,U,z,X){this._iterableDiffers=T,this._keyValueDiffers=U,this._ngEl=z,this._renderer=X,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(T){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof T?T.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(T){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof T?T.split(/\s+/):T,this._rawClass&&((0,h.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const T=this._iterableDiffer.diff(this._rawClass);T&&this._applyIterableChanges(T)}else if(this._keyValueDiffer){const T=this._keyValueDiffer.diff(this._rawClass);T&&this._applyKeyValueChanges(T)}}_applyKeyValueChanges(T){T.forEachAddedItem(U=>this._toggleClass(U.key,U.currentValue)),T.forEachChangedItem(U=>this._toggleClass(U.key,U.currentValue)),T.forEachRemovedItem(U=>{U.previousValue&&this._toggleClass(U.key,!1)})}_applyIterableChanges(T){T.forEachAddedItem(U=>{if("string"!=typeof U.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,h.AaK)(U.item)}`);this._toggleClass(U.item,!0)}),T.forEachRemovedItem(U=>this._toggleClass(U.item,!1))}_applyClasses(T){T&&(Array.isArray(T)||T instanceof Set?T.forEach(U=>this._toggleClass(U,!0)):Object.keys(T).forEach(U=>this._toggleClass(U,!!T[U])))}_removeClasses(T){T&&(Array.isArray(T)||T instanceof Set?T.forEach(U=>this._toggleClass(U,!1)):Object.keys(T).forEach(U=>this._toggleClass(U,!1)))}_toggleClass(T,U){(T=T.trim())&&T.split(/\s+/g).forEach(z=>{U?this._renderer.addClass(this._ngEl.nativeElement,z):this._renderer.removeClass(this._ngEl.nativeElement,z)})}}return I.\u0275fac=function(T){return new(T||I)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},I.\u0275dir=h.lG2({type:I,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),I})();class ms{constructor(k,T,U,z){this.$implicit=k,this.ngForOf=T,this.index=U,this.count=z}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Li=(()=>{class I{constructor(T,U,z){this._viewContainer=T,this._template=U,this._differs=z,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(T){this._ngForOf=T,this._ngForOfDirty=!0}set ngForTrackBy(T){this._trackByFn=T}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(T){T&&(this._template=T)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const T=this._ngForOf;!this._differ&&T&&(this._differ=this._differs.find(T).create(this.ngForTrackBy))}if(this._differ){const T=this._differ.diff(this._ngForOf);T&&this._applyChanges(T)}}_applyChanges(T){const U=this._viewContainer;T.forEachOperation((z,X,W)=>{if(null==z.previousIndex)U.createEmbeddedView(this._template,new ms(z.item,this._ngForOf,-1,-1),null===W?void 0:W);else if(null==W)U.remove(null===X?void 0:X);else if(null!==X){const J=U.get(X);U.move(J,W),Ei(J,z)}});for(let z=0,X=U.length;z<X;z++){const J=U.get(z).context;J.index=z,J.count=X,J.ngForOf=this._ngForOf}T.forEachIdentityChange(z=>{Ei(U.get(z.currentIndex),z)})}static ngTemplateContextGuard(T,U){return!0}}return I.\u0275fac=function(T){return new(T||I)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},I.\u0275dir=h.lG2({type:I,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),I})();function Ei(I,k){I.context.$implicit=k.item}let Vr=(()=>{class I{constructor(T,U){this._viewContainer=T,this._context=new cs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=U}set ngIf(T){this._context.$implicit=this._context.ngIf=T,this._updateView()}set ngIfThen(T){Ti("ngIfThen",T),this._thenTemplateRef=T,this._thenViewRef=null,this._updateView()}set ngIfElse(T){Ti("ngIfElse",T),this._elseTemplateRef=T,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(T,U){return!0}}return I.\u0275fac=function(T){return new(T||I)(h.Y36(h.s_b),h.Y36(h.Rgc))},I.\u0275dir=h.lG2({type:I,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),I})();class cs{constructor(){this.$implicit=null,this.ngIf=null}}function Ti(I,k){if(k&&!k.createEmbeddedView)throw new Error(`${I} must be a TemplateRef, but received '${(0,h.AaK)(k)}'.`)}let uo=(()=>{class I{constructor(T,U,z){this._ngEl=T,this._differs=U,this._renderer=z,this._ngStyle=null,this._differ=null}set ngStyle(T){this._ngStyle=T,!this._differ&&T&&(this._differ=this._differs.find(T).create())}ngDoCheck(){if(this._differ){const T=this._differ.diff(this._ngStyle);T&&this._applyChanges(T)}}_setStyle(T,U){const[z,X]=T.split("."),W=-1===z.indexOf("-")?void 0:h.JOm.DashCase;null!=U?this._renderer.setStyle(this._ngEl.nativeElement,z,X?`${U}${X}`:U,W):this._renderer.removeStyle(this._ngEl.nativeElement,z,W)}_applyChanges(T){T.forEachRemovedItem(U=>this._setStyle(U.key,null)),T.forEachAddedItem(U=>this._setStyle(U.key,U.currentValue)),T.forEachChangedItem(U=>this._setStyle(U.key,U.currentValue))}}return I.\u0275fac=function(T){return new(T||I)(h.Y36(h.SBq),h.Y36(h.aQg),h.Y36(h.Qsj))},I.\u0275dir=h.lG2({type:I,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),I})(),Go=(()=>{class I{}return I.\u0275fac=function(T){return new(T||I)},I.\u0275mod=h.oAB({type:I}),I.\u0275inj=h.cJS({}),I})();const ji="browser";function $i(I){return I===ji}function Rs(I){return"server"===I}let Ns=(()=>{class I{}return I.\u0275prov=(0,h.Yz7)({token:I,providedIn:"root",factory:()=>new wo((0,h.LFG)(Ze),window)}),I})();class wo{constructor(k,T){this.document=k,this.window=T,this.offset=()=>[0,0]}setOffset(k){this.offset=Array.isArray(k)?()=>k:k}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(k){this.supportsScrolling()&&this.window.scrollTo(k[0],k[1])}scrollToAnchor(k){if(!this.supportsScrolling())return;const T=function _r(I,k){const T=I.getElementById(k)||I.getElementsByName(k)[0];if(T)return T;if("function"==typeof I.createTreeWalker&&I.body&&(I.body.createShadowRoot||I.body.attachShadow)){const U=I.createTreeWalker(I.body,NodeFilter.SHOW_ELEMENT);let z=U.currentNode;for(;z;){const X=z.shadowRoot;if(X){const W=X.getElementById(k)||X.querySelector(`[name="${k}"]`);if(W)return W}z=U.nextNode()}}return null}(this.document,k);T&&(this.scrollToElement(T),T.focus())}setHistoryScrollRestoration(k){if(this.supportScrollRestoration()){const T=this.window.history;T&&T.scrollRestoration&&(T.scrollRestoration=k)}}scrollToElement(k){const T=k.getBoundingClientRect(),U=T.left+this.window.pageXOffset,z=T.top+this.window.pageYOffset,X=this.offset();this.window.scrollTo(U-X[0],z-X[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const k=Ds(this.window.history)||Ds(Object.getPrototypeOf(this.window.history));return!(!k||!k.writable&&!k.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ds(I){return Object.getOwnPropertyDescriptor(I,"scrollRestoration")}class Os{}},4650:(_n,at,H)=>{"use strict";H.d(at,{$8M:()=>Et,$Z:()=>am,AFp:()=>UE,AaK:()=>Ge,AsE:()=>tf,BQk:()=>$h,CHM:()=>ko,CRH:()=>mE,CZH:()=>Oy,CqO:()=>rl,D6c:()=>NI,DdM:()=>X0,EJc:()=>Zb,EpF:()=>$m,F4k:()=>Op,FYo:()=>Xc,FiY:()=>Xn,G48:()=>mI,Gf:()=>pE,GfV:()=>xu,Gpc:()=>_e,JOm:()=>Zo,KtG:()=>Ro,LFG:()=>Js,LSH:()=>Yc,Lbi:()=>zb,Lck:()=>Bw,MMx:()=>P_,NdJ:()=>il,O4$:()=>J,OlP:()=>gr,Oqu:()=>wl,PXZ:()=>cI,Q6J:()=>Ao,QGY:()=>Np,QP$:()=>$t,QbO:()=>Wb,Qsj:()=>Jd,R0b:()=>Il,RDi:()=>wg,Rgc:()=>rg,SBq:()=>uc,Sil:()=>Qb,Suo:()=>gE,TTD:()=>Xi,TgZ:()=>Bh,Udp:()=>Xm,VKq:()=>eE,WLB:()=>tE,X6Q:()=>gI,XFs:()=>bn,Xpm:()=>Gt,Xts:()=>Pl,Y36:()=>gc,YKP:()=>G0,YNc:()=>eo,Yjl:()=>Te,Yz7:()=>en,Z0I:()=>mn,ZZ4:()=>n0,_Bn:()=>H0,_UZ:()=>Rp,_Vd:()=>tu,_c5:()=>kI,_uU:()=>kc,aQg:()=>r0,c2e:()=>qb,cJS:()=>Ht,cg1:()=>Kp,d8E:()=>ju,dDg:()=>oI,dqk:()=>ar,eFA:()=>JE,ekj:()=>ey,eoX:()=>ZE,f3M:()=>V,g9A:()=>jE,h0i:()=>cf,hGG:()=>RI,hij:()=>ef,iGM:()=>fE,ifc:()=>jn,ip1:()=>VE,jDz:()=>W0,kL8:()=>Zp,kcU:()=>pe,lG2:()=>Ye,lqb:()=>xa,lri:()=>qE,n5z:()=>te,oAB:()=>zt,oxw:()=>Fp,q4F:()=>Hf,qLn:()=>Ua,qOj:()=>na,qZA:()=>yd,qbA:()=>nE,rWj:()=>KE,sBO:()=>yI,sIi:()=>gd,s_b:()=>ky,soG:()=>Fy,tb:()=>$E,tp0:()=>cr,uIk:()=>md,vHH:()=>et,vpe:()=>yu,wAp:()=>pr,xp6:()=>ih,ynx:()=>jh,z2F:()=>Ly,zSh:()=>Vf,zs3:()=>Ba});var h=H(7579),O=H(727),ee=H(9751),Ve=H(6451),ze=H(3099);function We(n){for(let r in n)if(n[r]===We)return r;throw Error("Could not find renamed property on target object.")}function Ze(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function Ge(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ge).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Qe(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const de=We({__forward_ref__:We});function _e(n){return n.__forward_ref__=_e,n.toString=function(){return Ge(this())},n}function Pe(n){return ft(n)?n():n}function ft(n){return"function"==typeof n&&n.hasOwnProperty(de)&&n.__forward_ref__===_e}class et extends Error{constructor(r,o){super(function Qt(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,o)),this.code=r}}function St(n){return"string"==typeof n?n:null==n?"":String(n)}function Ot(n,r){throw new et(-201,!1)}function Bt(n,r){null==n&&function It(n,r,o,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function en(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ht(n){return{providers:n.providers||[],imports:n.imports||[]}}function Lt(n){return Bn(n,Jn)||Bn(n,ti)}function mn(n){return null!==Lt(n)}function Bn(n,r){return n.hasOwnProperty(r)?n[r]:null}function ci(n){return n&&(n.hasOwnProperty(dr)||n.hasOwnProperty(xr))?n[dr]:null}const Jn=We({\u0275prov:We}),dr=We({\u0275inj:We}),ti=We({ngInjectableDef:We}),xr=We({ngInjectorDef:We});var bn=(()=>((bn=bn||{})[bn.Default=0]="Default",bn[bn.Host=1]="Host",bn[bn.Self=2]="Self",bn[bn.SkipSelf=4]="SkipSelf",bn[bn.Optional=8]="Optional",bn))();let gi;function Dr(n){const r=gi;return gi=n,r}function mi(n,r,o){const a=Lt(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&bn.Optional?null:void 0!==r?r:void Ot(Ge(n))}function yi(n){return{toString:n}.toString()}var cn=(()=>((cn=cn||{})[cn.OnPush=0]="OnPush",cn[cn.Default=1]="Default",cn))(),jn=(()=>{return(n=jn||(jn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",jn;var n})();const ar=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Wr={},nr=[],Pi=We({\u0275cmp:We}),lr=We({\u0275dir:We}),Pn=We({\u0275pipe:We}),Qn=We({\u0275mod:We}),jr=We({\u0275fac:We}),zn=We({__NG_ELEMENT_ID__:We});let vn=0;function Gt(n){return yi(()=>{const o=!0===n.standalone,a={},c={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===cn.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||nr,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||jn.Emulated,id:"c"+vn++,styles:n.styles||nr,_:null,setInput:null,schemas:n.schemas||null,tView:null},f=n.dependencies,E=n.features;return c.inputs=Re(n.inputs,a),c.outputs=Re(n.outputs),E&&E.forEach(A=>A(c)),c.directiveDefs=f?()=>("function"==typeof f?f():f).map(sr).filter(Wn):null,c.pipeDefs=f?()=>("function"==typeof f?f():f).map(ot).filter(Wn):null,c})}function sr(n){return ie(n)||Ie(n)}function Wn(n){return null!==n}function zt(n){return yi(()=>({type:n.type,bootstrap:n.bootstrap||nr,declarations:n.declarations||nr,imports:n.imports||nr,exports:n.exports||nr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Re(n,r){if(null==n)return Wr;const o={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],f=c;Array.isArray(c)&&(f=c[1],c=c[0]),o[c]=a,r&&(r[c]=f)}return o}const Ye=Gt;function Te(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ie(n){return n[Pi]||null}function Ie(n){return n[lr]||null}function ot(n){return n[Pn]||null}function $t(n){const r=ie(n)||Ie(n)||ot(n);return null!==r&&r.standalone}function Tn(n,r){const o=n[Qn]||null;if(!o&&!0===r)throw new Error(`Type ${Ge(n)} does not have '\u0275mod' property.`);return o}function Ti(n){return Array.isArray(n)&&"object"==typeof n[1]}function is(n){return Array.isArray(n)&&!0===n[1]}function $r(n){return 0!=(8&n.flags)}function jo(n){return 2==(2&n.flags)}function Mo(n){return 1==(1&n.flags)}function Jr(n){return null!==n.template}function Eo(n){return 0!=(256&n[2])}function Ri(n,r){return n.hasOwnProperty(jr)?n[jr]:null}class no{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Xi(){return Qo}function Qo(n){return n.type.prototype.ngOnChanges&&(n.setInput=Is),Ho}function Ho(){const n=ro(this),r=n?.current;if(r){const o=n.previous;if(o===Wr)n.previous=r;else for(let a in r)o[a]=r[a];n.current=null,this.ngOnChanges(r)}}function Is(n,r,o,a){const c=ro(n)||function Go(n,r){return n[xo]=r}(n,{previous:Wr,current:null}),f=c.current||(c.current={}),E=c.previous,A=this.declaredInputs[o],F=E[A];f[A]=new no(F&&F.currentValue,r,E===Wr),n[a]=r}Xi.ngInherit=!0;const xo="__ngSimpleChanges__";function ro(n){return n[xo]||null}function Ur(n){for(;Array.isArray(n);)n=n[0];return n}function Ds(n,r){return Ur(r[n])}function _r(n,r){return Ur(r[n.index])}function Os(n,r){return n.data[r]}function Lr(n,r){const o=r[n];return Ti(o)?o:o[0]}function Fs(n){return 64==(64&n[2])}function Ls(n,r){return null==r?null:n[r]}function Po(n){n[18]=0}function Ci(n,r){n[5]+=r;let o=n,a=n[3];for(;null!==a&&(1===r&&1===o[5]||-1===r&&0===o[5]);)a[5]+=r,o=a,a=a[3]}const or={lFrame:Pt(null),bindingsEnabled:!0};function Ks(){return or.bindingsEnabled}function nn(){return or.lFrame.lView}function Pr(){return or.lFrame.tView}function ko(n){return or.lFrame.contextLView=n,n[8]}function Ro(n){return or.lFrame.contextLView=null,n}function Hi(){let n=Kr();for(;null!==n&&64===n.type;)n=n.parent;return n}function Kr(){return or.lFrame.currentTNode}function fi(n,r){const o=or.lFrame;o.currentTNode=n,o.isParent=r}function ra(){return or.lFrame.isParent}function po(){or.lFrame.isParent=!1}function L(){const n=or.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function On(){return or.lFrame.bindingIndex++}function ur(n){const r=or.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function p(n,r){const o=or.lFrame;o.bindingIndex=o.bindingRootIndex=n,x(r)}function x(n){or.lFrame.currentDirectiveIndex=n}function $(n){const r=or.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function G(){return or.lFrame.currentQueryIndex}function le(n){or.lFrame.currentQueryIndex=n}function Ne(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function he(n,r,o){if(o&bn.SkipSelf){let c=r,f=n;for(;!(c=c.parent,null!==c||o&bn.Host||(c=Ne(f),null===c||(f=f[15],10&c.type))););if(null===c)return!1;r=c,n=f}const a=or.lFrame=Xe();return a.currentTNode=r,a.lView=n,!0}function He(n){const r=Xe(),o=n[1];or.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function Xe(){const n=or.lFrame,r=null===n?null:n.child;return null===r?Pt(n):r}function Pt(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function ge(){const n=or.lFrame;return or.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const I=ge;function k(){const n=ge();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function z(){return or.lFrame.selectedIndex}function X(n){or.lFrame.selectedIndex=n}function W(){const n=or.lFrame;return Os(n.tView,n.selectedIndex)}function J(){or.lFrame.currentNamespace="svg"}function pe(){!function ve(){or.lFrame.currentNamespace=null}()}function Zt(n,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const f=n.data[o].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:A,ngAfterViewInit:F,ngAfterViewChecked:Q,ngOnDestroy:ce}=f;E&&(n.contentHooks||(n.contentHooks=[])).push(-o,E),A&&((n.contentHooks||(n.contentHooks=[])).push(o,A),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,A)),F&&(n.viewHooks||(n.viewHooks=[])).push(-o,F),Q&&((n.viewHooks||(n.viewHooks=[])).push(o,Q),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,Q)),null!=ce&&(n.destroyHooks||(n.destroyHooks=[])).push(o,ce)}}function Jt(n,r,o){kn(n,r,3,o)}function tn(n,r,o,a){(3&n[2])===o&&kn(n,r,o,a)}function An(n,r){let o=n[2];(3&o)===r&&(o&=2047,o+=1,n[2]=o)}function kn(n,r,o,a){const f=a??-1,E=r.length-1;let A=0;for(let F=void 0!==a?65535&n[18]:0;F<E;F++)if("number"==typeof r[F+1]){if(A=r[F],null!=a&&A>=a)break}else r[F]<0&&(n[18]+=65536),(A<f||-1==f)&&(Vt(n,o,r,F),n[18]=(4294901760&n[18])+F+2),F++}function Vt(n,r,o,a){const c=o[a]<0,f=o[a+1],A=n[c?-o[a]:o[a]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{f.call(A)}finally{}}}else try{f.call(A)}finally{}}class De{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function Xr(n,r,o){let a=0;for(;a<o.length;){const c=o[a];if("number"==typeof c){if(0!==c)break;a++;const f=o[a++],E=o[a++],A=o[a++];n.setAttribute(r,E,A,f)}else{const f=c,E=o[++a];Vs(f)?n.setProperty(r,f,E):n.setAttribute(r,f,E),a++}}return a}function ys(n){return 3===n||4===n||6===n}function Vs(n){return 64===n.charCodeAt(0)}function Ss(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?o=c:0===o||us(n,o,c,null,-1===o||2===o?r[++a]:null)}}return n}function us(n,r,o,a,c){let f=0,E=n.length;if(-1===r)E=-1;else for(;f<n.length;){const A=n[f++];if("number"==typeof A){if(A===r){E=-1;break}if(A>r){E=f-1;break}}}for(;f<n.length;){const A=n[f];if("number"==typeof A)break;if(A===o){if(null===a)return void(null!==c&&(n[f+1]=c));if(a===n[f+1])return void(n[f+2]=c)}f++,null!==a&&f++,null!==c&&f++}-1!==E&&(n.splice(E,0,r),f=E+1),n.splice(f++,0,o),null!==a&&n.splice(f++,0,a),null!==c&&n.splice(f++,0,c)}function fs(n){return-1!==n}function ni(n){return 32767&n}function ri(n,r){let o=function xn(n){return n>>16}(n),a=r;for(;o>0;)a=a[15],o--;return a}let As=!0;function go(n){const r=As;return As=n,r}let Us=0;const wi={};function Vn(n,r){const o=Cn(n,r);if(-1!==o)return o;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,bo(a.data,n),bo(r,null),bo(a.blueprint,null));const c=At(n,r),f=n.injectorIndex;if(fs(c)){const E=ni(c),A=ri(c,r),F=A[1].data;for(let Q=0;Q<8;Q++)r[f+Q]=A[E+Q]|F[E+Q]}return r[f+8]=c,f}function bo(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Cn(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function At(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,a=null,c=r;for(;null!==c;){if(a=Se(c),null===a)return-1;if(o++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return-1}function Yt(n,r,o){!function Rn(n,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(zn)&&(a=o[zn]),null==a&&(a=o[zn]=Us++);const c=255&a;r.data[n+(c>>5)]|=1<<c}(n,r,o)}function Oo(n,r,o){if(o&bn.Optional||void 0!==n)return n;Ot()}function va(n,r,o,a){if(o&bn.Optional&&void 0===a&&(a=null),0==(o&(bn.Self|bn.Host))){const c=n[9],f=Dr(void 0);try{return c?c.get(r,a,o&bn.Optional):mi(r,a,o&bn.Optional)}finally{Dr(f)}}return Oo(a,0,o)}function fa(n,r,o,a=bn.Default,c){if(null!==n){if(1024&r[2]){const E=function Be(n,r,o,a,c){let f=n,E=r;for(;null!==f&&null!==E&&1024&E[2]&&!(256&E[2]);){const A=al(f,E,o,a|bn.Self,wi);if(A!==wi)return A;let F=f.parent;if(!F){const Q=E[21];if(Q){const ce=Q.get(o,wi,a);if(ce!==wi)return ce}F=Se(E),E=E[15]}f=F}return c}(n,r,o,a,wi);if(E!==wi)return E}const f=al(n,r,o,a,wi);if(f!==wi)return f}return va(r,o,a,c)}function al(n,r,o,a,c){const f=function Cl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(zn)?n[zn]:void 0;return"number"==typeof r?r>=0?255&r:R:r}(o);if("function"==typeof f){if(!he(r,n,a))return a&bn.Host?Oo(c,0,a):va(r,o,a,c);try{const E=f(a);if(null!=E||a&bn.Optional)return E;Ot()}finally{I()}}else if("number"==typeof f){let E=null,A=Cn(n,r),F=-1,Q=a&bn.Host?r[16][6]:null;for((-1===A||a&bn.SkipSelf)&&(F=-1===A?At(n,r):r[A+8],-1!==F&&v(a,!1)?(E=r[1],A=ni(F),r=ri(F,r)):A=-1);-1!==A;){const ce=r[1];if(K(f,A,ce.data)){const Ae=Ra(A,r,o,E,a,Q);if(Ae!==wi)return Ae}F=r[A+8],-1!==F&&v(a,r[1].data[A+8]===Q)&&K(f,A,r)?(E=ce,A=ni(F),r=ri(F,r)):A=-1}}return c}function Ra(n,r,o,a,c,f){const E=r[1],A=E.data[n+8],ce=_a(A,E,o,null==a?jo(A)&&As:a!=E&&0!=(3&A.type),c&bn.Host&&f===A);return null!==ce?ia(r,E,ce,A):wi}function _a(n,r,o,a,c){const f=n.providerIndexes,E=r.data,A=1048575&f,F=n.directiveStart,ce=f>>20,nt=c?A+ce:n.directiveEnd;for(let xt=a?A:A+ce;xt<nt;xt++){const rn=E[xt];if(xt<F&&o===rn||xt>=F&&rn.type===o)return xt}if(c){const xt=E[F];if(xt&&Jr(xt)&&xt.type===o)return F}return null}function ia(n,r,o,a){let c=n[o];const f=r.data;if(function fe(n){return n instanceof De}(c)){const E=c;E.resolving&&function pn(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new et(-200,`Circular dependency in DI detected for ${n}${o}`)}(function dt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():St(n)}(f[o]));const A=go(E.canSeeViewProviders);E.resolving=!0;const F=E.injectImpl?Dr(E.injectImpl):null;he(n,a,bn.Default);try{c=n[o]=E.factory(void 0,f,n,a),r.firstCreatePass&&o>=a.directiveStart&&function vt(n,r,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:f}=r.type.prototype;if(a){const E=Qo(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,E),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,E)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,c),f&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,f),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,f))}(o,f[o],r)}finally{null!==F&&Dr(F),go(A),E.resolving=!1,I()}}return c}function K(n,r,o){return!!(o[r+(n>>5)]&1<<n)}function v(n,r){return!(n&bn.Self||n&bn.Host&&r)}class w{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return fa(this._tNode,this._lView,r,a,o)}}function R(){return new w(Hi(),nn())}function te(n){return yi(()=>{const r=n.prototype.constructor,o=r[jr]||me(r),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const f=c[jr]||me(c);if(f&&f!==o)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function me(n){return ft(n)?()=>{const r=me(Pe(n));return r&&r()}:Ri(n)}function Se(n){const r=n[1],o=r.type;return 2===o?r.declTNode:1===o?n[6]:null}function Et(n){return function Di(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const f=o[c];if(ys(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(f===r)return o[c+1];c+=2}}}return null}(Hi(),n)}const Fn="__parameters__";function hr(n,r,o){return yi(()=>{const a=function kr(n){return function(...o){if(n){const a=n(...o);for(const c in a)this[c]=a[c]}}}(r);function c(...f){if(this instanceof c)return a.apply(this,f),this;const E=new c(...f);return A.annotation=E,A;function A(F,Q,ce){const Ae=F.hasOwnProperty(Fn)?F[Fn]:Object.defineProperty(F,Fn,{value:[]})[Fn];for(;Ae.length<=ce;)Ae.push(null);return(Ae[ce]=Ae[ce]||[]).push(E),F}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class gr{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=en({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Gn(n,r){void 0===r&&(r=n);for(let o=0;o<n.length;o++){let a=n[o];Array.isArray(a)?(r===n&&(r=n.slice(0,o)),Gn(a,r)):r!==n&&r.push(a)}return r}function fr(n,r){n.forEach(o=>Array.isArray(o)?fr(o,r):r(o))}function Br(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function Yi(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Qi(n,r,o){let a=C(n,r);return a>=0?n[1|a]=o:(a=~a,function ai(n,r,o,a){let c=n.length;if(c==r)n.push(o,a);else if(1===c)n.push(a,n[0]),n[0]=o;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=o,n[r+1]=a}}(n,a,r,o)),a}function vo(n,r){const o=C(n,r);if(o>=0)return n[1|o]}function C(n,r){return function b(n,r,o){let a=0,c=n.length>>o;for(;c!==a;){const f=a+(c-a>>1),E=n[f<<o];if(r===E)return f<<o;E>r?c=f:a=f+1}return~(c<<o)}(n,r,1)}const Zr={},oo="__NG_DI_FLAG__",Qs="ngTempTokenPath",Do=/\n/gm,Na="__source";let wa;function Aa(n){const r=wa;return wa=n,r}function Wa(n,r=bn.Default){if(void 0===wa)throw new et(-203,!1);return null===wa?mi(n,void 0,r):wa.get(n,r&bn.Optional?null:void 0,r)}function Js(n,r=bn.Default){return(function yr(){return gi}()||Wa)(Pe(n),r)}function V(n,r=bn.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),Js(n,r)}function q(n){const r=[];for(let o=0;o<n.length;o++){const a=Pe(n[o]);if(Array.isArray(a)){if(0===a.length)throw new et(900,!1);let c,f=bn.Default;for(let E=0;E<a.length;E++){const A=a[E],F=je(A);"number"==typeof F?-1===F?c=A.token:f|=F:c=A}r.push(Js(c,f))}else r.push(Js(a))}return r}function oe(n,r){return n[oo]=r,n.prototype[oo]=r,n}function je(n){return n[oo]}const Xn=oe(hr("Optional"),8),cr=oe(hr("SkipSelf"),4);var Zo=(()=>((Zo=Zo||{})[Zo.Important=1]="Important",Zo[Zo.DashCase=2]="DashCase",Zo))();const Sl=new Map;let jc=0;const g="__ngContext__";function m(n,r){Ti(r)?(n[g]=r[20],function ya(n){Sl.set(n[20],n)}(r)):n[g]=r}function Iu(n,r){return undefined(n,r)}function Fa(n){const r=n[3];return is(r)?r[3]:r}function gs(n){return Cu(n[13])}function Ml(n){return Cu(n[4])}function Cu(n){for(;null!==n&&!is(n);)n=n[4];return n}function Hl(n,r,o,a,c){if(null!=a){let f,E=!1;is(a)?f=a:Ti(a)&&(E=!0,a=a[0]);const A=Ur(a);0===n&&null!==o?null==c?Qu(r,o,A):Wl(r,o,A,c||null,!0):1===n&&null!==o?Wl(r,o,A,c||null,!0):2===n?function $d(n,r,o){const a=ql(n,r);a&&function hl(n,r,o,a){n.removeChild(r,o,a)}(n,a,r,o)}(r,A,E):3===n&&r.destroyNode(A),null!=f&&function Hy(n,r,o,a,c){const f=o[7];f!==Ur(o)&&Hl(r,n,a,f,c);for(let A=10;A<o.length;A++){const F=o[A];ec(F[1],F,n,r,a,f)}}(r,n,f,o,c)}}function Gl(n,r,o){return n.createElement(r,o)}function hg(n,r){const o=n[9],a=o.indexOf(r),c=r[3];512&r[2]&&(r[2]&=-513,Ci(c,-1)),o.splice(a,1)}function Vo(n,r){if(n.length<=10)return;const o=10+r,a=n[o];if(a){const c=a[17];null!==c&&c!==n&&hg(c,a),r>0&&(n[o-1][4]=a[4]);const f=Yi(n,10+r);!function xl(n,r){ec(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const E=f[19];null!==E&&E.detachView(f[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Ui(n,r){if(!(128&r[2])){const o=r[11];o.destroyNode&&ec(n,r,o,3,null,null),function dg(n){let r=n[13];if(!r)return Bd(n[1],n);for(;r;){let o=null;if(Ti(r))o=r[13];else{const a=r[10];a&&(o=a)}if(!o){for(;r&&!r[4]&&r!==n;)Ti(r)&&Bd(r[1],r),r=r[3];null===r&&(r=n),Ti(r)&&Bd(r[1],r),o=r&&r[4]}r=o}}(r)}}function Bd(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function zl(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let a=0;a<o.length;a+=2){const c=r[o[a]];if(!(c instanceof De)){const f=o[a+1];if(Array.isArray(f))for(let E=0;E<f.length;E+=2){const A=c[f[E]],F=f[E+1];try{F.call(A)}finally{}}else try{f.call(c)}finally{}}}}(n,r),function fg(n,r){const o=n.cleanup,a=r[7];let c=-1;if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const E=o[f+1],A="function"==typeof E?E(r):Ur(r[E]),F=a[c=o[f+2]],Q=o[f+3];"boolean"==typeof Q?A.removeEventListener(o[f],F,Q):Q>=0?a[c=Q]():a[c=-Q].unsubscribe(),f+=2}else{const E=a[c=o[f+1]];o[f].call(E)}if(null!==a){for(let f=c+1;f<a.length;f++)(0,a[f])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const o=r[17];if(null!==o&&is(r[3])){o!==r[3]&&hg(o,r);const a=r[19];null!==a&&a.detachView(n)}!function qu(n){Sl.delete(n[20])}(r)}}function pg(n,r,o){return function Ia(n,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[0];if(2&a.flags){const c=n.data[a.directiveStart].encapsulation;if(c===jn.None||c===jn.Emulated)return null}return _r(a,o)}(n,r.parent,o)}function Wl(n,r,o,a,c){n.insertBefore(r,o,a,c)}function Qu(n,r,o){n.appendChild(r,o)}function _f(n,r,o,a,c){null!==a?Wl(n,r,o,a,c):Qu(n,r,o)}function ql(n,r){return n.parentNode(r)}let zc,mg=function ui(n,r,o){return 40&n.type?_r(n,o):null};function Kl(n,r,o,a){const c=pg(n,a,r),f=r[11],A=function gg(n,r,o){return mg(n,r,o)}(a.parent||r[6],a,r);if(null!=c)if(Array.isArray(o))for(let F=0;F<o.length;F++)_f(f,c,o[F],A,!1);else _f(f,c,o,A,!1)}function Tu(n,r){if(null!==r){const o=r.type;if(3&o)return _r(r,n);if(4&o)return jd(-1,n[r.index]);if(8&o){const a=r.child;if(null!==a)return Tu(n,a);{const c=n[r.index];return is(c)?jd(-1,c):Ur(c)}}if(32&o)return Iu(r,n)()||Ur(n[r.index]);{const a=Ef(n,r);return null!==a?Array.isArray(a)?a[0]:Tu(Fa(n[16]),a):Tu(n,r.next)}}return null}function Ef(n,r){return null!==r?n[16][6].projection[r.projection]:null}function jd(n,r){const o=10+n+1;if(o<r.length){const a=r[o],c=a[1].firstChild;if(null!==c)return Tu(a,c)}return r[7]}function wf(n,r,o,a,c,f,E){for(;null!=o;){const A=a[o.index],F=o.type;if(E&&0===r&&(A&&m(Ur(A),a),o.flags|=4),64!=(64&o.flags))if(8&F)wf(n,r,o.child,a,c,f,!1),Hl(r,n,c,A,f);else if(32&F){const Q=Iu(o,a);let ce;for(;ce=Q();)Hl(r,n,c,ce,f);Hl(r,n,c,A,f)}else 16&F?vg(n,r,a,o,c,f):Hl(r,n,c,A,f);o=E?o.projectionNext:o.next}}function ec(n,r,o,a,c,f){wf(o,a,n.firstChild,r,c,f,!1)}function vg(n,r,o,a,c,f){const E=o[16],F=E[6].projection[a.projection];if(Array.isArray(F))for(let Q=0;Q<F.length;Q++)Hl(r,n,c,F[Q],f);else wf(n,r,F,E[3],c,f,!0)}function _g(n,r,o){n.setAttribute(r,"style",o)}function Zl(n,r,o){""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function wg(n){zc=n}class nc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Yl(n){return n instanceof nc?n.changingThisBreaksApplicationSecurity:n}const Ag=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Jo=(()=>((Jo=Jo||{})[Jo.NONE=0]="NONE",Jo[Jo.HTML=1]="HTML",Jo[Jo.STYLE=2]="STYLE",Jo[Jo.SCRIPT=3]="SCRIPT",Jo[Jo.URL=4]="URL",Jo[Jo.RESOURCE_URL=5]="RESOURCE_URL",Jo))();function Yc(n){const r=function Ya(){const n=nn();return n&&n[12]}();return r?r.sanitize(Jo.URL,n)||"":function rc(n,r){const o=function Wy(n){return n instanceof nc&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===r}(n,"URL")?Yl(n):function Va(n){return(n=String(n)).match(Ag)?n:"unsafe:"+n}(St(n))}const Pl=new gr("ENVIRONMENT_INITIALIZER"),sc=new gr("INJECTOR",-1),Rf=new gr("INJECTOR_DEF_TYPES");class qd{get(r,o=Zr){if(o===Zr){const a=new Error(`NullInjectorError: No provider for ${Ge(r)}!`);throw a.name="NullInjectorError",a}return o}}function Nf(...n){return{\u0275providers:Of(0,n)}}function Of(n,...r){const o=[],a=new Set;let c;return fr(r,f=>{const E=f;Lf(E,o,[],a)&&(c||(c=[]),c.push(E))}),void 0!==c&&Ff(c,o),o}function Ff(n,r){for(let o=0;o<n.length;o++){const{providers:c}=n[o];fr(c,f=>{r.push(f)})}}function Lf(n,r,o,a){if(!(n=Pe(n)))return!1;let c=null,f=ci(n);const E=!f&&ie(n);if(f||E){if(E&&!E.standalone)return!1;c=n}else{const F=n.ngModule;if(f=ci(F),!f)return!1;c=F}const A=a.has(c);if(E){if(A)return!1;if(a.add(c),E.dependencies){const F="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const Q of F)Lf(Q,r,o,a)}}else{if(!f)return!1;{if(null!=f.imports&&!A){let Q;a.add(c);try{fr(f.imports,ce=>{Lf(ce,r,o,a)&&(Q||(Q=[]),Q.push(ce))})}finally{}void 0!==Q&&Ff(Q,r)}if(!A){const Q=Ri(c)||(()=>new c);r.push({provide:c,useFactory:Q,deps:nr},{provide:Rf,useValue:c,multi:!0},{provide:Pl,useValue:()=>Js(c),multi:!0})}const F=f.providers;null==F||A||fr(F,ce=>{r.push(ce)})}}return c!==n&&void 0!==n.providers}const Fg=We({provide:String,useValue:We});function oc(n){return null!==n&&"object"==typeof n&&Fg in n}function Su(n){return"function"==typeof n}const Vf=new gr("Set Injector scope."),Kd={},nv={};let Au;function gl(){return void 0===Au&&(Au=new qd),Au}class xa{}class Uf extends xa{constructor(r,o,a,c){super(),this.parent=o,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lc(r,E=>this.processProvider(E)),this.records.set(sc,eu(void 0,this)),c.has("environment")&&this.records.set(xa,eu(void 0,this));const f=this.records.get(Vf);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Rf.multi,nr,bn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const o=Aa(this),a=Dr(void 0);try{return r()}finally{Aa(o),Dr(a)}}get(r,o=Zr,a=bn.Default){this.assertNotDestroyed();const c=Aa(this),f=Dr(void 0);try{if(!(a&bn.SkipSelf)){let A=this.records.get(r);if(void 0===A){const F=function $f(n){return"function"==typeof n||"object"==typeof n&&n instanceof gr}(r)&&Lt(r);A=F&&this.injectableDefInScope(F)?eu(Bf(r),Kd):null,this.records.set(r,A)}if(null!=A)return this.hydrate(r,A)}return(a&bn.Self?gl():this.parent).get(r,o=a&bn.Optional&&o===Zr?null:o)}catch(E){if("NullInjectorError"===E.name){if((E[Qs]=E[Qs]||[]).unshift(Ge(r)),c)throw E;return function ct(n,r,o,a){const c=n[Qs];throw r[Na]&&c.unshift(r[Na]),n.message=function Nt(n,r,o,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let c=Ge(r);if(Array.isArray(r))c=r.map(Ge).join(" -> ");else if("object"==typeof r){let f=[];for(let E in r)if(r.hasOwnProperty(E)){let A=r[E];f.push(E+":"+("string"==typeof A?JSON.stringify(A):Ge(A)))}c=`{${f.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${n.replace(Do,"\n  ")}`}("\n"+n.message,c,o,a),n.ngTokenPath=c,n[Qs]=null,n}(E,r,"R3InjectorError",this.source)}throw E}finally{Dr(f),Aa(c)}}resolveInjectorInitializers(){const r=Aa(this),o=Dr(void 0);try{const a=this.get(Pl.multi,nr,bn.Self);for(const c of a)c()}finally{Aa(r),Dr(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push(Ge(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new et(205,!1)}processProvider(r){let o=Su(r=Pe(r))?r:Pe(r&&r.provide);const a=function rv(n){return oc(n)?eu(void 0,n.useValue):eu(Zd(n),Kd)}(r);if(Su(r)||!0!==r.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=eu(void 0,Kd,!0),c.factory=()=>q(c.multi),this.records.set(o,c)),o=r,c.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===Kd&&(o.value=nv,o.value=o.factory()),"object"==typeof o.value&&o.value&&function jf(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Pe(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Bf(n){const r=Lt(n),o=null!==r?r.factory:Ri(n);if(null!==o)return o;if(n instanceof gr)throw new et(204,!1);if(n instanceof Function)return function Vg(n){const r=n.length;if(r>0)throw function Ys(n,r){const o=[];for(let a=0;a<n;a++)o.push(r);return o}(r,"?"),new et(204,!1);const o=function Un(n){const r=n&&(n[Jn]||n[ti]);if(r){const o=function ei(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new et(204,!1)}function Zd(n,r,o){let a;if(Su(n)){const c=Pe(n);return Ri(c)||Bf(c)}if(oc(n))a=()=>Pe(n.useValue);else if(function Xl(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...q(n.deps||[]));else if(function ac(n){return!(!n||!n.useExisting)}(n))a=()=>Js(Pe(n.useExisting));else{const c=Pe(n&&(n.useClass||n.provide));if(!function Ug(n){return!!n.deps}(n))return Ri(c)||Bf(c);a=()=>new c(...q(n.deps))}return a}function eu(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function Bg(n){return!!n.\u0275providers}function lc(n,r){for(const o of n)Array.isArray(o)?lc(o,r):Bg(o)?lc(o.\u0275providers,r):r(o)}class Yd{}class Qc{resolveComponentFactory(r){throw function Qd(n){const r=Error(`No component factory found for ${Ge(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let tu=(()=>{class n{}return n.NULL=new Qc,n})();function Jc(){return Mu(Hi(),nn())}function Mu(n,r){return new uc(_r(n,r))}let uc=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Jc,n})();function Pa(n){return n instanceof uc?n.nativeElement:n}class Xc{}let Jd=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function $g(){const n=nn(),o=Lr(Hi().index,n);return(Ti(o)?o:n)[11]}(),n})(),nu=(()=>{class n{}return n.\u0275prov=en({token:n,providedIn:"root",factory:()=>null}),n})();class xu{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Hf=new xu("14.2.12"),kl={};function Xd(n){return n.ngOriginalError}class Ua{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Xd(r);for(;o&&Xd(o);)o=Xd(o);return o||null}}function ml(n){return n instanceof Function?n():n}function Wg(n,r,o){let a=n.length;for(;;){const c=n.indexOf(r,o);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const f=r.length;if(c+f===a||n.charCodeAt(c+f)<=32)return c}o=c+1}}const qg="ng-template";function pv(n,r,o){let a=0;for(;a<n.length;){let c=n[a++];if(o&&"class"===c){if(c=n[a],-1!==Wg(c.toLowerCase(),r,0))return!0}else if(1===c){for(;a<n.length&&"string"==typeof(c=n[a++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function nh(n){return 4===n.type&&n.value!==qg}function ca(n,r,o){return r===(4!==n.type||o?n.value:qg)}function gv(n,r,o){let a=4;const c=n.attrs||[],f=function yv(n){for(let r=0;r<n.length;r++)if(ys(n[r]))return r;return n.length}(c);let E=!1;for(let A=0;A<r.length;A++){const F=r[A];if("number"!=typeof F){if(!E)if(4&a){if(a=2|1&a,""!==F&&!ca(n,F,o)||""===F&&1===r.length){if(Qa(a))return!1;E=!0}}else{const Q=8&a?F:r[++A];if(8&a&&null!==n.attrs){if(!pv(n.attrs,Q,o)){if(Qa(a))return!1;E=!0}continue}const Ae=mv(8&a?"class":F,c,nh(n),o);if(-1===Ae){if(Qa(a))return!1;E=!0;continue}if(""!==Q){let nt;nt=Ae>f?"":c[Ae+1].toLowerCase();const xt=8&a?nt:null;if(xt&&-1!==Wg(xt,Q,0)||2&a&&Q!==nt){if(Qa(a))return!1;E=!0}}}}else{if(!E&&!Qa(a)&&!Qa(F))return!1;if(E&&Qa(F))continue;E=!1,a=F|1&a}}return Qa(a)||E}function Qa(n){return 0==(1&n)}function mv(n,r,o,a){if(null===r)return-1;let c=0;if(a||!o){let f=!1;for(;c<r.length;){const E=r[c];if(E===n)return c;if(3===E||6===E)f=!0;else{if(1===E||2===E){let A=r[++c];for(;"string"==typeof A;)A=r[++c];continue}if(4===E)break;if(0===E){c+=4;continue}}c+=f?1:2}return-1}return function rh(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const a=n[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,n)}function Kg(n,r,o=!1){for(let a=0;a<r.length;a++)if(gv(n,r[a],o))return!0;return!1}function Wf(n,r){return n?":not("+r.trim()+")":r}function qf(n){let r=n[0],o=1,a=2,c="",f=!1;for(;o<n.length;){let E=n[o];if("string"==typeof E)if(2&a){const A=n[++o];c+="["+E+(A.length>0?'="'+A+'"':"")+"]"}else 8&a?c+="."+E:4&a&&(c+=" "+E);else""!==c&&!Qa(E)&&(r+=Wf(f,c),c=""),a=E,f=f||!Qa(a);o++}return""!==c&&(r+=Wf(f,c)),r}const Yr={};function ih(n){sh(Pr(),nn(),z()+n,!1)}function sh(n,r,o,a){if(!a)if(3==(3&r[2])){const f=n.preOrderCheckHooks;null!==f&&Jt(r,f,o)}else{const f=n.preOrderHooks;null!==f&&tn(r,f,0,o)}X(o)}function Xg(n,r=null,o=null,a){const c=Pu(n,r,o,a);return c.resolveInjectorInitializers(),c}function Pu(n,r=null,o=null,a,c=new Set){const f=[o||nr,Nf(n)];return a=a||("object"==typeof n?void 0:Ge(n)),new Uf(f,r||gl(),a||null,c)}let Ba=(()=>{class n{static create(o,a){if(Array.isArray(o))return Xg({name:""},a,o,"");{const c=o.name??"";return Xg({name:c},o.parent,o.providers,c)}}}return n.THROW_IF_NOT_FOUND=Zr,n.NULL=new qd,n.\u0275prov=en({token:n,providedIn:"any",factory:()=>Js(sc)}),n.__NG_ELEMENT_ID__=-1,n})();function gc(n,r=bn.Default){const o=nn();return null===o?Js(n,r):fa(Hi(),o,Pe(n),r)}function am(){throw new Error("invalid")}function hh(n,r){return n<<17|r<<2}function Ja(n){return n>>17&32767}function iu(n){return 2|n}function Xa(n){return(131068&n)>>2}function yc(n,r){return-131069&n|r<<2}function nd(n){return 1|n}function yh(n,r){const o=n.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const c=o[a],f=o[a+1];if(-1!==f){const E=n.data[f];le(c),E.contentQueries(2,r[f],f)}}}function vh(n,r,o,a,c,f,E,A,F,Q,ce){const Ae=r.blueprint.slice();return Ae[0]=c,Ae[2]=76|a,(null!==ce||n&&1024&n[2])&&(Ae[2]|=1024),Po(Ae),Ae[3]=Ae[15]=n,Ae[8]=o,Ae[10]=E||n&&n[10],Ae[11]=A||n&&n[11],Ae[12]=F||n&&n[12]||null,Ae[9]=Q||n&&n[9]||null,Ae[6]=f,Ae[20]=function Al(){return jc++}(),Ae[21]=ce,Ae[16]=2==r.type?n[16]:Ae,Ae}function uu(n,r,o,a,c){let f=n.data[r];if(null===f)f=function od(n,r,o,a,c){const f=Kr(),E=ra(),F=n.data[r]=function vp(n,r,o,a,c,f){return{type:o,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?f:f&&f.parent,o,r,a,c);return null===n.firstChild&&(n.firstChild=F),null!==f&&(E?null==f.child&&null!==F.parent&&(f.child=F):null===f.next&&(f.next=F)),F}(n,r,o,a,c),function ls(){return or.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=o,f.value=a,f.attrs=c;const E=function so(){const n=or.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();f.injectorIndex=null===E?-1:E.injectorIndex}return fi(f,!0),f}function Ec(n,r,o,a){if(0===o)return-1;const c=r.length;for(let f=0;f<o;f++)r.push(a),n.blueprint.push(a),n.data.push(null);return c}function _h(n,r,o){He(r);try{const a=n.viewQuery;null!==a&&Ah(1,a,o);const c=n.template;null!==c&&pp(n,r,c,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&yh(n,r),n.staticViewQueries&&Ah(2,n.viewQuery,o);const f=n.components;null!==f&&function kv(n,r){for(let o=0;o<r.length;o++)$v(n,r[o])}(r,f)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,k()}}function Eh(n,r,o,a){const c=r[2];if(128!=(128&c)){He(r);try{Po(r),function _t(n){return or.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&pp(n,r,o,2,a);const E=3==(3&c);if(E){const Q=n.preOrderCheckHooks;null!==Q&&Jt(r,Q,null)}else{const Q=n.preOrderHooks;null!==Q&&tn(r,Q,0,null),An(r,0)}if(function Sp(n){for(let r=gs(n);null!==r;r=Ml(r)){if(!r[2])continue;const o=r[9];for(let a=0;a<o.length;a++){const c=o[a],f=c[3];0==(512&c[2])&&Ci(f,1),c[2]|=512}}}(r),function Bv(n){for(let r=gs(n);null!==r;r=Ml(r))for(let o=10;o<r.length;o++){const a=r[o],c=a[1];Fs(a)&&Eh(c,a,c.template,a[8])}}(r),null!==n.contentQueries&&yh(n,r),E){const Q=n.contentCheckHooks;null!==Q&&Jt(r,Q)}else{const Q=n.contentHooks;null!==Q&&tn(r,Q,1),An(r,1)}!function hp(n,r){const o=n.hostBindingOpCodes;if(null!==o)try{for(let a=0;a<o.length;a++){const c=o[a];if(c<0)X(~c);else{const f=c,E=o[++a],A=o[++a];p(E,f),A(2,r[f])}}}finally{X(-1)}}(n,r);const A=n.components;null!==A&&function fp(n,r){for(let o=0;o<r.length;o++)jv(n,r[o])}(r,A);const F=n.viewQuery;if(null!==F&&Ah(2,F,a),E){const Q=n.viewCheckHooks;null!==Q&&Jt(r,Q)}else{const Q=n.viewHooks;null!==Q&&tn(r,Q,2),An(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Ci(r[3],-1))}finally{k()}}}function pp(n,r,o,a,c){const f=z(),E=2&a;try{X(-1),E&&r.length>22&&sh(n,r,22,!1),o(a,c)}finally{X(f)}}function gp(n,r,o){if($r(r)){const c=r.directiveEnd;for(let f=r.directiveStart;f<c;f++){const E=n.data[f];E.contentQueries&&E.contentQueries(1,o[f],f)}}}function wh(n,r,o){!Ks()||(function Lv(n,r,o,a){const c=o.directiveStart,f=o.directiveEnd;n.firstCreatePass||Vn(o,r),m(a,r);const E=o.initialInputs;for(let A=c;A<f;A++){const F=n.data[A],Q=Jr(F);Q&&Vv(r,o,F);const ce=ia(r,n,A,o);m(ce,r),null!==E&&Tp(0,A-c,ce,F,0,E),Q&&(Lr(o.index,r)[8]=ce)}}(n,r,o,_r(o,r)),128==(128&o.flags)&&function bp(n,r,o){const a=o.directiveStart,c=o.directiveEnd,f=o.index,E=function _(){return or.lFrame.currentDirectiveIndex}();try{X(f);for(let A=a;A<c;A++){const F=n.data[A],Q=r[A];x(A),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&bm(F,Q)}}finally{X(-1),x(E)}}(n,r,o))}function bh(n,r,o=_r){const a=r.localNames;if(null!==a){let c=r.index+1;for(let f=0;f<a.length;f+=2){const E=a[f+1],A=-1===E?o(r,n):n[E];n[c++]=A}}}function _m(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=mp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function mp(n,r,o,a,c,f,E,A,F,Q){const ce=22+a,Ae=ce+c,nt=function Rv(n,r){const o=[];for(let a=0;a<r;a++)o.push(a<n?null:Yr);return o}(ce,Ae),xt="function"==typeof Q?Q():Q;return nt[1]={type:n,blueprint:nt,template:o,queries:null,viewQuery:A,declTNode:r,data:nt.slice().fill(null,ce),bindingStartIndex:ce,expandoStartIndex:Ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:F,consts:xt,incompleteFirstPass:!1}}function Ih(n,r,o,a){const c=Tm(r);null===o?c.push(a):(c.push(o),n.firstCreatePass&&Mh(n).push(a,c.length-1))}function Em(n,r,o){for(let a in n)if(n.hasOwnProperty(a)){const c=n[a];(o=null===o?{}:o).hasOwnProperty(a)?o[a].push(r,c):o[a]=[r,c]}return o}function Ch(n,r){const a=r.directiveEnd,c=n.data,f=r.attrs,E=[];let A=null,F=null;for(let Q=r.directiveStart;Q<a;Q++){const ce=c[Q],Ae=ce.inputs,nt=null===f||nh(r)?null:Uv(Ae,f);E.push(nt),A=Em(Ae,Q,A),F=Em(ce.outputs,Q,F)}null!==A&&(A.hasOwnProperty("class")&&(r.flags|=16),A.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=E,r.inputs=A,r.outputs=F}function Da(n,r,o,a,c,f,E,A){const F=_r(r,o);let ce,Q=r.inputs;!A&&null!=Q&&(ce=Q[a])?(dd(n,o,ce,a,c),jo(r)&&_p(o,r.index)):3&r.type&&(a=function Nv(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=E?E(c,r.value||"",a):c,f.setProperty(F,a,c))}function _p(n,r){const o=Lr(r,n);16&o[2]||(o[2]|=32)}function ad(n,r,o,a){let c=!1;if(Ks()){const f=function Ip(n,r,o){const a=n.directiveRegistry;let c=null;if(a)for(let f=0;f<a.length;f++){const E=a[f];Kg(o,E.selectors,!1)&&(c||(c=[]),Yt(Vn(o,r),n,E.type),Jr(E)?(Dh(n,o),c.unshift(E)):c.push(E))}return c}(n,r,o),E=null===a?null:{"":-1};if(null!==f){c=!0,Dp(o,n.data.length,f.length);for(let ce=0;ce<f.length;ce++){const Ae=f[ce];Ae.providersResolver&&Ae.providersResolver(Ae)}let A=!1,F=!1,Q=Ec(n,r,f.length,null);for(let ce=0;ce<f.length;ce++){const Ae=f[ce];o.mergedAttrs=Ss(o.mergedAttrs,Ae.hostAttrs),Th(n,o,r,Q,Ae),wc(Q,Ae,E),null!==Ae.contentQueries&&(o.flags|=8),(null!==Ae.hostBindings||null!==Ae.hostAttrs||0!==Ae.hostVars)&&(o.flags|=128);const nt=Ae.type.prototype;!A&&(nt.ngOnChanges||nt.ngOnInit||nt.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),A=!0),!F&&(nt.ngOnChanges||nt.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),F=!0),Q++}Ch(n,o)}E&&function Cp(n,r,o){if(r){const a=n.localNames=[];for(let c=0;c<r.length;c+=2){const f=o[r[c+1]];if(null==f)throw new et(-301,!1);a.push(r[c],f)}}}(o,a,E)}return o.mergedAttrs=Ss(o.mergedAttrs,o.attrs),c}function wm(n,r,o,a,c,f){const E=f.hostBindings;if(E){let A=n.hostBindingOpCodes;null===A&&(A=n.hostBindingOpCodes=[]);const F=~r.index;(function wp(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(A)!=F&&A.push(F),A.push(a,c,E)}}function bm(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Dh(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function wc(n,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=n;Jr(r)&&(o[""]=n)}}function Dp(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}function Th(n,r,o,a,c){n.data[a]=c;const f=c.factory||(c.factory=Ri(c.type)),E=new De(f,Jr(c),gc);n.blueprint[a]=E,o[a]=E,wm(n,r,0,a,Ec(n,o,c.hostVars,Yr),c)}function Vv(n,r,o){const a=_r(r,n),c=_m(o),f=n[10],E=Sh(n,vh(n,c,null,o.onPush?32:16,a,r,f,f.createRenderer(a,o),null,null,null));n[r.index]=E}function $a(n,r,o,a,c,f){const E=_r(n,r);!function el(n,r,o,a,c,f,E){if(null==f)n.removeAttribute(r,c,o);else{const A=null==E?St(f):E(f,a||"",c);n.setAttribute(r,c,A,o)}}(r[11],E,f,n.value,o,a,c)}function Tp(n,r,o,a,c,f){const E=f[r];if(null!==E){const A=a.setInput;for(let F=0;F<E.length;){const Q=E[F++],ce=E[F++],Ae=E[F++];null!==A?a.setInput(o,Ae,Q,ce):o[ce]=Ae}}}function Uv(n,r){let o=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,n[c],r[a+1])),a+=2}else a+=2;else a+=4}return o}function Cm(n,r,o,a){return new Array(n,!0,!1,r,null,0,a,o,null,null)}function jv(n,r){const o=Lr(r,n);if(Fs(o)){const a=o[1];48&o[2]?Eh(a,o,a.template,o[8]):o[5]>0&&ld(o)}}function ld(n){for(let a=gs(n);null!==a;a=Ml(a))for(let c=10;c<a.length;c++){const f=a[c];if(Fs(f))if(512&f[2]){const E=f[1];Eh(E,f,E.template,f[8])}else f[5]>0&&ld(f)}const o=n[1].components;if(null!==o)for(let a=0;a<o.length;a++){const c=Lr(o[a],n);Fs(c)&&c[5]>0&&ld(c)}}function $v(n,r){const o=Lr(r,n),a=o[1];(function Ap(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])})(a,o),_h(a,o,o[8])}function Sh(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function ud(n){for(;n;){n[2]|=32;const r=Fa(n);if(Eo(n)&&!r)return n;n=r}return null}function cd(n,r,o,a=!0){const c=r[10];c.begin&&c.begin();try{Eh(n,r,n.template,o)}catch(E){throw a&&xh(r,E),E}finally{c.end&&c.end()}}function Ah(n,r,o){le(0),r(n,o)}function Tm(n){return n[7]||(n[7]=[])}function Mh(n){return n.cleanup||(n.cleanup=[])}function xh(n,r){const o=n[9],a=o?o.get(Ua,null):null;a&&a.handleError(r)}function dd(n,r,o,a,c){for(let f=0;f<o.length;){const E=o[f++],A=o[f++],F=r[E],Q=n.data[E];null!==Q.setInput?Q.setInput(F,c,a,A):F[A]=c}}function tl(n,r,o){const a=Ds(r,n);!function ag(n,r,o){n.setValue(r,o)}(n[11],a,o)}function Ph(n,r,o){let a=o?n.styles:null,c=o?n.classes:null,f=0;if(null!==r)for(let E=0;E<r.length;E++){const A=r[E];"number"==typeof A?f=A:1==f?c=Qe(c,A):2==f&&(a=Qe(a,A+": "+r[++E]+";"))}o?n.styles=a:n.stylesWithoutHost=a,o?n.classes=c:n.classesWithoutHost=c}function hd(n,r,o,a,c=!1){for(;null!==o;){const f=r[o.index];if(null!==f&&a.push(Ur(f)),is(f))for(let A=10;A<f.length;A++){const F=f[A],Q=F[1].firstChild;null!==Q&&hd(F[1],F,Q,a)}const E=o.type;if(8&E)hd(n,r,o.child,a);else if(32&E){const A=Iu(o,r);let F;for(;F=A();)a.push(F)}else if(16&E){const A=Ef(r,o);if(Array.isArray(A))a.push(...A);else{const F=Fa(r[16]);hd(F[1],F,A,a,!0)}}o=c?o.projectionNext:o.next}return a}class bc{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return hd(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(is(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(Vo(r,a),Yi(o,a))}this._attachedToViewContainer=!1}Ui(this._lView[1],this._lView)}onDestroy(r){Ih(this._lView[1],this._lView,null,r)}markForCheck(){ud(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){cd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new et(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cg(n,r){ec(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new et(902,!1);this._appRef=r}}class Hv extends bc{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;cd(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class fd extends tu{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=ie(r);return new Ic(o,this.ngModule)}}function kh(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class Mm{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){const c=this.injector.get(r,kl,a);return c!==kl||o===kl?c:this.parentInjector.get(r,o,a)}}class Ic extends Yd{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Kf(n){return n.map(qf).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return kh(this.componentDef.inputs)}get outputs(){return kh(this.componentDef.outputs)}create(r,o,a,c){let f=(c=c||this.ngModule)instanceof xa?c:c?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const E=f?new Mm(r,f):r,A=E.get(Xc,null);if(null===A)throw new et(407,!1);const F=E.get(nu,null),Q=A.createRenderer(null,this.componentDef),ce=this.componentDef.selectors[0][0]||"div",Ae=a?function yp(n,r,o){return n.selectRootElement(r,o===jn.ShadowDom)}(Q,a,this.componentDef.encapsulation):Gl(Q,ce,function Am(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ce)),nt=this.componentDef.onPush?288:272,xt=mp(0,null,null,1,0,null,null,null,null,null),rn=vh(null,xt,null,nt,null,null,A,Q,F,E,null);let Mn,Yn;He(rn);try{const Er=function Pm(n,r,o,a,c,f){const E=o[1];o[22]=n;const F=uu(E,22,2,"#host",null),Q=F.mergedAttrs=r.hostAttrs;null!==Q&&(Ph(F,Q,!0),null!==n&&(Xr(c,n,Q),null!==F.classes&&Zl(c,n,F.classes),null!==F.styles&&_g(c,n,F.styles)));const ce=a.createRenderer(n,r),Ae=vh(o,_m(r),null,r.onPush?32:16,o[22],F,a,ce,f||null,null,null);return E.firstCreatePass&&(Yt(Vn(F,o),E,r.type),Dh(E,F),Dp(F,o.length,1)),Sh(o,Ae),o[22]=Ae}(Ae,this.componentDef,rn,A,Q);if(Ae)if(a)Xr(Q,Ae,["ng-version",Hf.full]);else{const{attrs:Fr,classes:hn}=function ed(n){const r=[],o=[];let a=1,c=2;for(;a<n.length;){let f=n[a];if("string"==typeof f)2===c?""!==f&&r.push(f,n[++a]):8===c&&o.push(f);else{if(!Qa(c))break;c=f}a++}return{attrs:r,classes:o}}(this.componentDef.selectors[0]);Fr&&Xr(Q,Ae,Fr),hn&&hn.length>0&&Zl(Q,Ae,hn.join(" "))}if(Yn=Os(xt,22),void 0!==o){const Fr=Yn.projection=[];for(let hn=0;hn<this.ngContentSelectors.length;hn++){const Gr=o[hn];Fr.push(null!=Gr?Array.from(Gr):null)}}Mn=function pd(n,r,o,a){const c=o[1],f=function Fv(n,r,o){const a=Hi();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Th(n,a,r,Ec(n,r,1,null),o),Ch(n,a));const c=ia(r,n,a.directiveStart,a);m(c,r);const f=_r(a,r);return f&&m(f,r),c}(c,o,r);if(n[8]=o[8]=f,null!==a)for(const A of a)A(f,r);if(r.contentQueries){const A=Hi();r.contentQueries(1,f,A.directiveStart)}const E=Hi();return!c.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(X(E.index),wm(o[1],E,0,E.directiveStart,E.directiveEnd,r),bm(r,f)),f}(Er,this.componentDef,rn,[km]),_h(xt,rn,null)}finally{k()}return new xm(this.componentType,Mn,Mu(Yn,rn),rn,Yn)}}class xm extends class iv{}{constructor(r,o,a,c,f){super(),this.location=a,this._rootLView=c,this._tNode=f,this.instance=o,this.hostView=this.changeDetectorRef=new Hv(c),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){const f=this._rootLView;dd(f[1],f,c,r,o),_p(f,this._tNode.index)}}get injector(){return new w(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function km(){const n=Hi();Zt(nn()[1],n)}function na(n){let r=function Xs(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const a=[n];for(;r;){let c;if(Jr(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new et(903,!1);c=r.\u0275dir}if(c){if(o){a.push(c);const E=n;E.inputs=Nh(n.inputs),E.declaredInputs=Nh(n.declaredInputs),E.outputs=Nh(n.outputs);const A=c.hostBindings;A&&Rm(n,A);const F=c.viewQuery,Q=c.contentQueries;if(F&&zv(n,F),Q&&Oh(n,Q),Ze(n.inputs,c.inputs),Ze(n.declaredInputs,c.declaredInputs),Ze(n.outputs,c.outputs),Jr(c)&&c.data.animation){const ce=n.data;ce.animation=(ce.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let E=0;E<f.length;E++){const A=f[E];A&&A.ngInherit&&A(n),A===na&&(o=!1)}}r=Object.getPrototypeOf(r)}!function vl(n){let r=0,o=null;for(let a=n.length-1;a>=0;a--){const c=n[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Ss(c.hostAttrs,o=Ss(o,c.hostAttrs))}}(a)}function Nh(n){return n===Wr?{}:n===nr?[]:n}function zv(n,r){const o=n.viewQuery;n.viewQuery=o?(a,c)=>{r(a,c),o(a,c)}:r}function Oh(n,r){const o=n.contentQueries;n.contentQueries=o?(a,c,f)=>{r(a,c,f),o(a,c,f)}:r}function Rm(n,r){const o=n.hostBindings;n.hostBindings=o?(a,c)=>{r(a,c),o(a,c)}:r}let Lh=null;function Cc(){if(!Lh){const n=ar.Symbol;if(n&&n.iterator)Lh=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const a=r[o];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Lh=a)}}}return Lh}function gd(n){return!!xp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Cc()in n)}function xp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ha(n,r,o){return n[r]=o}function Dc(n,r){return n[r]}function da(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function Rl(n,r,o,a){const c=da(n,r,o);return da(n,r+1,a)||c}function md(n,r,o,a){const c=nn();return da(c,On(),r)&&(Pr(),$a(W(),c,n,r,o,a)),md}function cu(n,r,o,a,c,f){const A=Rl(n,function ue(){return or.lFrame.bindingIndex}(),o,c);return ur(2),A?r+St(o)+a+St(c)+f:Yr}function eo(n,r,o,a,c,f,E,A){const F=nn(),Q=Pr(),ce=n+22,Ae=Q.firstCreatePass?function Zv(n,r,o,a,c,f,E,A,F){const Q=r.consts,ce=uu(r,n,4,E||null,Ls(Q,A));ad(r,o,ce,Ls(Q,F)),Zt(r,ce);const Ae=ce.tViews=mp(2,ce,a,c,f,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Q);return null!==r.queries&&(r.queries.template(r,ce),Ae.queries=r.queries.embeddedTView(ce)),ce}(ce,Q,F,r,o,a,c,f,E):Q.data[ce];fi(Ae,!1);const nt=F[11].createComment("");Kl(Q,F,nt,Ae),m(nt,F),Sh(F,F[ce]=Cm(nt,F,nt,Ae)),Mo(Ae)&&wh(Q,F,Ae),null!=E&&bh(F,Ae,A)}function Ao(n,r,o){const a=nn();return da(a,On(),r)&&Da(Pr(),W(),a,n,r,a[11],o,!1),Ao}function Uh(n,r,o,a,c){const E=c?"class":"style";dd(n,o,r.inputs[E],E,a)}function Bh(n,r,o,a){const c=nn(),f=Pr(),E=22+n,A=c[11],F=c[E]=Gl(A,r,function be(){return or.lFrame.currentNamespace}()),Q=f.firstCreatePass?function Yv(n,r,o,a,c,f,E){const A=r.consts,Q=uu(r,n,2,c,Ls(A,f));return ad(r,o,Q,Ls(A,E)),null!==Q.attrs&&Ph(Q,Q.attrs,!1),null!==Q.mergedAttrs&&Ph(Q,Q.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,Q),Q}(E,f,c,0,r,o,a):f.data[E];fi(Q,!0);const ce=Q.mergedAttrs;null!==ce&&Xr(A,F,ce);const Ae=Q.classes;null!==Ae&&Zl(A,F,Ae);const nt=Q.styles;return null!==nt&&_g(A,F,nt),64!=(64&Q.flags)&&Kl(f,c,F,Q),0===function fo(){return or.lFrame.elementDepthCount}()&&m(F,c),function io(){or.lFrame.elementDepthCount++}(),Mo(Q)&&(wh(f,c,Q),gp(f,Q,c)),null!==a&&bh(c,Q),Bh}function yd(){let n=Hi();ra()?po():(n=n.parent,fi(n,!1));const r=n;!function hi(){or.lFrame.elementDepthCount--}();const o=Pr();return o.firstCreatePass&&(Zt(o,n),$r(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Kn(n){return 0!=(16&n.flags)}(r)&&Uh(o,r,nn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Or(n){return 0!=(32&n.flags)}(r)&&Uh(o,r,nn(),r.stylesWithoutHost,!1),yd}function Rp(n,r,o,a){return Bh(n,r,o,a),yd(),Rp}function jh(n,r,o){const a=nn(),c=Pr(),f=n+22,E=c.firstCreatePass?function Qv(n,r,o,a,c){const f=r.consts,E=Ls(f,a),A=uu(r,n,8,"ng-container",E);return null!==E&&Ph(A,E,!0),ad(r,o,A,Ls(f,c)),null!==r.queries&&r.queries.elementStart(r,A),A}(f,c,a,r,o):c.data[f];fi(E,!0);const A=a[f]=a[11].createComment("");return Kl(c,a,A,E),m(A,a),Mo(E)&&(wh(c,a,E),gp(c,E,a)),null!=o&&bh(a,E),jh}function $h(){let n=Hi();const r=Pr();return ra()?po():(n=n.parent,fi(n,!1)),r.firstCreatePass&&(Zt(r,n),$r(n)&&r.queries.elementEnd(n)),$h}function $m(){return nn()}function Np(n){return!!n&&"function"==typeof n.then}function Op(n){return!!n&&"function"==typeof n.subscribe}const rl=Op;function il(n,r,o,a){const c=nn(),f=Pr(),E=Hi();return function vd(n,r,o,a,c,f,E,A){const F=Mo(a),ce=n.firstCreatePass&&Mh(n),Ae=r[8],nt=Tm(r);let xt=!0;if(3&a.type||A){const Yn=_r(a,r),Er=A?A(Yn):Yn,Fr=nt.length,hn=A?Es=>A(Ur(Es[a.index])):a.index;let Gr=null;if(!A&&F&&(Gr=function Lu(n,r,o,a){const c=n.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const E=c[f];if(E===o&&c[f+1]===a){const A=r[7],F=c[f+2];return A.length>F?A[F]:null}"string"==typeof E&&(f+=2)}return null}(n,r,c,a.index)),null!==Gr)(Gr.__ngLastListenerFn__||Gr).__ngNextListenerFn__=f,Gr.__ngLastListenerFn__=f,xt=!1;else{f=Gm(a,r,Ae,f,!1);const Es=o.listen(Er,c,f);nt.push(f,Es),ce&&ce.push(c,hn,Fr,Fr+1)}}else f=Gm(a,r,Ae,f,!1);const rn=a.outputs;let Mn;if(xt&&null!==rn&&(Mn=rn[c])){const Yn=Mn.length;if(Yn)for(let Er=0;Er<Yn;Er+=2){const Bo=r[Mn[Er]][Mn[Er+1]].subscribe(f),xd=nt.length;nt.push(f,Bo),ce&&ce.push(c,a.index,xd,-(xd+1))}}}(f,c,c[11],E,n,r,0,a),il}function Hm(n,r,o,a){try{return!1!==o(a)}catch(c){return xh(n,c),!1}}function Gm(n,r,o,a,c){return function f(E){if(E===Function)return a;ud(2&n.flags?Lr(n.index,r):r);let F=Hm(r,0,a,E),Q=f.__ngNextListenerFn__;for(;Q;)F=Hm(r,0,Q,E)&&F,Q=Q.__ngNextListenerFn__;return c&&!1===F&&(E.preventDefault(),E.returnValue=!1),F}}function Fp(n=1){return function T(n){return(or.lFrame.contextLView=function U(n,r){for(;n>0;)r=r[15],n--;return r}(n,or.lFrame.contextLView))[8]}(n)}function Vp(n,r,o,a,c){const f=n[o+1],E=null===r;let A=a?Ja(f):Xa(f),F=!1;for(;0!==A&&(!1===F||E);){const ce=n[A+1];Up(n[A],r)&&(F=!0,n[A+1]=a?nd(ce):iu(ce)),A=a?Ja(ce):Xa(ce)}F&&(n[o+1]=a?iu(f):nd(f))}function Up(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&C(n,r)>=0}function Xm(n,r,o){return sl(n,r,o,!1),Xm}function ey(n,r){return sl(n,r,null,!0),ey}function sl(n,r,o,a){const c=nn(),f=Pr(),E=ur(2);f.firstUpdatePass&&function ny(n,r,o,a){const c=n.data;if(null===c[o+1]){const f=c[z()],E=function ty(n,r){return r>=n.expandoStartIndex}(n,o);(function El(n,r){return 0!=(n.flags&(r?16:32))})(f,a)&&null===r&&!E&&(r=!1),r=function Yh(n,r,o,a){const c=$(n);let f=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(o=Pc(o=Qh(null,n,r,o,a),r.attrs,a),f=null);else{const E=r.directiveStylingLast;if(-1===E||n[E]!==c)if(o=Qh(c,n,r,o,a),null===f){let F=function r_(n,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==Xa(a))return n[Ja(a)]}(n,r,a);void 0!==F&&Array.isArray(F)&&(F=Qh(null,n,r,F[1],a),F=Pc(F,r.attrs,a),function i_(n,r,o,a){n[Ja(o?r.classBindings:r.styleBindings)]=a}(n,r,a,F))}else f=function ry(n,r,o){let a;const c=r.directiveEnd;for(let f=1+r.directiveStylingLast;f<c;f++)a=Pc(a,n[f].hostAttrs,o);return Pc(a,r.attrs,o)}(n,r,a)}return void 0!==f&&(a?r.residualClasses=f:r.residualStyles=f),o}(c,f,r,a),function Vu(n,r,o,a,c,f){let E=f?r.classBindings:r.styleBindings,A=Ja(E),F=Xa(E);n[a]=o;let ce,Q=!1;if(Array.isArray(o)){const Ae=o;ce=Ae[1],(null===ce||C(Ae,ce)>0)&&(Q=!0)}else ce=o;if(c)if(0!==F){const nt=Ja(n[A+1]);n[a+1]=hh(nt,A),0!==nt&&(n[nt+1]=yc(n[nt+1],a)),n[A+1]=function np(n,r){return 131071&n|r<<17}(n[A+1],a)}else n[a+1]=hh(A,0),0!==A&&(n[A+1]=yc(n[A+1],a)),A=a;else n[a+1]=hh(F,0),0===A?A=a:n[F+1]=yc(n[F+1],a),F=a;Q&&(n[a+1]=iu(n[a+1])),Vp(n,ce,a,!0),Vp(n,ce,a,!1),function Zm(n,r,o,a,c){const f=c?n.residualClasses:n.residualStyles;null!=f&&"string"==typeof r&&C(f,r)>=0&&(o[a+1]=nd(o[a+1]))}(r,ce,n,a,f),E=hh(A,F),f?r.classBindings=E:r.styleBindings=E}(c,f,r,o,E,a)}}(f,n,E,a),r!==Yr&&da(c,E,r)&&function Jh(n,r,o,a,c,f,E,A){if(!(3&r.type))return;const F=n.data,Q=F[A+1];Xh(function vc(n){return 1==(1&n)}(Q)?Cd(F,r,o,c,Xa(Q),E):void 0)||(Xh(f)||function mc(n){return 2==(2&n)}(Q)&&(f=Cd(F,null,o,c,A,E)),function Gy(n,r,o,a,c){if(r)c?n.addClass(o,a):n.removeClass(o,a);else{let f=-1===a.indexOf("-")?void 0:Zo.DashCase;null==c?n.removeStyle(o,a,f):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),f|=Zo.Important),n.setStyle(o,a,c,f))}}(a,E,Ds(z(),o),c,f))}(f,f.data[z()],c,c[11],n,c[E+1]=function Bu(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Ge(Yl(n)))),n}(r,o),a,E)}function Qh(n,r,o,a,c){let f=null;const E=o.directiveEnd;let A=o.directiveStylingLast;for(-1===A?A=o.directiveStart:A++;A<E&&(f=r[A],a=Pc(a,f.hostAttrs,c),f!==n);)A++;return null!==n&&(o.directiveStylingLast=A),a}function Pc(n,r,o){const a=o?1:2;let c=-1;if(null!==r)for(let f=0;f<r.length;f++){const E=r[f];"number"==typeof E?c=E:c===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Qi(n,E,!!o||r[++f]))}return void 0===n?null:n}function Cd(n,r,o,a,c,f){const E=null===r;let A;for(;c>0;){const F=n[c],Q=Array.isArray(F),ce=Q?F[1]:F,Ae=null===ce;let nt=o[c+1];nt===Yr&&(nt=Ae?nr:void 0);let xt=Ae?vo(nt,a):ce===a?nt:void 0;if(Q&&!Xh(xt)&&(xt=vo(F,a)),Xh(xt)&&(A=xt,E))return A;const rn=n[c+1];c=E?Ja(rn):Xa(rn)}if(null!==r){let F=f?r.residualClasses:r.residualStyles;null!=F&&(A=vo(F,a))}return A}function Xh(n){return void 0!==n}function kc(n,r=""){const o=nn(),a=Pr(),c=n+22,f=a.firstCreatePass?uu(a,c,1,r,null):a.data[c],E=o[c]=function Du(n,r){return n.createText(r)}(o[11],r);Kl(a,o,E,f),fi(f,!1)}function wl(n){return ef("",n,""),wl}function ef(n,r,o){const a=nn(),c=function Nl(n,r,o,a){return da(n,On(),o)?r+St(o)+a:Yr}(a,n,r,o);return c!==Yr&&tl(a,z(),c),ef}function tf(n,r,o,a,c){const f=nn(),E=cu(f,n,r,o,a,c);return E!==Yr&&tl(f,z(),E),tf}function ju(n,r,o){const a=nn();if(da(a,On(),r)){const f=Pr(),E=W();Da(f,E,a,n,r,function Sm(n,r,o){return(null===n||Jr(n))&&(o=function Ns(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(o[r.index])),o[11]}($(f.data),E,a),o,!0)}return ju}const Ll=void 0;var y_=["en",[["a","p"],["AM","PM"],Ll],[["AM","PM"],Ll,Ll],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ll,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ll,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ll,"{1} 'at' {0}",Ll],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function m_(n){const o=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let $u={};function Kp(n){const r=function Ey(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=gu(r);if(o)return o;const a=r.split("-")[0];if(o=gu(a),o)return o;if("en"===a)return y_;throw new et(701,!1)}function Zp(n){return Kp(n)[pr.PluralCase]}function gu(n){return n in $u||($u[n]=ar.ng&&ar.ng.common&&ar.ng.common.locales&&ar.ng.common.locales[n]),$u[n]}var pr=(()=>((pr=pr||{})[pr.LocaleId=0]="LocaleId",pr[pr.DayPeriodsFormat=1]="DayPeriodsFormat",pr[pr.DayPeriodsStandalone=2]="DayPeriodsStandalone",pr[pr.DaysFormat=3]="DaysFormat",pr[pr.DaysStandalone=4]="DaysStandalone",pr[pr.MonthsFormat=5]="MonthsFormat",pr[pr.MonthsStandalone=6]="MonthsStandalone",pr[pr.Eras=7]="Eras",pr[pr.FirstDayOfWeek=8]="FirstDayOfWeek",pr[pr.WeekendRange=9]="WeekendRange",pr[pr.DateFormat=10]="DateFormat",pr[pr.TimeFormat=11]="TimeFormat",pr[pr.DateTimeFormat=12]="DateTimeFormat",pr[pr.NumberSymbols=13]="NumberSymbols",pr[pr.NumberFormats=14]="NumberFormats",pr[pr.CurrencyCode=15]="CurrencyCode",pr[pr.CurrencySymbol=16]="CurrencySymbol",pr[pr.CurrencyName=17]="CurrencyName",pr[pr.Currencies=18]="Currencies",pr[pr.Directionality=19]="Directionality",pr[pr.PluralCase=20]="PluralCase",pr[pr.ExtraData=21]="ExtraData",pr))();const bl="en-US";let sf=bl;function T_(n,r,o,a,c){if(n=Pe(n),Array.isArray(n))for(let f=0;f<n.length;f++)T_(n[f],r,o,a,c);else{const f=Pr(),E=nn();let A=Su(n)?n:Pe(n.provide),F=Zd(n);const Q=Hi(),ce=1048575&Q.providerIndexes,Ae=Q.directiveStart,nt=Q.providerIndexes>>20;if(Su(n)||!n.multi){const xt=new De(F,c,gc),rn=A_(A,r,c?ce:ce+nt,Ae);-1===rn?(Yt(Vn(Q,E),f,A),S_(f,n,r.length),r.push(A),Q.directiveStart++,Q.directiveEnd++,c&&(Q.providerIndexes+=1048576),o.push(xt),E.push(xt)):(o[rn]=xt,E[rn]=xt)}else{const xt=A_(A,r,ce+nt,Ae),rn=A_(A,r,ce,ce+nt),Mn=xt>=0&&o[xt],Yn=rn>=0&&o[rn];if(c&&!Yn||!c&&!Mn){Yt(Vn(Q,E),f,A);const Er=function Uw(n,r,o,a,c){const f=new De(n,o,gc);return f.multi=[],f.index=r,f.componentProviders=0,$0(f,c,a&&!o),f}(c?Vw:Lw,o.length,c,a,F);!c&&Yn&&(o[rn].providerFactory=Er),S_(f,n,r.length,0),r.push(A),Q.directiveStart++,Q.directiveEnd++,c&&(Q.providerIndexes+=1048576),o.push(Er),E.push(Er)}else S_(f,n,xt>-1?xt:rn,$0(o[c?rn:xt],F,!c&&a));!c&&a&&Yn&&o[rn].componentProviders++}}}function S_(n,r,o,a){const c=Su(r),f=function Lg(n){return!!n.useClass}(r);if(c||f){const F=(f?Pe(r.useClass):r).prototype.ngOnDestroy;if(F){const Q=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const ce=Q.indexOf(o);-1===ce?Q.push(o,[a,F]):Q[ce+1].push(a,F)}else Q.push(o,F)}}}function $0(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function A_(n,r,o,a){for(let c=o;c<a;c++)if(r[c]===n)return c;return-1}function Lw(n,r,o,a){return M_(this.multi,[])}function Vw(n,r,o,a){const c=this.multi;let f;if(this.providerFactory){const E=this.providerFactory.componentProviders,A=ia(o,o[1],this.providerFactory.index,a);f=A.slice(0,E),M_(c,f);for(let F=E;F<A.length;F++)f.push(A[F])}else f=[],M_(c,f);return f}function M_(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function H0(n,r=[]){return o=>{o.providersResolver=(a,c)=>function Fw(n,r,o){const a=Pr();if(a.firstCreatePass){const c=Jr(n);T_(o,a.data,a.blueprint,c,!0),T_(r,a.data,a.blueprint,c,!1)}}(a,c?c(n):n,r)}}class cf{}class G0{}function Bw(n,r){return new z0(n,r??null)}class z0 extends cf{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fd(this);const a=Tn(r);this._bootstrapComponents=ml(a.bootstrap),this._r3Injector=Pu(r,o,[{provide:cf,useValue:this},{provide:tu,useValue:this.componentFactoryResolver}],Ge(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class x_ extends G0{constructor(r){super(),this.moduleType=r}create(r){return new z0(this.moduleType,r)}}class jw extends cf{constructor(r,o,a){super(),this.componentFactoryResolver=new fd(this),this.instance=null;const c=new Uf([...r,{provide:cf,useValue:this},{provide:tu,useValue:this.componentFactoryResolver}],o||gl(),a,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function P_(n,r,o=null){return new jw(n,r,o).injector}let $w=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const a=Of(0,o.type),c=a.length>0?P_([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,c)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=en({token:n,providedIn:"environment",factory:()=>new n(Js(xa))}),n})();function W0(n){n.getStandaloneInjector=r=>r.get($w).getOrCreateStandaloneInjector(n)}function X0(n,r,o){const a=L()+n,c=nn();return c[a]===Yr?Ha(c,a,o?r.call(o):r()):Dc(c,a)}function eE(n,r,o,a){return function rE(n,r,o,a,c,f){const E=r+o;return da(n,E,c)?Ha(n,E+1,f?a.call(f,c):a(c)):tg(n,E+1)}(nn(),L(),n,r,o,a)}function tE(n,r,o,a,c){return function iE(n,r,o,a,c,f,E){const A=r+o;return Rl(n,A,c,f)?Ha(n,A+2,E?a.call(E,c,f):a(c,f)):tg(n,A+2)}(nn(),L(),n,r,o,a,c)}function nE(n,r,o,a,c,f,E,A){const F=L()+n,Q=nn(),ce=function Ta(n,r,o,a,c,f){const E=Rl(n,r,o,a);return Rl(n,r+2,c,f)||E}(Q,F,o,a,c,f);return da(Q,F+4,E)||ce?Ha(Q,F+5,A?r.call(A,o,a,c,f,E):r(o,a,c,f,E)):Dc(Q,F+5)}function tg(n,r){const o=n[r];return o===Yr?void 0:o}function R_(n){return r=>{setTimeout(n,void 0,r)}}const yu=class cb extends h.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let c=r,f=o||(()=>null),E=a;if(r&&"object"==typeof r){const F=r;c=F.next?.bind(F),f=F.error?.bind(F),E=F.complete?.bind(F)}this.__isAsync&&(f=R_(f),c&&(c=R_(c)),E&&(E=R_(E)));const A=super.subscribe({next:c,error:f,complete:E});return r instanceof O.w0&&r.add(A),A}};function db(){return this._results[Cc()]()}class N_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Cc(),a=N_.prototype;a[o]||(a[o]=db)}get changes(){return this._changes||(this._changes=new yu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const c=Gn(r);(this._changesDetected=!function Zn(n,r,o){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],f=r[a];if(o&&(c=o(c),f=o(f)),f!==c)return!1}return!0}(a._results,c,o))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let rg=(()=>{class n{}return n.__NG_ELEMENT_ID__=pb,n})();const hb=rg,fb=class extends hb{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}createEmbeddedView(r,o){const a=this._declarationTContainer.tViews,c=vh(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,o||null);c[17]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[19];return null!==E&&(c[19]=E.createEmbeddedView(a)),_h(a,c,r),new bc(c)}};function pb(){return Py(Hi(),nn())}function Py(n,r){return 4&n.type?new fb(r,n,Mu(n,r)):null}let ky=(()=>{class n{}return n.__NG_ELEMENT_ID__=gb,n})();function gb(){return cE(Hi(),nn())}const mb=ky,lE=class extends mb{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return Mu(this._hostTNode,this._hostLView)}get injector(){return new w(this._hostTNode,this._hostLView)}get parentInjector(){const r=At(this._hostTNode,this._hostLView);if(fs(r)){const o=ri(r,this._hostLView),a=ni(r);return new w(o[1].data[a+8],o)}return new w(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=uE(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,a){let c,f;"number"==typeof a?c=a:null!=a&&(c=a.index,f=a.injector);const E=r.createEmbeddedView(o||{},f);return this.insert(E,c),E}createComponent(r,o,a,c,f){const E=r&&!function Co(n){return"function"==typeof n}(r);let A;if(E)A=o;else{const Ae=o||{};A=Ae.index,a=Ae.injector,c=Ae.projectableNodes,f=Ae.environmentInjector||Ae.ngModuleRef}const F=E?r:new Ic(ie(r)),Q=a||this.parentInjector;if(!f&&null==F.ngModule){const nt=(E?Q:this.parentInjector).get(xa,null);nt&&(f=nt)}const ce=F.create(Q,c,void 0,f);return this.insert(ce.hostView,A),ce}insert(r,o){const a=r._lView,c=a[1];if(function zo(n){return is(n[3])}(a)){const ce=this.indexOf(r);if(-1!==ce)this.detach(ce);else{const Ae=a[3],nt=new lE(Ae,Ae[6],Ae[3]);nt.detach(nt.indexOf(r))}}const f=this._adjustIndex(o),E=this._lContainer;!function Yu(n,r,o,a){const c=10+a,f=o.length;a>0&&(o[c-1][4]=r),a<f-10?(r[4]=o[c],Br(o,10+a,r)):(o.push(r),r[4]=null),r[3]=o;const E=r[17];null!==E&&o!==E&&function vf(n,r){const o=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===o?n[9]=[r]:o.push(r)}(E,r);const A=r[19];null!==A&&A.insertView(n),r[2]|=64}(c,a,E,f);const A=jd(f,E),F=a[11],Q=ql(F,E[7]);return null!==Q&&function ug(n,r,o,a,c,f){a[0]=c,a[6]=r,ec(n,a,o,1,c,f)}(c,E[6],F,a,Q,A),r.attachToViewContainerRef(),Br(O_(E),f,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=uE(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=Vo(this._lContainer,o);a&&(Yi(O_(this._lContainer),o),Ui(a[1],a))}detach(r){const o=this._adjustIndex(r,-1),a=Vo(this._lContainer,o);return a&&null!=Yi(O_(this._lContainer),o)?new bc(a):null}_adjustIndex(r,o=0){return r??this.length+o}};function uE(n){return n[8]}function O_(n){return n[8]||(n[8]=[])}function cE(n,r){let o;const a=r[n.index];if(is(a))o=a;else{let c;if(8&n.type)c=Ur(a);else{const f=r[11];c=f.createComment("");const E=_r(n,r);Wl(f,ql(f,E),c,function $y(n,r){return n.nextSibling(r)}(f,E),!1)}r[n.index]=o=Cm(a,r,c,n),Sh(r,o)}return new lE(o,n,r)}class F_{constructor(r){this.queryList=r,this.matches=null}clone(){return new F_(this.queryList)}setDirty(){this.queryList.setDirty()}}class L_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,c=[];for(let f=0;f<a;f++){const E=o.getByIndex(f);c.push(this.queries[E.indexInDeclarationView].clone())}return new L_(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==_E(r,o).matches&&this.queries[o].setDirty()}}class dE{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class V_{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,f=this.getByIndex(a).embeddedTView(r,c);f&&(f.indexInDeclarationView=a,null!==o?o.push(f):o=[f])}return null!==o?new V_(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class U_{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new U_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const f=a[c];this.matchTNodeWithReadOption(r,o,_b(o,f)),this.matchTNodeWithReadOption(r,o,_a(o,r,f,!1,!1))}else a===rg?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,_a(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===uc||c===ky||c===rg&&4&o.type)this.addMatch(o.index,-2);else{const f=_a(o,r,c,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function _b(n,r){const o=n.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function wb(n,r,o,a){return-1===o?function Eb(n,r){return 11&n.type?Mu(n,r):4&n.type?Py(n,r):null}(r,n):-2===o?function bb(n,r,o){return o===uc?Mu(r,n):o===rg?Py(r,n):o===ky?cE(r,n):void 0}(n,r,a):ia(n,n[1],o,r)}function hE(n,r,o,a){const c=r[19].queries[a];if(null===c.matches){const f=n.data,E=o.matches,A=[];for(let F=0;F<E.length;F+=2){const Q=E[F];A.push(Q<0?null:wb(r,f[Q],E[F+1],o.metadata.read))}c.matches=A}return c.matches}function B_(n,r,o,a){const c=n.queries.getByIndex(o),f=c.matches;if(null!==f){const E=hE(n,r,c,o);for(let A=0;A<f.length;A+=2){const F=f[A];if(F>0)a.push(E[A/2]);else{const Q=f[A+1],ce=r[-F];for(let Ae=10;Ae<ce.length;Ae++){const nt=ce[Ae];nt[17]===nt[3]&&B_(nt[1],nt,Q,a)}if(null!==ce[9]){const Ae=ce[9];for(let nt=0;nt<Ae.length;nt++){const xt=Ae[nt];B_(xt[1],xt,Q,a)}}}}}return a}function fE(n){const r=nn(),o=Pr(),a=G();le(a+1);const c=_E(o,a);if(n.dirty&&function qs(n){return 4==(4&n[2])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const f=c.crossesNgTemplate?B_(o,r,a,[]):hE(o,r,c,a);n.reset(f,Pa),n.notifyOnChanges()}return!0}return!1}function pE(n,r,o){const a=Pr();a.firstCreatePass&&(vE(a,new dE(n,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),yE(a,nn(),r)}function gE(n,r,o,a){const c=Pr();if(c.firstCreatePass){const f=Hi();vE(c,new dE(r,o,a),f.index),function Cb(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(c,n),2==(2&o)&&(c.staticContentQueries=!0)}yE(c,nn(),o)}function mE(){return function Ib(n,r){return n[19].queries[r].queryList}(nn(),G())}function yE(n,r,o){const a=new N_(4==(4&o));Ih(n,r,a,a.destroy),null===r[19]&&(r[19]=new L_),r[19].queries.push(new F_(a))}function vE(n,r,o){null===n.queries&&(n.queries=new V_),n.queries.track(new U_(r,o))}function _E(n,r){return n.queries.getByIndex(r)}function Ny(...n){}const VE=new gr("Application Initializer");let Oy=(()=>{class n{constructor(o){this.appInits=o,this.resolve=Ny,this.reject=Ny,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const f=this.appInits[c]();if(Np(f))o.push(f);else if(rl(f)){const E=new Promise((A,F)=>{f.subscribe({complete:A,error:F})});o.push(E)}}Promise.all(o).then(()=>{a()}).catch(c=>{this.reject(c)}),0===o.length&&a(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Js(VE,8))},n.\u0275prov=en({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UE=new gr("AppId",{providedIn:"root",factory:function BE(){return`${z_()}${z_()}${z_()}`}});function z_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jE=new gr("Platform Initializer"),zb=new gr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$E=new gr("appBootstrapListener"),Wb=new gr("AnimationModuleType");let qb=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=en({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Fy=new gr("LocaleId",{providedIn:"root",factory:()=>V(Fy,bn.Optional|bn.SkipSelf)||function Kb(){return typeof $localize<"u"&&$localize.locale||bl}()}),Zb=new gr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Yb{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let Qb=(()=>{class n{compileModuleSync(o){return new x_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),f=ml(Tn(o).declarations).reduce((E,A)=>{const F=ie(A);return F&&E.push(new Ic(F)),E},[]);return new Yb(a,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=en({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eI=(()=>Promise.resolve(0))();function W_(n){typeof Zone>"u"?eI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Il{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yu(!1),this.onMicrotaskEmpty=new yu(!1),this.onStable=new yu(!1),this.onError=new yu(!1),typeof Zone>"u")throw new et(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const f=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new f("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function tI(){let n=ar.requestAnimationFrame,r=ar.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function iI(n){const r=()=>{!function rI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ar,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,K_(n),n.isCheckStableRunning=!0,q_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),K_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,f,E,A)=>{try{return zE(n),o.invokeTask(c,f,E,A)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||n.shouldCoalesceRunChangeDetection)&&r(),WE(n)}},onInvoke:(o,a,c,f,E,A,F)=>{try{return zE(n),o.invoke(c,f,E,A,F)}finally{n.shouldCoalesceRunChangeDetection&&r(),WE(n)}},onHasTask:(o,a,c,f)=>{o.hasTask(c,f),a===c&&("microTask"==f.change?(n._hasPendingMicrotasks=f.microTask,K_(n),q_(n)):"macroTask"==f.change&&(n.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,a,c,f)=>(o.handleError(c,f),n.runOutsideAngular(()=>n.onError.emit(f)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Il.isInAngularZone())throw new et(909,!1)}static assertNotInAngularZone(){if(Il.isInAngularZone())throw new et(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,c){const f=this._inner,E=f.scheduleEventTask("NgZoneEvent: "+c,r,nI,Ny,Ny);try{return f.runTask(E,o,a)}finally{f.cancelTask(E)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const nI={};function q_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function K_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function zE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function WE(n){n._nesting--,q_(n)}class sI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yu,this.onMicrotaskEmpty=new yu,this.onStable=new yu,this.onError=new yu}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,c){return r.apply(o,a)}}const qE=new gr(""),KE=new gr("");let Z_,oI=(()=>{class n{constructor(o,a,c){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Z_||(function aI(n){Z_=n}(c),c.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Il.assertNotInAngularZone(),W_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())W_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,c){let f=-1;a&&a>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==f),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:c})}whenStable(o,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,c){return[]}}return n.\u0275fac=function(o){return new(o||n)(Js(Il),Js(ZE),Js(KE))},n.\u0275prov=en({token:n,factory:n.\u0275fac}),n})(),ZE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return Z_?.findTestabilityInTree(this,o,a)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=en({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Lc=null;const YE=new gr("AllowMultipleToken"),Y_=new gr("PlatformDestroyListeners");class cI{constructor(r,o){this.name=r,this.token=o}}function JE(n,r,o=[]){const a=`Platform: ${r}`,c=new gr(a);return(f=[])=>{let E=Q_();if(!E||E.injector.get(YE,!1)){const A=[...o,...f,{provide:c,useValue:!0}];n?n(A):function dI(n){if(Lc&&!Lc.get(YE,!1))throw new et(400,!1);Lc=n;const r=n.get(ew);(function QE(n){const r=n.get(jE,null);r&&r.forEach(o=>o())})(n)}(function XE(n=[],r){return Ba.create({name:r,providers:[{provide:Vf,useValue:"platform"},{provide:Y_,useValue:new Set([()=>Lc=null])},...n]})}(A,a))}return function fI(n){const r=Q_();if(!r)throw new et(401,!1);return r}()}}function Q_(){return Lc?.get(ew)??null}let ew=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const c=function nw(n,r){let o;return o="noop"===n?new sI:("zone.js"===n?void 0:n)||new Il(r),o}(a?.ngZone,function tw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),f=[{provide:Il,useValue:c}];return c.run(()=>{const E=Ba.create({providers:f,parent:this.injector,name:o.moduleType.name}),A=o.create(E),F=A.injector.get(Ua,null);if(!F)throw new et(402,!1);return c.runOutsideAngular(()=>{const Q=c.onError.subscribe({next:ce=>{F.handleError(ce)}});A.onDestroy(()=>{Vy(this._modules,A),Q.unsubscribe()})}),function rw(n,r,o){try{const a=o();return Np(a)?a.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(F,c,()=>{const Q=A.injector.get(Oy);return Q.runInitializers(),Q.donePromise.then(()=>(function mu(n){Bt(n,"Expected localeId to be defined"),"string"==typeof n&&(sf=n.toLowerCase().replace(/_/g,"-"))}(A.injector.get(Fy,bl)||bl),this._moduleDoBootstrap(A),A))})})}bootstrapModule(o,a=[]){const c=iw({},a);return function lI(n,r,o){const a=new x_(o);return Promise.resolve(a)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,c))}_moduleDoBootstrap(o){const a=o.injector.get(Ly);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new et(403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new et(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(Y_,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Js(Ba))},n.\u0275prov=en({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function iw(n,r){return Array.isArray(r)?r.reduce(iw,n):{...n,...r}}let Ly=(()=>{class n{constructor(o,a,c){this._zone=o,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new ee.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),E=new ee.y(A=>{let F;this._zone.runOutsideAngular(()=>{F=this._zone.onStable.subscribe(()=>{Il.assertNotInAngularZone(),W_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const Q=this._zone.onUnstable.subscribe(()=>{Il.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{F.unsubscribe(),Q.unsubscribe()}});this.isStable=(0,Ve.T)(f,E.pipe((0,ze.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const c=o instanceof Yd;if(!this._injector.get(Oy).done)throw!c&&$t(o),new et(405,false);let E;E=c?o:this._injector.get(tu).resolveComponentFactory(o),this.componentTypes.push(E.componentType);const A=function uI(n){return n.isBoundToModule}(E)?void 0:this._injector.get(cf),Q=E.create(Ba.NULL,[],a||E.selector,A),ce=Q.location.nativeElement,Ae=Q.injector.get(qE,null);return Ae?.registerApplication(ce),Q.onDestroy(()=>{this.detachView(Q.hostView),Vy(this.components,Q),Ae?.unregisterApplication(ce)}),this._loadComponent(Q),Q}tick(){if(this._runningTick)throw new et(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;Vy(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get($E,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Vy(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new et(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Js(Il),Js(xa),Js(Ua))},n.\u0275prov=en({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Vy(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}let ow=!0,aw=!1;function gI(){return aw=!0,ow}function mI(){if(aw)throw new Error("Cannot enable prod mode after platform setup.");ow=!1}let yI=(()=>{class n{}return n.__NG_ELEMENT_ID__=vI,n})();function vI(n){return function _I(n,r,o){if(jo(n)&&!o){const a=Lr(n.index,r);return new bc(a,a)}return 47&n.type?new bc(r[16],r):null}(Hi(),nn(),16==(16&n))}class dw{constructor(){}supports(r){return gd(r)}create(r){return new DI(r)}}const CI=(n,r)=>r;class DI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||CI}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,c=0,f=null;for(;o||a;){const E=!a||o&&o.currentIndex<fw(a,c,f)?o:a,A=fw(E,c,f),F=E.currentIndex;if(E===a)c--,a=a._nextRemoved;else if(o=o._next,null==E.previousIndex)c++;else{f||(f=[]);const Q=A-c,ce=F-c;if(Q!=ce){for(let nt=0;nt<Q;nt++){const xt=nt<f.length?f[nt]:f[nt]=0,rn=xt+nt;ce<=rn&&rn<Q&&(f[nt]=xt+1)}f[E.previousIndex]=ce-Q}}A!==F&&r(E,A,F)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!gd(r))throw new et(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,f,E,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let A=0;A<this.length;A++)f=r[A],E=this._trackByFn(A,f),null!==o&&Object.is(o.trackById,E)?(a&&(o=this._verifyReinsertion(o,f,E,A)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,E,A),a=!0),o=o._next}else c=0,function qv(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[Cc()]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,A=>{E=this._trackByFn(c,A),null!==o&&Object.is(o.trackById,E)?(a&&(o=this._verifyReinsertion(o,A,E,c)),Object.is(o.item,A)||this._addIdentityChange(o,A)):(o=this._mismatch(o,A,E,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,c){let f;return null===r?f=this._itTail:(f=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,f,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,f,c)):r=this._addAfter(new TI(o,a),f,c),r}_verifyReinsertion(r,o,a,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?r=this._reinsertAfter(f,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,f=r._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const c=null===o?this._itHead:o._next;return r._next=c,r._prev=o,null===c?this._itTail=r:c._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new hw),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class TI{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class hw{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new SI,this.map.set(o,a)),a.add(r)}get(r,o){const c=this.map.get(r);return c?c.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fw(n,r,o){const a=n.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+r+c}class pw{constructor(){}supports(r){return r instanceof Map||xp(r)}create(){return new AI}}class AI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||xp(r)))throw new et(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,o);const f=c._prev,E=c._next;return f&&(f._next=E),E&&(E._prev=f),c._next=null,c._prev=null,c}const a=new MI(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class MI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gw(){return new n0([new dw])}let n0=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(null!=a){const c=a.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||gw()),deps:[[n,new cr,new Xn]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(null!=a)return a;throw new et(901,!1)}}return n.\u0275prov=en({token:n,providedIn:"root",factory:gw}),n})();function mw(){return new r0([new pw])}let r0=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(a){const c=a.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||mw()),deps:[[n,new cr,new Xn]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(a)return a;throw new et(901,!1)}}return n.\u0275prov=en({token:n,providedIn:"root",factory:mw}),n})();const kI=JE(null,"core",[]);let RI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Js(Ly))},n.\u0275mod=zt({type:n}),n.\u0275inj=Ht({}),n})();function NI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(_n,at,H)=>{"use strict";H.d(at,{Wl:()=>St,Fj:()=>Oe,u5:()=>ko,JJ:()=>cn,On:()=>Kt,wV:()=>Tr});var h=H(4650),O=H(6895),ee=H(8996),Ve=H(9751),ze=H(4742),We=H(8421),Ze=H(7669),Ge=H(5403),Qe=H(3268),de=H(1810),Pe=H(4004);let ft=(()=>{class Y{constructor(L,ue){this._renderer=L,this._elementRef=ue,this.onChange=_t=>{},this.onTouched=()=>{}}setProperty(L,ue){this._renderer.setProperty(this._elementRef.nativeElement,L,ue)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}}return Y.\u0275fac=function(L){return new(L||Y)(h.Y36(h.Qsj),h.Y36(h.SBq))},Y.\u0275dir=h.lG2({type:Y}),Y})(),rt=(()=>{class Y extends ft{}return Y.\u0275fac=function(){let B;return function(ue){return(B||(B=h.n5z(Y)))(ue||Y)}}(),Y.\u0275dir=h.lG2({type:Y,features:[h.qOj]}),Y})();const et=new h.OlP("NgValueAccessor"),Qt={provide:et,useExisting:(0,h.Gpc)(()=>St),multi:!0};let St=(()=>{class Y extends rt{writeValue(L){this.setProperty("checked",L)}}return Y.\u0275fac=function(){let B;return function(ue){return(B||(B=h.n5z(Y)))(ue||Y)}}(),Y.\u0275dir=h.lG2({type:Y,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(L,ue){1&L&&h.NdJ("change",function(On){return ue.onChange(On.target.checked)})("blur",function(){return ue.onTouched()})},features:[h._Bn([Qt]),h.qOj]}),Y})();const dt={provide:et,useExisting:(0,h.Gpc)(()=>Oe),multi:!0},on=new h.OlP("CompositionEventMode");let Oe=(()=>{class Y extends ft{constructor(L,ue,_t){super(L,ue),this._compositionMode=_t,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pn(){const Y=(0,O.q)()?(0,O.q)().getUserAgent():"";return/android (\d+)/.test(Y.toLowerCase())}())}writeValue(L){this.setProperty("value",L??"")}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}}return Y.\u0275fac=function(L){return new(L||Y)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(on,8))},Y.\u0275dir=h.lG2({type:Y,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(L,ue){1&L&&h.NdJ("input",function(On){return ue._handleInput(On.target.value)})("blur",function(){return ue.onTouched()})("compositionstart",function(){return ue._compositionStart()})("compositionend",function(On){return ue._compositionEnd(On.target.value)})},features:[h._Bn([dt]),h.qOj]}),Y})();const qe=new h.OlP("NgValidators"),lt=new h.OlP("NgAsyncValidators");function Nn(Y){return null!=Y}function yn(Y){return(0,h.QGY)(Y)?(0,ee.D)(Y):Y}function Ar(Y){let B={};return Y.forEach(L=>{B=null!=L?{...B,...L}:B}),0===Object.keys(B).length?null:B}function en(Y,B){return B.map(L=>L(Y))}function Ht(Y){return Y.map(B=>function qt(Y){return!Y.validate}(B)?B:L=>B.validate(L))}function mn(Y){return null!=Y?function Lt(Y){if(!Y)return null;const B=Y.filter(Nn);return 0==B.length?null:function(L){return Ar(en(L,B))}}(Ht(Y)):null}function Un(Y){return null!=Y?function Bn(Y){if(!Y)return null;const B=Y.filter(Nn);return 0==B.length?null:function(L){return function _e(...Y){const B=(0,Ze.jO)(Y),{args:L,keys:ue}=(0,ze.D)(Y),_t=new Ve.y(On=>{const{length:ur}=L;if(!ur)return void On.complete();const ls=new Array(ur);let u=ur,p=ur;for(let _=0;_<ur;_++){let x=!1;(0,We.Xf)(L[_]).subscribe((0,Ge.x)(On,$=>{x||(x=!0,p--),ls[_]=$},()=>u--,void 0,()=>{(!u||!x)&&(p||On.next(ue?(0,de.n)(ue,ls):ls),On.complete())}))}});return B?_t.pipe((0,Qe.Z)(B)):_t}(en(L,B).map(yn)).pipe((0,Pe.U)(Ar))}}(Ht(Y)):null}function ei(Y,B){return null===Y?[B]:Array.isArray(Y)?[...Y,B]:[Y,B]}function dr(Y){return Y?Array.isArray(Y)?Y:[Y]:[]}function ti(Y,B){return Array.isArray(Y)?Y.includes(B):Y===B}function xr(Y,B){const L=dr(B);return dr(Y).forEach(_t=>{ti(L,_t)||L.push(_t)}),L}function bn(Y,B){return dr(B).filter(L=>!ti(Y,L))}class gi{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(B){this._rawValidators=B||[],this._composedValidatorFn=mn(this._rawValidators)}_setAsyncValidators(B){this._rawAsyncValidators=B||[],this._composedAsyncValidatorFn=Un(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(B){this._onDestroyCallbacks.push(B)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(B=>B()),this._onDestroyCallbacks=[]}reset(B){this.control&&this.control.reset(B)}hasError(B,L){return!!this.control&&this.control.hasError(B,L)}getError(B,L){return this.control?this.control.getError(B,L):null}}class yr extends gi{get formDirective(){return null}get path(){return null}}class Dr extends gi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let cn=(()=>{class Y extends class mi{constructor(B){this._cd=B}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(L){super(L)}}return Y.\u0275fac=function(L){return new(L||Y)(h.Y36(Dr,2))},Y.\u0275dir=h.lG2({type:Y,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(L,ue){2&L&&h.ekj("ng-untouched",ue.isUntouched)("ng-touched",ue.isTouched)("ng-pristine",ue.isPristine)("ng-dirty",ue.isDirty)("ng-valid",ue.isValid)("ng-invalid",ue.isInvalid)("ng-pending",ue.isPending)},features:[h.qOj]}),Y})();const zt="VALID",Le="INVALID",Re="PENDING",Ye="DISABLED";function ie(Y){return Array.isArray(Y)?mn(Y):Y||null}function ot(Y){return Array.isArray(Y)?Un(Y):Y||null}function $t(Y){return null!=Y&&!Array.isArray(Y)&&"object"==typeof Y}function $n(Y,B){(function Wi(Y,B){const L=function ci(Y){return Y._rawValidators}(Y);null!==B.validator?Y.setValidators(ei(L,B.validator)):"function"==typeof L&&Y.setValidators([L]);const ue=function Jn(Y){return Y._rawAsyncValidators}(Y);null!==B.asyncValidator?Y.setAsyncValidators(ei(ue,B.asyncValidator)):"function"==typeof ue&&Y.setAsyncValidators([ue]);const _t=()=>Y.updateValueAndValidity();Ji(B._rawValidators,_t),Ji(B._rawAsyncValidators,_t)})(Y,B),B.valueAccessor.writeValue(Y.value),Y.disabled&&B.valueAccessor.setDisabledState?.(!0),function lo(Y,B){B.valueAccessor.registerOnChange(L=>{Y._pendingValue=L,Y._pendingChange=!0,Y._pendingDirty=!0,"change"===Y.updateOn&&Qr(Y,B)})}(Y,B),function ws(Y,B){const L=(ue,_t)=>{B.valueAccessor.writeValue(ue),_t&&B.viewToModelUpdate(ue)};Y.registerOnChange(L),B._registerOnDestroy(()=>{Y._unregisterOnChange(L)})}(Y,B),function Oi(Y,B){B.valueAccessor.registerOnTouched(()=>{Y._pendingTouched=!0,"blur"===Y.updateOn&&Y._pendingChange&&Qr(Y,B),"submit"!==Y.updateOn&&Y.markAsTouched()})}(Y,B),function qn(Y,B){if(B.valueAccessor.setDisabledState){const L=ue=>{B.valueAccessor.setDisabledState(ue)};Y.registerOnDisabledChange(L),B._registerOnDestroy(()=>{Y._unregisterOnDisabledChange(L)})}}(Y,B)}function Ji(Y,B){Y.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(B)})}function Qr(Y,B){Y._pendingDirty&&Y.markAsDirty(),Y.setValue(Y._pendingValue,{emitModelToViewChange:!1}),B.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1}function is(Y,B){const L=Y.indexOf(B);L>-1&&Y.splice(L,1)}function $r(Y){return"object"==typeof Y&&null!==Y&&2===Object.keys(Y).length&&"value"in Y&&"disabled"in Y}const Je={provide:Dr,useExisting:(0,h.Gpc)(()=>Kt)},mt=(()=>Promise.resolve())();let Kt=(()=>{class Y extends Dr{constructor(L,ue,_t,On,ur){super(),this._changeDetectorRef=ur,this.control=new class extends class xe{constructor(B,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=B,this._rawAsyncValidators=L,this._composedValidatorFn=ie(this._rawValidators),this._composedAsyncValidatorFn=ot(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(B){this._rawValidators=this._composedValidatorFn=B}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(B){this._rawAsyncValidators=this._composedAsyncValidatorFn=B}get parent(){return this._parent}get valid(){return this.status===zt}get invalid(){return this.status===Le}get pending(){return this.status==Re}get disabled(){return this.status===Ye}get enabled(){return this.status!==Ye}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(B){this._rawValidators=B,this._composedValidatorFn=ie(B)}setAsyncValidators(B){this._rawAsyncValidators=B,this._composedAsyncValidatorFn=ot(B)}addValidators(B){this.setValidators(xr(B,this._rawValidators))}addAsyncValidators(B){this.setAsyncValidators(xr(B,this._rawAsyncValidators))}removeValidators(B){this.setValidators(bn(B,this._rawValidators))}removeAsyncValidators(B){this.setAsyncValidators(bn(B,this._rawAsyncValidators))}hasValidator(B){return ti(this._rawValidators,B)}hasAsyncValidator(B){return ti(this._rawAsyncValidators,B)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(B={}){this.touched=!0,this._parent&&!B.onlySelf&&this._parent.markAsTouched(B)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(B=>B.markAllAsTouched())}markAsUntouched(B={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}markAsDirty(B={}){this.pristine=!1,this._parent&&!B.onlySelf&&this._parent.markAsDirty(B)}markAsPristine(B={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}markAsPending(B={}){this.status=Re,!1!==B.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!B.onlySelf&&this._parent.markAsPending(B)}disable(B={}){const L=this._parentMarkedDirty(B.onlySelf);this.status=Ye,this.errors=null,this._forEachChild(ue=>{ue.disable({...B,onlySelf:!0})}),this._updateValue(),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...B,skipPristineCheck:L}),this._onDisabledChange.forEach(ue=>ue(!0))}enable(B={}){const L=this._parentMarkedDirty(B.onlySelf);this.status=zt,this._forEachChild(ue=>{ue.enable({...B,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent}),this._updateAncestors({...B,skipPristineCheck:L}),this._onDisabledChange.forEach(ue=>ue(!1))}_updateAncestors(B){this._parent&&!B.onlySelf&&(this._parent.updateValueAndValidity(B),B.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(B){this._parent=B}getRawValue(){return this.value}updateValueAndValidity(B={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zt||this.status===Re)&&this._runAsyncValidator(B.emitEvent)),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!B.onlySelf&&this._parent.updateValueAndValidity(B)}_updateTreeValidity(B={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(B)),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ye:zt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(B){if(this.asyncValidator){this.status=Re,this._hasOwnPendingAsyncValidator=!0;const L=yn(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(ue=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ue,{emitEvent:B})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(B,L={}){this.errors=B,this._updateControlsErrors(!1!==L.emitEvent)}get(B){let L=B;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((ue,_t)=>ue&&ue._find(_t),this)}getError(B,L){const ue=L?this.get(L):this;return ue&&ue.errors?ue.errors[B]:null}hasError(B,L){return!!this.getError(B,L)}get root(){let B=this;for(;B._parent;)B=B._parent;return B}_updateControlsErrors(B){this.status=this._calculateStatus(),B&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(B)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Ye:this.errors?Le:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Re)?Re:this._anyControlsHaveStatus(Le)?Le:zt}_anyControlsHaveStatus(B){return this._anyControls(L=>L.status===B)}_anyControlsDirty(){return this._anyControls(B=>B.dirty)}_anyControlsTouched(){return this._anyControls(B=>B.touched)}_updatePristine(B={}){this.pristine=!this._anyControlsDirty(),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}_updateTouched(B={}){this.touched=this._anyControlsTouched(),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}_registerOnCollectionChange(B){this._onCollectionChange=B}_setUpdateStrategy(B){$t(B)&&null!=B.updateOn&&(this._updateOn=B.updateOn)}_parentMarkedDirty(B){return!B&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(B){return null}}{constructor(B=null,L,ue){super(function Te(Y){return($t(Y)?Y.validators:Y)||null}(L),function Ie(Y,B){return($t(B)?B.asyncValidators:Y)||null}(ue,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(B),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$t(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=$r(B)?B.value:B)}setValue(B,L={}){this.value=this._pendingValue=B,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(ue=>ue(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(B,L={}){this.setValue(B,L)}reset(B=this.defaultValue,L={}){this._applyFormState(B),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(B){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(B){this._onChange.push(B)}_unregisterOnChange(B){is(this._onChange,B)}registerOnDisabledChange(B){this._onDisabledChange.push(B)}_unregisterOnDisabledChange(B){is(this._onDisabledChange,B)}_forEachChild(B){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(B){$r(B)?(this.value=this._pendingValue=B.value,B.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=B}},this._registered=!1,this.update=new h.vpe,this._parent=L,this._setValidators(ue),this._setAsyncValidators(_t),this.valueAccessor=function Li(Y,B){if(!B)return null;let L,ue,_t;return Array.isArray(B),B.forEach(On=>{On.constructor===Oe?L=On:function ki(Y){return Object.getPrototypeOf(Y.constructor)===rt}(On)?ue=On:_t=On}),_t||ue||L||null}(0,On)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const ue=L.name.previousValue;this.formDirective.removeControl({name:ue,path:this._getPath(ue)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),function rs(Y,B){if(!Y.hasOwnProperty("model"))return!1;const L=Y.model;return!!L.isFirstChange()||!Object.is(B,L.currentValue)}(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$n(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){mt.then(()=>{this.control.setValue(L,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(L){const ue=L.isDisabled.currentValue,_t=0!==ue&&(0,h.D6c)(ue);mt.then(()=>{_t&&!this.control.disabled?this.control.disable():!_t&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(L){return this._parent?function Hn(Y,B){return[...B.path,Y]}(L,this._parent):[L]}}return Y.\u0275fac=function(L){return new(L||Y)(h.Y36(yr,9),h.Y36(qe,10),h.Y36(lt,10),h.Y36(et,10),h.Y36(h.sBO,8))},Y.\u0275dir=h.lG2({type:Y,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([Je]),h.qOj,h.TTD]}),Y})();const tr={provide:et,useExisting:(0,h.Gpc)(()=>Tr),multi:!0};let Tr=(()=>{class Y extends rt{writeValue(L){this.setProperty("value",L??"")}registerOnChange(L){this.onChange=ue=>{L(""==ue?null:parseFloat(ue))}}}return Y.\u0275fac=function(){let B;return function(ue){return(B||(B=h.n5z(Y)))(ue||Y)}}(),Y.\u0275dir=h.lG2({type:Y,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(L,ue){1&L&&h.NdJ("input",function(On){return ue.onChange(On.target.value)})("blur",function(){return ue.onTouched()})},features:[h._Bn([tr]),h.qOj]}),Y})(),to=(()=>{class Y{}return Y.\u0275fac=function(L){return new(L||Y)},Y.\u0275mod=h.oAB({type:Y}),Y.\u0275inj=h.cJS({}),Y})(),Pr=(()=>{class Y{}return Y.\u0275fac=function(L){return new(L||Y)},Y.\u0275mod=h.oAB({type:Y}),Y.\u0275inj=h.cJS({imports:[to]}),Y})(),ko=(()=>{class Y{}return Y.\u0275fac=function(L){return new(L||Y)},Y.\u0275mod=h.oAB({type:Y}),Y.\u0275inj=h.cJS({imports:[Pr]}),Y})()},1481:(_n,at,H)=>{"use strict";H.d(at,{Dx:()=>cn,b2:()=>yr,q6:()=>ti,se:()=>yt});var h=H(6895),O=H(4650);class ee extends h.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ve extends ee{static makeCurrent(){(0,h.HT)(new Ve)}onAndCancel(we,Ce,st){return we.addEventListener(Ce,st,!1),()=>{we.removeEventListener(Ce,st,!1)}}dispatchEvent(we,Ce){we.dispatchEvent(Ce)}remove(we){we.parentNode&&we.parentNode.removeChild(we)}createElement(we,Ce){return(Ce=Ce||this.getDefaultDocument()).createElement(we)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(we){return we.nodeType===Node.ELEMENT_NODE}isShadowRoot(we){return we instanceof DocumentFragment}getGlobalEventTarget(we,Ce){return"window"===Ce?window:"document"===Ce?we:"body"===Ce?we.body:null}getBaseHref(we){const Ce=function We(){return ze=ze||document.querySelector("base"),ze?ze.getAttribute("href"):null}();return null==Ce?null:function Ge(xe){Ze=Ze||document.createElement("a"),Ze.setAttribute("href",xe);const we=Ze.pathname;return"/"===we.charAt(0)?we:`/${we}`}(Ce)}resetBaseElement(){ze=null}getUserAgent(){return window.navigator.userAgent}getCookie(we){return(0,h.Mx)(document.cookie,we)}}let Ze,ze=null;const Qe=new O.OlP("TRANSITION_ID"),_e=[{provide:O.ip1,useFactory:function de(xe,we,Ce){return()=>{Ce.get(O.CZH).donePromise.then(()=>{const st=(0,h.q)(),bt=we.querySelectorAll(`style[ng-transition="${xe}"]`);for(let In=0;In<bt.length;In++)st.remove(bt[In])})}},deps:[Qe,h.K0,O.zs3],multi:!0}];let ft=(()=>{class xe{build(){return new XMLHttpRequest}}return xe.\u0275fac=function(Ce){return new(Ce||xe)},xe.\u0275prov=O.Yz7({token:xe,factory:xe.\u0275fac}),xe})();const rt=new O.OlP("EventManagerPlugins");let et=(()=>{class xe{constructor(Ce,st){this._zone=st,this._eventNameToPlugin=new Map,Ce.forEach(bt=>bt.manager=this),this._plugins=Ce.slice().reverse()}addEventListener(Ce,st,bt){return this._findPluginFor(st).addEventListener(Ce,st,bt)}addGlobalEventListener(Ce,st,bt){return this._findPluginFor(st).addGlobalEventListener(Ce,st,bt)}getZone(){return this._zone}_findPluginFor(Ce){const st=this._eventNameToPlugin.get(Ce);if(st)return st;const bt=this._plugins;for(let In=0;In<bt.length;In++){const Hn=bt[In];if(Hn.supports(Ce))return this._eventNameToPlugin.set(Ce,Hn),Hn}throw new Error(`No event manager plugin found for event ${Ce}`)}}return xe.\u0275fac=function(Ce){return new(Ce||xe)(O.LFG(rt),O.LFG(O.R0b))},xe.\u0275prov=O.Yz7({token:xe,factory:xe.\u0275fac}),xe})();class Qt{constructor(we){this._doc=we}addGlobalEventListener(we,Ce,st){const bt=(0,h.q)().getGlobalEventTarget(this._doc,we);if(!bt)throw new Error(`Unsupported event target ${bt} for event ${Ce}`);return this.addEventListener(bt,Ce,st)}}let St=(()=>{class xe{constructor(){this._stylesSet=new Set}addStyles(Ce){const st=new Set;Ce.forEach(bt=>{this._stylesSet.has(bt)||(this._stylesSet.add(bt),st.add(bt))}),this.onStylesAdded(st)}onStylesAdded(Ce){}getAllStyles(){return Array.from(this._stylesSet)}}return xe.\u0275fac=function(Ce){return new(Ce||xe)},xe.\u0275prov=O.Yz7({token:xe,factory:xe.\u0275fac}),xe})(),dt=(()=>{class xe extends St{constructor(Ce){super(),this._doc=Ce,this._hostNodes=new Map,this._hostNodes.set(Ce.head,[])}_addStylesToHost(Ce,st,bt){Ce.forEach(In=>{const Hn=this._doc.createElement("style");Hn.textContent=In,bt.push(st.appendChild(Hn))})}addHost(Ce){const st=[];this._addStylesToHost(this._stylesSet,Ce,st),this._hostNodes.set(Ce,st)}removeHost(Ce){const st=this._hostNodes.get(Ce);st&&st.forEach(pn),this._hostNodes.delete(Ce)}onStylesAdded(Ce){this._hostNodes.forEach((st,bt)=>{this._addStylesToHost(Ce,bt,st)})}ngOnDestroy(){this._hostNodes.forEach(Ce=>Ce.forEach(pn))}}return xe.\u0275fac=function(Ce){return new(Ce||xe)(O.LFG(h.K0))},xe.\u0275prov=O.Yz7({token:xe,factory:xe.\u0275fac}),xe})();function pn(xe){(0,h.q)().remove(xe)}const on={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Oe=/%COMP%/g;function pt(xe,we,Ce){for(let st=0;st<we.length;st++){let bt=we[st];Array.isArray(bt)?pt(xe,bt,Ce):(bt=bt.replace(Oe,xe),Ce.push(bt))}return Ce}function Rt(xe){return we=>{if("__ngUnwrap__"===we)return xe;!1===xe(we)&&(we.preventDefault(),we.returnValue=!1)}}let yt=(()=>{class xe{constructor(Ce,st,bt){this.eventManager=Ce,this.sharedStylesHost=st,this.appId=bt,this.rendererByCompId=new Map,this.defaultRenderer=new Me(Ce)}createRenderer(Ce,st){if(!Ce||!st)return this.defaultRenderer;switch(st.encapsulation){case O.ifc.Emulated:{let bt=this.rendererByCompId.get(st.id);return bt||(bt=new Bt(this.eventManager,this.sharedStylesHost,st,this.appId),this.rendererByCompId.set(st.id,bt)),bt.applyToHost(Ce),bt}case 1:case O.ifc.ShadowDom:return new It(this.eventManager,this.sharedStylesHost,Ce,st);default:if(!this.rendererByCompId.has(st.id)){const bt=pt(st.id,st.styles,[]);this.sharedStylesHost.addStyles(bt),this.rendererByCompId.set(st.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return xe.\u0275fac=function(Ce){return new(Ce||xe)(O.LFG(et),O.LFG(dt),O.LFG(O.AFp))},xe.\u0275prov=O.Yz7({token:xe,factory:xe.\u0275fac}),xe})();class Me{constructor(we){this.eventManager=we,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(we,Ce){return Ce?document.createElementNS(on[Ce]||Ce,we):document.createElement(we)}createComment(we){return document.createComment(we)}createText(we){return document.createTextNode(we)}appendChild(we,Ce){(jt(we)?we.content:we).appendChild(Ce)}insertBefore(we,Ce,st){we&&(jt(we)?we.content:we).insertBefore(Ce,st)}removeChild(we,Ce){we&&we.removeChild(Ce)}selectRootElement(we,Ce){let st="string"==typeof we?document.querySelector(we):we;if(!st)throw new Error(`The selector "${we}" did not match any elements`);return Ce||(st.textContent=""),st}parentNode(we){return we.parentNode}nextSibling(we){return we.nextSibling}setAttribute(we,Ce,st,bt){if(bt){Ce=bt+":"+Ce;const In=on[bt];In?we.setAttributeNS(In,Ce,st):we.setAttribute(Ce,st)}else we.setAttribute(Ce,st)}removeAttribute(we,Ce,st){if(st){const bt=on[st];bt?we.removeAttributeNS(bt,Ce):we.removeAttribute(`${st}:${Ce}`)}else we.removeAttribute(Ce)}addClass(we,Ce){we.classList.add(Ce)}removeClass(we,Ce){we.classList.remove(Ce)}setStyle(we,Ce,st,bt){bt&(O.JOm.DashCase|O.JOm.Important)?we.style.setProperty(Ce,st,bt&O.JOm.Important?"important":""):we.style[Ce]=st}removeStyle(we,Ce,st){st&O.JOm.DashCase?we.style.removeProperty(Ce):we.style[Ce]=""}setProperty(we,Ce,st){we[Ce]=st}setValue(we,Ce){we.nodeValue=Ce}listen(we,Ce,st){return"string"==typeof we?this.eventManager.addGlobalEventListener(we,Ce,Rt(st)):this.eventManager.addEventListener(we,Ce,Rt(st))}}function jt(xe){return"TEMPLATE"===xe.tagName&&void 0!==xe.content}class Bt extends Me{constructor(we,Ce,st,bt){super(we),this.component=st;const In=pt(bt+"-"+st.id,st.styles,[]);Ce.addStyles(In),this.contentAttr=function lt(xe){return"_ngcontent-%COMP%".replace(Oe,xe)}(bt+"-"+st.id),this.hostAttr=function Dt(xe){return"_nghost-%COMP%".replace(Oe,xe)}(bt+"-"+st.id)}applyToHost(we){super.setAttribute(we,this.hostAttr,"")}createElement(we,Ce){const st=super.createElement(we,Ce);return super.setAttribute(st,this.contentAttr,""),st}}class It extends Me{constructor(we,Ce,st,bt){super(we),this.sharedStylesHost=Ce,this.hostEl=st,this.shadowRoot=st.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const In=pt(bt.id,bt.styles,[]);for(let Hn=0;Hn<In.length;Hn++){const $n=document.createElement("style");$n.textContent=In[Hn],this.shadowRoot.appendChild($n)}}nodeOrShadowRoot(we){return we===this.hostEl?this.shadowRoot:we}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(we,Ce){return super.appendChild(this.nodeOrShadowRoot(we),Ce)}insertBefore(we,Ce,st){return super.insertBefore(this.nodeOrShadowRoot(we),Ce,st)}removeChild(we,Ce){return super.removeChild(this.nodeOrShadowRoot(we),Ce)}parentNode(we){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(we)))}}let Nn=(()=>{class xe extends Qt{constructor(Ce){super(Ce)}supports(Ce){return!0}addEventListener(Ce,st,bt){return Ce.addEventListener(st,bt,!1),()=>this.removeEventListener(Ce,st,bt)}removeEventListener(Ce,st,bt){return Ce.removeEventListener(st,bt)}}return xe.\u0275fac=function(Ce){return new(Ce||xe)(O.LFG(h.K0))},xe.\u0275prov=O.Yz7({token:xe,factory:xe.\u0275fac}),xe})();const yn=["alt","control","meta","shift"],Ar={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},en={alt:xe=>xe.altKey,control:xe=>xe.ctrlKey,meta:xe=>xe.metaKey,shift:xe=>xe.shiftKey};let qt=(()=>{class xe extends Qt{constructor(Ce){super(Ce)}supports(Ce){return null!=xe.parseEventName(Ce)}addEventListener(Ce,st,bt){const In=xe.parseEventName(st),Hn=xe.eventCallback(In.fullKey,bt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.q)().onAndCancel(Ce,In.domEventName,Hn))}static parseEventName(Ce){const st=Ce.toLowerCase().split("."),bt=st.shift();if(0===st.length||"keydown"!==bt&&"keyup"!==bt)return null;const In=xe._normalizeKey(st.pop());let Hn="",$n=st.indexOf("code");if($n>-1&&(st.splice($n,1),Hn="code."),yn.forEach(Ji=>{const qn=st.indexOf(Ji);qn>-1&&(st.splice(qn,1),Hn+=Ji+".")}),Hn+=In,0!=st.length||0===In.length)return null;const oi={};return oi.domEventName=bt,oi.fullKey=Hn,oi}static matchEventFullKeyCode(Ce,st){let bt=Ar[Ce.key]||Ce.key,In="";return st.indexOf("code.")>-1&&(bt=Ce.code,In="code."),!(null==bt||!bt)&&(bt=bt.toLowerCase()," "===bt?bt="space":"."===bt&&(bt="dot"),yn.forEach(Hn=>{Hn!==bt&&(0,en[Hn])(Ce)&&(In+=Hn+".")}),In+=bt,In===st)}static eventCallback(Ce,st,bt){return In=>{xe.matchEventFullKeyCode(In,Ce)&&bt.runGuarded(()=>st(In))}}static _normalizeKey(Ce){return"esc"===Ce?"escape":Ce}}return xe.\u0275fac=function(Ce){return new(Ce||xe)(O.LFG(h.K0))},xe.\u0275prov=O.Yz7({token:xe,factory:xe.\u0275fac}),xe})();const ti=(0,O.eFA)(O._c5,"browser",[{provide:O.Lbi,useValue:h.bD},{provide:O.g9A,useValue:function ei(){Ve.makeCurrent()},multi:!0},{provide:h.K0,useFactory:function Jn(){return(0,O.RDi)(document),document},deps:[]}]),xr=new O.OlP(""),bn=[{provide:O.rWj,useClass:class Pe{addToWindow(we){O.dqk.getAngularTestability=(st,bt=!0)=>{const In=we.findTestabilityInTree(st,bt);if(null==In)throw new Error("Could not find testability for element.");return In},O.dqk.getAllAngularTestabilities=()=>we.getAllTestabilities(),O.dqk.getAllAngularRootElements=()=>we.getAllRootElements(),O.dqk.frameworkStabilizers||(O.dqk.frameworkStabilizers=[]),O.dqk.frameworkStabilizers.push(st=>{const bt=O.dqk.getAllAngularTestabilities();let In=bt.length,Hn=!1;const $n=function(oi){Hn=Hn||oi,In--,0==In&&st(Hn)};bt.forEach(function(oi){oi.whenStable($n)})})}findTestabilityInTree(we,Ce,st){return null==Ce?null:we.getTestability(Ce)??(st?(0,h.q)().isShadowRoot(Ce)?this.findTestabilityInTree(we,Ce.host,!0):this.findTestabilityInTree(we,Ce.parentElement,!0):null)}},deps:[]},{provide:O.lri,useClass:O.dDg,deps:[O.R0b,O.eoX,O.rWj]},{provide:O.dDg,useClass:O.dDg,deps:[O.R0b,O.eoX,O.rWj]}],gi=[{provide:O.zSh,useValue:"root"},{provide:O.qLn,useFactory:function ci(){return new O.qLn},deps:[]},{provide:rt,useClass:Nn,multi:!0,deps:[h.K0,O.R0b,O.Lbi]},{provide:rt,useClass:qt,multi:!0,deps:[h.K0]},{provide:yt,useClass:yt,deps:[et,dt,O.AFp]},{provide:O.FYo,useExisting:yt},{provide:St,useExisting:dt},{provide:dt,useClass:dt,deps:[h.K0]},{provide:et,useClass:et,deps:[rt,O.R0b]},{provide:h.JF,useClass:ft,deps:[]},[]];let yr=(()=>{class xe{constructor(Ce){}static withServerTransition(Ce){return{ngModule:xe,providers:[{provide:O.AFp,useValue:Ce.appId},{provide:Qe,useExisting:O.AFp},_e]}}}return xe.\u0275fac=function(Ce){return new(Ce||xe)(O.LFG(xr,12))},xe.\u0275mod=O.oAB({type:xe}),xe.\u0275inj=O.cJS({providers:[...gi,...bn],imports:[h.ez,O.hGG]}),xe})(),cn=(()=>{class xe{constructor(Ce){this._doc=Ce}getTitle(){return this._doc.title}setTitle(Ce){this._doc.title=Ce||""}}return xe.\u0275fac=function(Ce){return new(Ce||xe)(O.LFG(h.K0))},xe.\u0275prov=O.Yz7({token:xe,factory:function(Ce){let st=null;return st=Ce?new Ce:function yi(){return new cn((0,O.LFG)(h.K0))}(),st},providedIn:"root"}),xe})();typeof window<"u"&&window},5119:(_n,at,H)=>{"use strict";H.d(at,{gz:()=>Xi,F0:()=>te,yS:()=>Et,Bz:()=>Ys,lC:()=>Os});var h=H(4650),O=H(8996),ee=H(9646),Ve=H(1135),ze=H(6805),We=H(9751),Ze=H(4742),Ge=H(4671),Qe=H(3268),de=H(7669),_e=H(1810),Pe=H(5403),ft=H(9672);function rt(...C){const D=(0,de.yG)(C),b=(0,de.jO)(C),{args:N,keys:j}=(0,Ze.D)(C);if(0===N.length)return(0,O.D)([],D);const ae=new We.y(function et(C,D,b=Ge.y){return N=>{Qt(D,()=>{const{length:j}=C,ae=new Array(j);let ke=j,Ue=j;for(let Ft=0;Ft<j;Ft++)Qt(D,()=>{const Sn=(0,O.D)(C[Ft],D);let Rr=!1;Sn.subscribe((0,Pe.x)(N,Ln=>{ae[Ft]=Ln,Rr||(Rr=!0,Ue--),Ue||N.next(b(ae.slice()))},()=>{--ke||N.complete()}))},N)},N)}}(N,D,j?ke=>(0,_e.n)(j,ke):Ge.y));return b?ae.pipe((0,Qe.Z)(b)):ae}function Qt(C,D,b){C?(0,ft.f)(b,C,D):D()}var St=H(7272),dt=H(9770),pn=H(9635),on=H(576);function Oe(C,D){const b=(0,on.m)(C)?C:()=>C,N=j=>j.error(b());return new We.y(D?j=>D.schedule(N,0,j):N)}var Ot=H(515),Tt=H(727),Wt=H(4482);function qe(){return(0,Wt.e)((C,D)=>{let b=null;C._refCount++;const N=(0,Pe.x)(D,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(b=null);const j=C._connection,ae=b;b=null,j&&(!ae||j===ae)&&j.unsubscribe(),D.unsubscribe()});C.subscribe(N),N.closed||(b=C.connect())})}class lt extends We.y{constructor(D,b){super(),this.source=D,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,Wt.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new Tt.w0;const b=this.getSubject();D.add(this.source.subscribe((0,Pe.x)(b,void 0,()=>{this._teardown(),b.complete()},N=>{this._teardown(),b.error(N)},()=>this._teardown()))),D.closed&&(this._connection=null,D=Tt.w0.EMPTY)}return D}refCount(){return qe()(this)}}var Dt=H(7579),pt=H(6895),Rt=H(4004),ht=H(3900),yt=H(5698),Me=H(8675),tt=H(9300),ut=H(5577),jt=H(590);function Bt(C,D){return(0,on.m)(D)?(0,ut.z)(C,D,1):(0,ut.z)(C,1)}var It=H(8505),Nn=H(8421);function yn(C){return(0,Wt.e)((D,b)=>{let ae,N=null,j=!1;N=D.subscribe((0,Pe.x)(b,void 0,void 0,ke=>{ae=(0,Nn.Xf)(C(ke,yn(C)(D))),N?(N.unsubscribe(),N=null,ae.subscribe(b)):j=!0})),j&&(N.unsubscribe(),N=null,ae.subscribe(b))})}var Ar=H(5026);function en(C){return C<=0?()=>Ot.E:(0,Wt.e)((D,b)=>{let N=[];D.subscribe((0,Pe.x)(b,j=>{N.push(j),C<N.length&&N.shift()},()=>{for(const j of N)b.next(j);b.complete()},void 0,()=>{N=null}))})}var qt=H(8068),Ht=H(6590);function Lt(C,D){const b=arguments.length>=2;return N=>N.pipe(C?(0,tt.h)((j,ae)=>C(j,ae,N)):Ge.y,en(1),b?(0,Ht.d)(D):(0,qt.T)(()=>new ze.K))}function Un(C){return(0,Wt.e)((D,b)=>{try{D.subscribe(b)}finally{b.add(C)}})}var ei=H(8189),ci=H(1481);const Jn="primary",dr=Symbol("RouteTitle");class ti{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const b=this.params[D];return Array.isArray(b)?b[0]:b}return null}getAll(D){if(this.has(D)){const b=this.params[D];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function xr(C){return new ti(C)}function bn(C,D,b){const N=b.path.split("/");if(N.length>C.length||"full"===b.pathMatch&&(D.hasChildren()||N.length<C.length))return null;const j={};for(let ae=0;ae<N.length;ae++){const ke=N[ae],Ue=C[ae];if(ke.startsWith(":"))j[ke.substring(1)]=Ue;else if(ke!==Ue.path)return null}return{consumed:C.slice(0,N.length),posParams:j}}function yr(C,D){const b=C?Object.keys(C):void 0,N=D?Object.keys(D):void 0;if(!b||!N||b.length!=N.length)return!1;let j;for(let ae=0;ae<b.length;ae++)if(j=b[ae],!Dr(C[j],D[j]))return!1;return!0}function Dr(C,D){if(Array.isArray(C)&&Array.isArray(D)){if(C.length!==D.length)return!1;const b=[...C].sort(),N=[...D].sort();return b.every((j,ae)=>N[ae]===j)}return C===D}function mi(C){return Array.prototype.concat.apply([],C)}function zs(C){return C.length>0?C[C.length-1]:null}function cn(C,D){for(const b in C)C.hasOwnProperty(b)&&D(C[b],b)}function br(C){return(0,h.CqO)(C)?C:(0,h.QGY)(C)?(0,O.D)(Promise.resolve(C)):(0,ee.of)(C)}const ar={exact:function nr(C,D,b){if(!wn(C.segments,D.segments)||!Qn(C.segments,D.segments,b)||C.numberOfChildren!==D.numberOfChildren)return!1;for(const N in D.children)if(!C.children[N]||!nr(C.children[N],D.children[N],b))return!1;return!0},subset:lr},si={exact:function Wr(C,D){return yr(C,D)},subset:function Pi(C,D){return Object.keys(D).length<=Object.keys(C).length&&Object.keys(D).every(b=>Dr(C[b],D[b]))},ignored:()=>!0};function zr(C,D,b){return ar[b.paths](C.root,D.root,b.matrixParams)&&si[b.queryParams](C.queryParams,D.queryParams)&&!("exact"===b.fragment&&C.fragment!==D.fragment)}function lr(C,D,b){return Pn(C,D,D.segments,b)}function Pn(C,D,b,N){if(C.segments.length>b.length){const j=C.segments.slice(0,b.length);return!(!wn(j,b)||D.hasChildren()||!Qn(j,b,N))}if(C.segments.length===b.length){if(!wn(C.segments,b)||!Qn(C.segments,b,N))return!1;for(const j in D.children)if(!C.children[j]||!lr(C.children[j],D.children[j],N))return!1;return!0}{const j=b.slice(0,C.segments.length),ae=b.slice(C.segments.length);return!!(wn(C.segments,j)&&Qn(C.segments,j,N)&&C.children[Jn])&&Pn(C.children[Jn],D,ae,N)}}function Qn(C,D,b){return D.every((N,j)=>si[b](C[j].parameters,N.parameters))}class jr{constructor(D,b,N){this.root=D,this.queryParams=b,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xr(this.queryParams)),this._queryParamMap}toString(){return Le.serialize(this)}}class zn{constructor(D,b){this.segments=D,this.children=b,this.parent=null,cn(b,(N,j)=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Re(this)}}class vn{constructor(D,b){this.path=D,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=xr(this.parameters)),this._parameterMap}toString(){return un(this)}}function wn(C,D){return C.length===D.length&&C.every((b,N)=>b.path===D[N].path)}let Wn=(()=>{class C{}return C.\u0275fac=function(b){return new(b||C)},C.\u0275prov=h.Yz7({token:C,factory:function(){return new zt},providedIn:"root"}),C})();class zt{parse(D){const b=new oi(D);return new jr(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(D){const b=`/${Ye(D.root,!0)}`,N=function we(C){const D=Object.keys(C).map(b=>{const N=C[b];return Array.isArray(N)?N.map(j=>`${ie(b)}=${ie(j)}`).join("&"):`${ie(b)}=${ie(N)}`}).filter(b=>!!b);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${b}${N}${"string"==typeof D.fragment?`#${function Ie(C){return encodeURI(C)}(D.fragment)}`:""}`}}const Le=new zt;function Re(C){return C.segments.map(D=>un(D)).join("/")}function Ye(C,D){if(!C.hasChildren())return Re(C);if(D){const b=C.children[Jn]?Ye(C.children[Jn],!1):"",N=[];return cn(C.children,(j,ae)=>{ae!==Jn&&N.push(`${ae}:${Ye(j,!1)}`)}),N.length>0?`${b}(${N.join("//")})`:b}{const b=function sr(C,D){let b=[];return cn(C.children,(N,j)=>{j===Jn&&(b=b.concat(D(N,j)))}),cn(C.children,(N,j)=>{j!==Jn&&(b=b.concat(D(N,j)))}),b}(C,(N,j)=>j===Jn?[Ye(C.children[Jn],!1)]:[`${j}:${Ye(N,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[Jn]?`${Re(C)}/${b[0]}`:`${Re(C)}/(${b.join("//")})`}}function Te(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ie(C){return Te(C).replace(/%3B/gi,";")}function ot(C){return Te(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $t(C){return decodeURIComponent(C)}function Tn(C){return $t(C.replace(/\+/g,"%20"))}function un(C){return`${ot(C.path)}${function xe(C){return Object.keys(C).map(D=>`;${ot(D)}=${ot(C[D])}`).join("")}(C.parameters)}`}const Ce=/^[^\/()?;=#]+/;function st(C){const D=C.match(Ce);return D?D[0]:""}const bt=/^[^=?&#]+/,Hn=/^[^&#]+/;class oi{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zn([],{}):new zn([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(D.length>0||Object.keys(b).length>0)&&(N[Jn]=new zn(D,b)),N}parseSegment(){const D=st(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(D),new vn($t(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const b=st(this.remaining);if(!b)return;this.capture(b);let N="";if(this.consumeOptional("=")){const j=st(this.remaining);j&&(N=j,this.capture(N))}D[$t(b)]=$t(N)}parseQueryParam(D){const b=function In(C){const D=C.match(bt);return D?D[0]:""}(this.remaining);if(!b)return;this.capture(b);let N="";if(this.consumeOptional("=")){const ke=function $n(C){const D=C.match(Hn);return D?D[0]:""}(this.remaining);ke&&(N=ke,this.capture(N))}const j=Tn(b),ae=Tn(N);if(D.hasOwnProperty(j)){let ke=D[j];Array.isArray(ke)||(ke=[ke],D[j]=ke),ke.push(ae)}else D[j]=ae}parseParens(D){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=st(this.remaining),j=this.remaining[N.length];if("/"!==j&&")"!==j&&";"!==j)throw new h.vHH(4010,!1);let ae;N.indexOf(":")>-1?(ae=N.slice(0,N.indexOf(":")),this.capture(ae),this.capture(":")):D&&(ae=Jn);const ke=this.parseChildren();b[ae]=1===Object.keys(ke).length?ke[Jn]:new zn([],ke),this.consumeOptional("//")}return b}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new h.vHH(4011,!1)}}function Ji(C){return C.segments.length>0?new zn([],{[Jn]:C}):C}function qn(C){const D={};for(const N of Object.keys(C.children)){const ae=qn(C.children[N]);(ae.segments.length>0||ae.hasChildren())&&(D[N]=ae)}return function Wi(C){if(1===C.numberOfChildren&&C.children[Jn]){const D=C.children[Jn];return new zn(C.segments.concat(D.segments),D.children)}return C}(new zn(C.segments,D))}function Ni(C){return C instanceof jr}function ns(C,D,b,N,j){if(0===b.length)return vi(D.root,D.root,D.root,N,j);const ae=function rs(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new _o(!0,0,C);let D=0,b=!1;const N=C.reduce((j,ae,ke)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const Ue={};return cn(ae.outlets,(Ft,Sn)=>{Ue[Sn]="string"==typeof Ft?Ft.split("/"):Ft}),[...j,{outlets:Ue}]}if(ae.segmentPath)return[...j,ae.segmentPath]}return"string"!=typeof ae?[...j,ae]:0===ke?(ae.split("/").forEach((Ue,Ft)=>{0==Ft&&"."===Ue||(0==Ft&&""===Ue?b=!0:".."===Ue?D++:""!=Ue&&j.push(Ue))}),j):[...j,ae]},[]);return new _o(b,D,N)}(b);return ae.toRoot()?vi(D.root,D.root,new zn([],{}),N,j):function ke(Ft){const Sn=function Li(C,D,b,N){if(C.isAbsolute)return new ki(D.root,!0,0);if(-1===N)return new ki(b,b===D.root,0);return function Ei(C,D,b){let N=C,j=D,ae=b;for(;ae>j;){if(ae-=j,N=N.parent,!N)throw new h.vHH(4005,!1);j=N.segments.length}return new ki(N,!1,j-ae)}(b,N+(Fi(C.commands[0])?0:1),C.numberOfDoubleDots)}(ae,D,C.snapshot?._urlSegment,Ft),Rr=Sn.processChildren?cs(Sn.segmentGroup,Sn.index,ae.commands):Vr(Sn.segmentGroup,Sn.index,ae.commands);return vi(D.root,Sn.segmentGroup,Rr,N,j)}(C.snapshot?._lastPathIndex)}function Fi(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function qr(C){return"object"==typeof C&&null!=C&&C.outlets}function vi(C,D,b,N,j){let ke,ae={};N&&cn(N,(Ft,Sn)=>{ae[Sn]=Array.isArray(Ft)?Ft.map(Rr=>`${Rr}`):`${Ft}`}),ke=C===D?b:vr(C,D,b);const Ue=Ji(qn(ke));return new jr(Ue,ae,j)}function vr(C,D,b){const N={};return cn(C.children,(j,ae)=>{N[ae]=j===D?b:vr(j,D,b)}),new zn(C.segments,N)}class _o{constructor(D,b,N){if(this.isAbsolute=D,this.numberOfDoubleDots=b,this.commands=N,D&&N.length>0&&Fi(N[0]))throw new h.vHH(4003,!1);const j=N.find(qr);if(j&&j!==zs(N))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ki{constructor(D,b,N){this.segmentGroup=D,this.processChildren=b,this.index=N}}function Vr(C,D,b){if(C||(C=new zn([],{})),0===C.segments.length&&C.hasChildren())return cs(C,D,b);const N=function Ti(C,D,b){let N=0,j=D;const ae={match:!1,pathIndex:0,commandIndex:0};for(;j<C.segments.length;){if(N>=b.length)return ae;const ke=C.segments[j],Ue=b[N];if(qr(Ue))break;const Ft=`${Ue}`,Sn=N<b.length-1?b[N+1]:null;if(j>0&&void 0===Ft)break;if(Ft&&Sn&&"object"==typeof Sn&&void 0===Sn.outlets){if(!Mo(Ft,Sn,ke))return ae;N+=2}else{if(!Mo(Ft,{},ke))return ae;N++}j++}return{match:!0,pathIndex:j,commandIndex:N}}(C,D,b),j=b.slice(N.commandIndex);if(N.match&&N.pathIndex<C.segments.length){const ae=new zn(C.segments.slice(0,N.pathIndex),{});return ae.children[Jn]=new zn(C.segments.slice(N.pathIndex),C.children),cs(ae,0,j)}return N.match&&0===j.length?new zn(C.segments,{}):N.match&&!C.hasChildren()?is(C,D,b):N.match?cs(C,0,j):is(C,D,b)}function cs(C,D,b){if(0===b.length)return new zn(C.segments,{});{const N=function Ws(C){return qr(C[0])?C[0].outlets:{[Jn]:C}}(b),j={};return cn(N,(ae,ke)=>{"string"==typeof ae&&(ae=[ae]),null!==ae&&(j[ke]=Vr(C.children[ke],D,ae))}),cn(C.children,(ae,ke)=>{void 0===N[ke]&&(j[ke]=ae)}),new zn(C.segments,j)}}function is(C,D,b){const N=C.segments.slice(0,D);let j=0;for(;j<b.length;){const ae=b[j];if(qr(ae)){const Ft=$r(ae.outlets);return new zn(N,Ft)}if(0===j&&Fi(b[0])){N.push(new vn(C.segments[D].path,jo(b[0]))),j++;continue}const ke=qr(ae)?ae.outlets[Jn]:`${ae}`,Ue=j<b.length-1?b[j+1]:null;ke&&Ue&&Fi(Ue)?(N.push(new vn(ke,jo(Ue))),j+=2):(N.push(new vn(ke,{})),j++)}return new zn(N,{})}function $r(C){const D={};return cn(C,(b,N)=>{"string"==typeof b&&(b=[b]),null!==b&&(D[N]=is(new zn([],{}),0,b))}),D}function jo(C){const D={};return cn(C,(b,N)=>D[N]=`${b}`),D}function Mo(C,D,b){return C==b.path&&yr(D,b.parameters)}class Jr{constructor(D,b){this.id=D,this.url=b}}class Eo extends Jr{constructor(D,b,N="imperative",j=null){super(D,b),this.type=0,this.navigationTrigger=N,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ps extends Jr{constructor(D,b,N){super(D,b),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class uo extends Jr{constructor(D,b,N,j){super(D,b),this.reason=N,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ds extends Jr{constructor(D,b,N,j){super(D,b),this.error=N,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hs extends Jr{constructor(D,b,N,j){super(D,b),this.urlAfterRedirects=N,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ii extends Jr{constructor(D,b,N,j){super(D,b),this.urlAfterRedirects=N,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class it extends Jr{constructor(D,b,N,j,ae){super(D,b),this.urlAfterRedirects=N,this.state=j,this.shouldActivate=ae,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Je extends Jr{constructor(D,b,N,j){super(D,b),this.urlAfterRedirects=N,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mt extends Jr{constructor(D,b,N,j){super(D,b),this.urlAfterRedirects=N,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kt{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class En{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tr{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tr{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class di{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hr{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class to{constructor(D,b,N){this.routerEvent=D,this.position=b,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ii{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const b=this.pathFromRoot(D);return b.length>1?b[b.length-2]:null}children(D){const b=co(D,this._root);return b?b.children.map(N=>N.value):[]}firstChild(D){const b=co(D,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(D){const b=ho(D,this._root);return b.length<2?[]:b[b.length-2].children.map(j=>j.value).filter(j=>j!==D)}pathFromRoot(D){return ho(D,this._root).map(b=>b.value)}}function co(C,D){if(C===D.value)return D;for(const b of D.children){const N=co(C,b);if(N)return N}return null}function ho(C,D){if(C===D.value)return[D];for(const b of D.children){const N=ho(C,b);if(N.length)return N.unshift(D),N}return[]}class qi{constructor(D,b){this.value=D,this.children=b}toString(){return`TreeNode(${this.value})`}}function $o(C){const D={};return C&&C.children.forEach(b=>D[b.value.outlet]=b),D}class ks extends Ii{constructor(D,b){super(D),this.snapshot=b,ro(this,D)}toString(){return this.snapshot.toString()}}function Ri(C,D){const b=function no(C,D){const ke=new Is([],{},{},"",{},Jn,D,null,C.root,-1,{});return new xo("",new qi(ke,[]))}(C,D),N=new Ve.X([new vn("",{})]),j=new Ve.X({}),ae=new Ve.X({}),ke=new Ve.X({}),Ue=new Ve.X(""),Ft=new Xi(N,j,ke,Ue,ae,Jn,D,b.root);return Ft.snapshot=b.root,new ks(new qi(Ft,[]),b)}class Xi{constructor(D,b,N,j,ae,ke,Ue,Ft){this.url=D,this.params=b,this.queryParams=N,this.fragment=j,this.data=ae,this.outlet=ke,this.component=Ue,this.title=this.data?.pipe((0,Rt.U)(Sn=>Sn[dr]))??(0,ee.of)(void 0),this._futureSnapshot=Ft}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Rt.U)(D=>xr(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Rt.U)(D=>xr(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qo(C,D="emptyOnly"){const b=C.pathFromRoot;let N=0;if("always"!==D)for(N=b.length-1;N>=1;){const j=b[N],ae=b[N-1];if(j.routeConfig&&""===j.routeConfig.path)N--;else{if(ae.component)break;N--}}return function Ho(C){return C.reduce((D,b)=>({params:{...D.params,...b.params},data:{...D.data,...b.data},resolve:{...b.data,...D.resolve,...b.routeConfig?.data,...b._resolvedData}}),{params:{},data:{},resolve:{}})}(b.slice(N))}class Is{constructor(D,b,N,j,ae,ke,Ue,Ft,Sn,Rr,Ln,Zr){this.url=D,this.params=b,this.queryParams=N,this.fragment=j,this.data=ae,this.outlet=ke,this.component=Ue,this.title=this.data?.[dr],this.routeConfig=Ft,this._urlSegment=Sn,this._lastPathIndex=Rr,this._correctedLastPathIndex=Zr??Rr,this._resolve=Ln}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xo extends Ii{constructor(D,b){super(b),this.url=D,ro(this,b)}toString(){return Go(this._root)}}function ro(C,D){D.value._routerState=C,D.children.forEach(b=>ro(C,b))}function Go(C){const D=C.children.length>0?` { ${C.children.map(Go).join(", ")} } `:"";return`${C.value}${D}`}function ji(C){if(C.snapshot){const D=C.snapshot,b=C._futureSnapshot;C.snapshot=b,yr(D.queryParams,b.queryParams)||C.queryParams.next(b.queryParams),D.fragment!==b.fragment&&C.fragment.next(b.fragment),yr(D.params,b.params)||C.params.next(b.params),function gi(C,D){if(C.length!==D.length)return!1;for(let b=0;b<C.length;++b)if(!yr(C[b],D[b]))return!1;return!0}(D.url,b.url)||C.url.next(b.url),yr(D.data,b.data)||C.data.next(b.data)}else C.snapshot=C._futureSnapshot,C.data.next(C._futureSnapshot.data)}function Cs(C,D){const b=yr(C.params,D.params)&&function Gt(C,D){return wn(C,D)&&C.every((b,N)=>yr(b.parameters,D[N].parameters))}(C.url,D.url);return b&&!(!C.parent!=!D.parent)&&(!C.parent||Cs(C.parent,D.parent))}function Zi(C,D,b){if(b&&C.shouldReuseRoute(D.value,b.value.snapshot)){const N=b.value;N._futureSnapshot=D.value;const j=function $i(C,D,b){return D.children.map(N=>{for(const j of b.children)if(C.shouldReuseRoute(N.value,j.value.snapshot))return Zi(C,N,j);return Zi(C,N)})}(C,D,b);return new qi(N,j)}{if(C.shouldAttach(D.value)){const ae=C.retrieve(D.value);if(null!==ae){const ke=ae.route;return ke.value._futureSnapshot=D.value,ke.children=D.children.map(Ue=>Zi(C,Ue)),ke}}const N=function Rs(C){return new Xi(new Ve.X(C.url),new Ve.X(C.params),new Ve.X(C.queryParams),new Ve.X(C.fragment),new Ve.X(C.data),C.outlet,C.component,C)}(D.value),j=D.children.map(ae=>Zi(C,ae));return new qi(N,j)}}const ss="ngNavigationCancelingError";function _i(C,D){const{redirectTo:b,navigationBehaviorOptions:N}=Ni(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,j=Ur(!1,0,D);return j.url=b,j.navigationBehaviorOptions=N,j}function Ur(C,D,b){const N=new Error("NavigationCancelingError: "+(C||""));return N[ss]=!0,N.cancellationCode=D,b&&(N.url=b),N}function Ns(C){return wo(C)&&Ni(C.url)}function wo(C){return C&&C[ss]}class Ds{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new _r,this.attachRef=null}}let _r=(()=>{class C{constructor(){this.contexts=new Map}onChildOutletCreated(b,N){const j=this.getOrCreateContext(b);j.outlet=N,this.contexts.set(b,j)}onChildOutletDestroyed(b){const N=this.getContext(b);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let N=this.getContext(b);return N||(N=new Ds,this.contexts.set(b,N)),N}getContext(b){return this.contexts.get(b)||null}}return C.\u0275fac=function(b){return new(b||C)},C.\u0275prov=h.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const os=!1;let Os=(()=>{class C{constructor(b,N,j,ae,ke){this.parentContexts=b,this.location=N,this.changeDetector=ae,this.environmentInjector=ke,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=j||Jn,b.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const b=this.parentContexts.getContext(this.name);b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,os);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,os);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,os);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,N){this.activated=b,this._activatedRoute=N,this.location.insert(b.hostView),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,N){if(this.isActivated)throw new h.vHH(4013,os);this._activatedRoute=b;const j=this.location,ke=b._futureSnapshot.component,Ue=this.parentContexts.getOrCreateContext(this.name).children,Ft=new Ts(b,Ue,j.injector);if(N&&function Lr(C){return!!C.resolveComponentFactory}(N)){const Sn=N.resolveComponentFactory(ke);this.activated=j.createComponent(Sn,j.length,Ft)}else this.activated=j.createComponent(ke,{index:j.length,injector:Ft,environmentInjector:N??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return C.\u0275fac=function(b){return new(b||C)(h.Y36(_r),h.Y36(h.s_b),h.$8M("name"),h.Y36(h.sBO),h.Y36(h.lqb))},C.\u0275dir=h.lG2({type:C,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),C})();class Ts{constructor(D,b,N){this.route=D,this.childContexts=b,this.parent=N}get(D,b){return D===Xi?this.route:D===_r?this.childContexts:this.parent.get(D,b)}}let qs=(()=>{class C{}return C.\u0275fac=function(b){return new(b||C)},C.\u0275cmp=h.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(b,N){1&b&&h._UZ(0,"router-outlet")},dependencies:[Os],encapsulation:2}),C})();function Fs(C,D){return C.providers&&!C._injector&&(C._injector=(0,h.MMx)(C.providers,D,`Route: ${C.path}`)),C._injector??D}function io(C){const D=C.children&&C.children.map(io),b=D?{...C,children:D}:{...C};return!b.component&&!b.loadComponent&&(D||b.loadChildren)&&b.outlet&&b.outlet!==Jn&&(b.component=qs),b}function hi(C){return C.outlet||Jn}function Ks(C,D){const b=C.filter(N=>hi(N)===D);return b.push(...C.filter(N=>hi(N)!==D)),b}function as(C){if(!C)return null;if(C.routeConfig?._injector)return C.routeConfig._injector;for(let D=C.parent;D;D=D.parent){const b=D.routeConfig;if(b?._loadedInjector)return b._loadedInjector;if(b?._injector)return b._injector}return null}class nn{constructor(D,b,N,j){this.routeReuseStrategy=D,this.futureState=b,this.currState=N,this.forwardEvent=j}activate(D){const b=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,N,D),ji(this.futureState.root),this.activateChildRoutes(b,N,D)}deactivateChildRoutes(D,b,N){const j=$o(b);D.children.forEach(ae=>{const ke=ae.value.outlet;this.deactivateRoutes(ae,j[ke],N),delete j[ke]}),cn(j,(ae,ke)=>{this.deactivateRouteAndItsChildren(ae,N)})}deactivateRoutes(D,b,N){const j=D.value,ae=b?b.value:null;if(j===ae)if(j.component){const ke=N.getContext(j.outlet);ke&&this.deactivateChildRoutes(D,b,ke.children)}else this.deactivateChildRoutes(D,b,N);else ae&&this.deactivateRouteAndItsChildren(b,N)}deactivateRouteAndItsChildren(D,b){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,b):this.deactivateRouteAndOutlet(D,b)}detachAndStoreRouteSubtree(D,b){const N=b.getContext(D.value.outlet),j=N&&D.value.component?N.children:b,ae=$o(D);for(const ke of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[ke],j);if(N&&N.outlet){const ke=N.outlet.detach(),Ue=N.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:ke,route:D,contexts:Ue})}}deactivateRouteAndOutlet(D,b){const N=b.getContext(D.value.outlet),j=N&&D.value.component?N.children:b,ae=$o(D);for(const ke of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[ke],j);N&&N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated(),N.attachRef=null,N.resolver=null,N.route=null)}activateChildRoutes(D,b,N){const j=$o(b);D.children.forEach(ae=>{this.activateRoutes(ae,j[ae.value.outlet],N),this.forwardEvent(new Hr(ae.value.snapshot))}),D.children.length&&this.forwardEvent(new Tr(D.value.snapshot))}activateRoutes(D,b,N){const j=D.value,ae=b?b.value:null;if(ji(j),j===ae)if(j.component){const ke=N.getOrCreateContext(j.outlet);this.activateChildRoutes(D,b,ke.children)}else this.activateChildRoutes(D,b,N);else if(j.component){const ke=N.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const Ue=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),ke.children.onOutletReAttached(Ue.contexts),ke.attachRef=Ue.componentRef,ke.route=Ue.route.value,ke.outlet&&ke.outlet.attach(Ue.componentRef,Ue.route.value),ji(Ue.route.value),this.activateChildRoutes(D,null,ke.children)}else{const Ue=as(j.snapshot),Ft=Ue?.get(h._Vd)??null;ke.attachRef=null,ke.route=j,ke.resolver=Ft,ke.injector=Ue,ke.outlet&&ke.outlet.activateWith(j,ke.injector),this.activateChildRoutes(D,null,ke.children)}}else this.activateChildRoutes(D,null,N)}}class Pr{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class ko{constructor(D,b){this.component=D,this.route=b}}function Ro(C,D,b){const N=C._root;return so(N,D?D._root:null,b,[N.value])}function Kr(C,D){const b=Symbol(),N=D.get(C,b);return N===b?"function"!=typeof C||(0,h.Z0I)(C)?D.get(C):C:N}function so(C,D,b,N,j={canDeactivateChecks:[],canActivateChecks:[]}){const ae=$o(D);return C.children.forEach(ke=>{(function fi(C,D,b,N,j={canDeactivateChecks:[],canActivateChecks:[]}){const ae=C.value,ke=D?D.value:null,Ue=b?b.getContext(C.value.outlet):null;if(ke&&ae.routeConfig===ke.routeConfig){const Ft=function ra(C,D,b){if("function"==typeof b)return b(C,D);switch(b){case"pathParamsChange":return!wn(C.url,D.url);case"pathParamsOrQueryParamsChange":return!wn(C.url,D.url)||!yr(C.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cs(C,D)||!yr(C.queryParams,D.queryParams);default:return!Cs(C,D)}}(ke,ae,ae.routeConfig.runGuardsAndResolvers);Ft?j.canActivateChecks.push(new Pr(N)):(ae.data=ke.data,ae._resolvedData=ke._resolvedData),so(C,D,ae.component?Ue?Ue.children:null:b,N,j),Ft&&Ue&&Ue.outlet&&Ue.outlet.isActivated&&j.canDeactivateChecks.push(new ko(Ue.outlet.component,ke))}else ke&&po(D,Ue,j),j.canActivateChecks.push(new Pr(N)),so(C,null,ae.component?Ue?Ue.children:null:b,N,j)})(ke,ae[ke.value.outlet],b,N.concat([ke.value]),j),delete ae[ke.value.outlet]}),cn(ae,(ke,Ue)=>po(ke,b.getContext(Ue),j)),j}function po(C,D,b){const N=$o(C),j=C.value;cn(N,(ae,ke)=>{po(ae,j.component?D?D.children.getContext(ke):null:D,b)}),b.canDeactivateChecks.push(new ko(j.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,j))}function Si(C){return"function"==typeof C}function ls(C){return C instanceof ze.K||"EmptyError"===C?.name}const u=Symbol("INITIAL_VALUE");function p(){return(0,ht.w)(C=>rt(C.map(D=>D.pipe((0,yt.q)(1),(0,Me.O)(u)))).pipe((0,Rt.U)(D=>{for(const b of D)if(!0!==b){if(b===u)return u;if(!1===b||b instanceof jr)return b}return!0}),(0,tt.h)(D=>D!==u),(0,yt.q)(1)))}function Pt(C){return(0,pn.z)((0,It.b)(D=>{if(Ni(D))throw _i(0,D)}),(0,Rt.U)(D=>!0===D))}const I={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function k(C,D,b,N,j){const ae=T(C,D,b);return ae.matched?function ge(C,D,b,N){const j=D.canMatch;if(!j||0===j.length)return(0,ee.of)(!0);const ae=j.map(ke=>{const Ue=Kr(ke,C);return br(function _t(C){return C&&Si(C.canMatch)}(Ue)?Ue.canMatch(D,b):C.runInContext(()=>Ue(D,b)))});return(0,ee.of)(ae).pipe(p(),Pt())}(N=Fs(D,N),D,b).pipe((0,Rt.U)(ke=>!0===ke?ae:{...I})):(0,ee.of)(ae)}function T(C,D,b){if(""===D.path)return"full"===D.pathMatch&&(C.hasChildren()||b.length>0)?{...I}:{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const j=(D.matcher||bn)(b,C,D);if(!j)return{...I};const ae={};cn(j.posParams,(Ue,Ft)=>{ae[Ft]=Ue.path});const ke=j.consumed.length>0?{...ae,...j.consumed[j.consumed.length-1].parameters}:ae;return{matched:!0,consumedSegments:j.consumed,remainingSegments:b.slice(j.consumed.length),parameters:ke,positionalParamSegments:j.posParams??{}}}function U(C,D,b,N,j="corrected"){if(b.length>0&&function W(C,D,b){return b.some(N=>se(C,D,N)&&hi(N)!==Jn)}(C,b,N)){const ke=new zn(D,function X(C,D,b,N){const j={};j[Jn]=N,N._sourceSegment=C,N._segmentIndexShift=D.length;for(const ae of b)if(""===ae.path&&hi(ae)!==Jn){const ke=new zn([],{});ke._sourceSegment=C,ke._segmentIndexShift=D.length,j[hi(ae)]=ke}return j}(C,D,N,new zn(b,C.children)));return ke._sourceSegment=C,ke._segmentIndexShift=D.length,{segmentGroup:ke,slicedSegments:[]}}if(0===b.length&&function J(C,D,b){return b.some(N=>se(C,D,N))}(C,b,N)){const ke=new zn(C.segments,function z(C,D,b,N,j,ae){const ke={};for(const Ue of N)if(se(C,b,Ue)&&!j[hi(Ue)]){const Ft=new zn([],{});Ft._sourceSegment=C,Ft._segmentIndexShift="legacy"===ae?C.segments.length:D.length,ke[hi(Ue)]=Ft}return{...j,...ke}}(C,D,b,N,C.children,j));return ke._sourceSegment=C,ke._segmentIndexShift=D.length,{segmentGroup:ke,slicedSegments:b}}const ae=new zn(C.segments,C.children);return ae._sourceSegment=C,ae._segmentIndexShift=D.length,{segmentGroup:ae,slicedSegments:b}}function se(C,D,b){return(!(C.hasChildren()||D.length>0)||"full"!==b.pathMatch)&&""===b.path}function pe(C,D,b,N){return!!(hi(C)===N||N!==Jn&&se(D,b,C))&&("**"===C.path||T(D,C,b).matched)}function ve(C,D,b){return 0===D.length&&!C.children[b]}const be=!1;class vt{constructor(D){this.segmentGroup=D||null}}class Zt{constructor(D){this.urlTree=D}}function Jt(C){return Oe(new vt(C))}function tn(C){return Oe(new Zt(C))}class $e{constructor(D,b,N,j,ae){this.injector=D,this.configLoader=b,this.urlSerializer=N,this.urlTree=j,this.config=ae,this.allowRedirects=!0}apply(){const D=U(this.urlTree.root,[],[],this.config).segmentGroup,b=new zn(D.segments,D.children);return this.expandSegmentGroup(this.injector,this.config,b,Jn).pipe((0,Rt.U)(ae=>this.createUrlTree(qn(ae),this.urlTree.queryParams,this.urlTree.fragment))).pipe(yn(ae=>{if(ae instanceof Zt)return this.allowRedirects=!1,this.match(ae.urlTree);throw ae instanceof vt?this.noMatchError(ae):ae}))}match(D){return this.expandSegmentGroup(this.injector,this.config,D.root,Jn).pipe((0,Rt.U)(j=>this.createUrlTree(qn(j),D.queryParams,D.fragment))).pipe(yn(j=>{throw j instanceof vt?this.noMatchError(j):j}))}noMatchError(D){return new h.vHH(4002,be)}createUrlTree(D,b,N){const j=Ji(D);return new jr(j,b,N)}expandSegmentGroup(D,b,N,j){return 0===N.segments.length&&N.hasChildren()?this.expandChildren(D,b,N).pipe((0,Rt.U)(ae=>new zn([],ae))):this.expandSegment(D,N,b,N.segments,j,!0)}expandChildren(D,b,N){const j=[];for(const ae of Object.keys(N.children))"primary"===ae?j.unshift(ae):j.push(ae);return(0,O.D)(j).pipe(Bt(ae=>{const ke=N.children[ae],Ue=Ks(b,ae);return this.expandSegmentGroup(D,Ue,ke,ae).pipe((0,Rt.U)(Ft=>({segment:Ft,outlet:ae})))}),(0,Ar.R)((ae,ke)=>(ae[ke.outlet]=ke.segment,ae),{}),Lt())}expandSegment(D,b,N,j,ae,ke){return(0,O.D)(N).pipe(Bt(Ue=>this.expandSegmentAgainstRoute(D,b,N,Ue,j,ae,ke).pipe(yn(Sn=>{if(Sn instanceof vt)return(0,ee.of)(null);throw Sn}))),(0,jt.P)(Ue=>!!Ue),yn((Ue,Ft)=>{if(ls(Ue))return ve(b,j,ae)?(0,ee.of)(new zn([],{})):Jt(b);throw Ue}))}expandSegmentAgainstRoute(D,b,N,j,ae,ke,Ue){return pe(j,b,ae,ke)?void 0===j.redirectTo?this.matchSegmentAgainstRoute(D,b,j,ae,ke):Ue&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,b,N,j,ae,ke):Jt(b):Jt(b)}expandSegmentAgainstRouteUsingRedirect(D,b,N,j,ae,ke){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,N,j,ke):this.expandRegularSegmentAgainstRouteUsingRedirect(D,b,N,j,ae,ke)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,b,N,j){const ae=this.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?tn(ae):this.lineralizeSegments(N,ae).pipe((0,ut.z)(ke=>{const Ue=new zn(ke,{});return this.expandSegment(D,Ue,b,ke,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,b,N,j,ae,ke){const{matched:Ue,consumedSegments:Ft,remainingSegments:Sn,positionalParamSegments:Rr}=T(b,j,ae);if(!Ue)return Jt(b);const Ln=this.applyRedirectCommands(Ft,j.redirectTo,Rr);return j.redirectTo.startsWith("/")?tn(Ln):this.lineralizeSegments(j,Ln).pipe((0,ut.z)(Zr=>this.expandSegment(D,b,N,Zr.concat(Sn),ke,!1)))}matchSegmentAgainstRoute(D,b,N,j,ae){return"**"===N.path?(D=Fs(N,D),N.loadChildren?(N._loadedRoutes?(0,ee.of)({routes:N._loadedRoutes,injector:N._loadedInjector}):this.configLoader.loadChildren(D,N)).pipe((0,Rt.U)(Ue=>(N._loadedRoutes=Ue.routes,N._loadedInjector=Ue.injector,new zn(j,{})))):(0,ee.of)(new zn(j,{}))):k(b,N,j,D).pipe((0,ht.w)(({matched:ke,consumedSegments:Ue,remainingSegments:Ft})=>ke?this.getChildConfig(D=N._injector??D,N,j).pipe((0,ut.z)(Rr=>{const Ln=Rr.injector??D,Zr=Rr.routes,{segmentGroup:oo,slicedSegments:Qs}=U(b,Ue,Ft,Zr),ps=new zn(oo.segments,oo.children);if(0===Qs.length&&ps.hasChildren())return this.expandChildren(Ln,Zr,ps).pipe((0,Rt.U)(wa=>new zn(Ue,wa)));if(0===Zr.length&&0===Qs.length)return(0,ee.of)(new zn(Ue,{}));const Do=hi(N)===ae;return this.expandSegment(Ln,ps,Zr,Qs,Do?Jn:ae,!0).pipe((0,Rt.U)(Na=>new zn(Ue.concat(Na.segments),Na.children)))})):Jt(b)))}getChildConfig(D,b,N){return b.children?(0,ee.of)({routes:b.children,injector:D}):b.loadChildren?void 0!==b._loadedRoutes?(0,ee.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):function Xe(C,D,b,N){const j=D.canLoad;if(void 0===j||0===j.length)return(0,ee.of)(!0);const ae=j.map(ke=>{const Ue=Kr(ke,C);return br(function Y(C){return C&&Si(C.canLoad)}(Ue)?Ue.canLoad(D,b):C.runInContext(()=>Ue(D,b)))});return(0,ee.of)(ae).pipe(p(),Pt())}(D,b,N).pipe((0,ut.z)(j=>j?this.configLoader.loadChildren(D,b).pipe((0,It.b)(ae=>{b._loadedRoutes=ae.routes,b._loadedInjector=ae.injector})):function kn(C){return Oe(Ur(be,3))}())):(0,ee.of)({routes:[],injector:D})}lineralizeSegments(D,b){let N=[],j=b.root;for(;;){if(N=N.concat(j.segments),0===j.numberOfChildren)return(0,ee.of)(N);if(j.numberOfChildren>1||!j.children[Jn])return Oe(new h.vHH(4e3,be));j=j.children[Jn]}}applyRedirectCommands(D,b,N){return this.applyRedirectCreateUrlTree(b,this.urlSerializer.parse(b),D,N)}applyRedirectCreateUrlTree(D,b,N,j){const ae=this.createSegmentGroup(D,b.root,N,j);return new jr(ae,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(D,b){const N={};return cn(D,(j,ae)=>{if("string"==typeof j&&j.startsWith(":")){const Ue=j.substring(1);N[ae]=b[Ue]}else N[ae]=j}),N}createSegmentGroup(D,b,N,j){const ae=this.createSegments(D,b.segments,N,j);let ke={};return cn(b.children,(Ue,Ft)=>{ke[Ft]=this.createSegmentGroup(D,Ue,N,j)}),new zn(ae,ke)}createSegments(D,b,N,j){return b.map(ae=>ae.path.startsWith(":")?this.findPosParam(D,ae,j):this.findOrReturn(ae,N))}findPosParam(D,b,N){const j=N[b.path.substring(1)];if(!j)throw new h.vHH(4001,be);return j}findOrReturn(D,b){let N=0;for(const j of b){if(j.path===D.path)return b.splice(N),j;N++}return D}}class Fe{}class Kn{constructor(D,b,N,j,ae,ke,Ue,Ft){this.injector=D,this.rootComponentType=b,this.config=N,this.urlTree=j,this.url=ae,this.paramsInheritanceStrategy=ke,this.relativeLinkResolution=Ue,this.urlSerializer=Ft}recognize(){const D=U(this.urlTree.root,[],[],this.config.filter(b=>void 0===b.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,Jn).pipe((0,Rt.U)(b=>{if(null===b)return null;const N=new Is([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jn,this.rootComponentType,null,this.urlTree.root,-1,{}),j=new qi(N,b),ae=new xo(this.url,j);return this.inheritParamsAndData(ae._root),ae}))}inheritParamsAndData(D){const b=D.value,N=Qo(b,this.paramsInheritanceStrategy);b.params=Object.freeze(N.params),b.data=Object.freeze(N.data),D.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(D,b,N,j){return 0===N.segments.length&&N.hasChildren()?this.processChildren(D,b,N):this.processSegment(D,b,N,N.segments,j)}processChildren(D,b,N){return(0,O.D)(Object.keys(N.children)).pipe(Bt(j=>{const ae=N.children[j],ke=Ks(b,j);return this.processSegmentGroup(D,ke,ae,j)}),(0,Ar.R)((j,ae)=>j&&ae?(j.push(...ae),j):null),function mn(C,D=!1){return(0,Wt.e)((b,N)=>{let j=0;b.subscribe((0,Pe.x)(N,ae=>{const ke=C(ae,j++);(ke||D)&&N.next(ae),!ke&&N.complete()}))})}(j=>null!==j),(0,Ht.d)(null),Lt(),(0,Rt.U)(j=>{if(null===j)return null;const ae=Xr(j);return function Or(C){C.sort((D,b)=>D.value.outlet===Jn?-1:b.value.outlet===Jn?1:D.value.outlet.localeCompare(b.value.outlet))}(ae),ae}))}processSegment(D,b,N,j,ae){return(0,O.D)(b).pipe(Bt(ke=>this.processSegmentAgainstRoute(ke._injector??D,ke,N,j,ae)),(0,jt.P)(ke=>!!ke),yn(ke=>{if(ls(ke))return ve(N,j,ae)?(0,ee.of)([]):(0,ee.of)(null);throw ke}))}processSegmentAgainstRoute(D,b,N,j,ae){if(b.redirectTo||!pe(b,N,j,ae))return(0,ee.of)(null);let ke;if("**"===b.path){const Ue=j.length>0?zs(j).parameters:{},Ft=Ss(N)+j.length,Sn=new Is(j,Ue,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fs(b),hi(b),b.component??b._loadedComponent??null,b,Vs(N),Ft,ni(b),Ft);ke=(0,ee.of)({snapshot:Sn,consumedSegments:[],remainingSegments:[]})}else ke=k(N,b,j,D).pipe((0,Rt.U)(({matched:Ue,consumedSegments:Ft,remainingSegments:Sn,parameters:Rr})=>{if(!Ue)return null;const Ln=Ss(N)+Ft.length;return{snapshot:new Is(Ft,Rr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fs(b),hi(b),b.component??b._loadedComponent??null,b,Vs(N),Ln,ni(b),Ln),consumedSegments:Ft,remainingSegments:Sn}}));return ke.pipe((0,ht.w)(Ue=>{if(null===Ue)return(0,ee.of)(null);const{snapshot:Ft,consumedSegments:Sn,remainingSegments:Rr}=Ue;D=b._injector??D;const Ln=b._loadedInjector??D,Zr=function Mr(C){return C.children?C.children:C.loadChildren?C._loadedRoutes:[]}(b),{segmentGroup:oo,slicedSegments:Qs}=U(N,Sn,Rr,Zr.filter(Do=>void 0===Do.redirectTo),this.relativeLinkResolution);if(0===Qs.length&&oo.hasChildren())return this.processChildren(Ln,Zr,oo).pipe((0,Rt.U)(Do=>null===Do?null:[new qi(Ft,Do)]));if(0===Zr.length&&0===Qs.length)return(0,ee.of)([new qi(Ft,[])]);const ps=hi(b)===ae;return this.processSegment(Ln,Zr,oo,Qs,ps?Jn:ae).pipe((0,Rt.U)(Do=>null===Do?null:[new qi(Ft,Do)]))}))}}function Vi(C){const D=C.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function Xr(C){const D=[],b=new Set;for(const N of C){if(!Vi(N)){D.push(N);continue}const j=D.find(ae=>N.value.routeConfig===ae.value.routeConfig);void 0!==j?(j.children.push(...N.children),b.add(j)):D.push(N)}for(const N of b){const j=Xr(N.children);D.push(new qi(N.value,j))}return D.filter(N=>!b.has(N))}function Vs(C){let D=C;for(;D._sourceSegment;)D=D._sourceSegment;return D}function Ss(C){let D=C,b=D._segmentIndexShift??0;for(;D._sourceSegment;)D=D._sourceSegment,b+=D._segmentIndexShift??0;return b-1}function fs(C){return C.data||{}}function ni(C){return C.resolve||{}}function wr(C){return"string"==typeof C.title||null===C.title}function Us(C){return(0,ht.w)(D=>{const b=C(D);return b?(0,O.D)(b).pipe((0,Rt.U)(()=>D)):(0,ee.of)(D)})}let wi=(()=>{class C{buildTitle(b){let N,j=b.root;for(;void 0!==j;)N=this.getResolvedTitleForRoute(j)??N,j=j.children.find(ae=>ae.outlet===Jn);return N}getResolvedTitleForRoute(b){return b.data[dr]}}return C.\u0275fac=function(b){return new(b||C)},C.\u0275prov=h.Yz7({token:C,factory:function(){return(0,h.f3M)(Rn)},providedIn:"root"}),C})(),Rn=(()=>{class C extends wi{constructor(b){super(),this.title=b}updateTitle(b){const N=this.buildTitle(b);void 0!==N&&this.title.setTitle(N)}}return C.\u0275fac=function(b){return new(b||C)(h.LFG(ci.Dx))},C.\u0275prov=h.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();class bo{}class At extends class Cn{shouldDetach(D){return!1}store(D,b){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,b){return D.routeConfig===b.routeConfig}}{}const Di=new h.OlP("",{providedIn:"root",factory:()=>({})}),va=new h.OlP("ROUTES");let fa=(()=>{class C{constructor(b,N){this.injector=b,this.compiler=N,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,ee.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const N=br(b.loadComponent()).pipe((0,It.b)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=ae}),Un(()=>{this.componentLoaders.delete(b)})),j=new lt(N,()=>new Dt.x).pipe(qe());return this.componentLoaders.set(b,j),j}loadChildren(b,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,ee.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const ae=this.loadModuleFactoryOrRoutes(N.loadChildren).pipe((0,Rt.U)(Ue=>{this.onLoadEndListener&&this.onLoadEndListener(N);let Ft,Sn,Rr=!1;Array.isArray(Ue)?Sn=Ue:(Ft=Ue.create(b).injector,Sn=mi(Ft.get(va,[],h.XFs.Self|h.XFs.Optional)));return{routes:Sn.map(io),injector:Ft}}),Un(()=>{this.childrenLoaders.delete(N)})),ke=new lt(ae,()=>new Dt.x).pipe(qe());return this.childrenLoaders.set(N,ke),ke}loadModuleFactoryOrRoutes(b){return br(b()).pipe((0,ut.z)(N=>N instanceof h.YKP||Array.isArray(N)?(0,ee.of)(N):(0,O.D)(this.compiler.compileModuleAsync(N))))}}return C.\u0275fac=function(b){return new(b||C)(h.LFG(h.zs3),h.LFG(h.Sil))},C.\u0275prov=h.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();class al{}class Ra{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,b){return D}}function ia(C){throw C}function Cl(C,D,b){return D.parse("/")}const K={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},v={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function R(){const C=(0,h.f3M)(Wn),D=(0,h.f3M)(_r),b=(0,h.f3M)(pt.Ye),N=(0,h.f3M)(h.zs3),j=(0,h.f3M)(h.Sil),ae=(0,h.f3M)(va,{optional:!0})??[],ke=(0,h.f3M)(Di,{optional:!0})??{},Ue=(0,h.f3M)(Rn),Ft=(0,h.f3M)(wi,{optional:!0}),Sn=(0,h.f3M)(al,{optional:!0}),Rr=(0,h.f3M)(bo,{optional:!0}),Ln=new te(null,C,D,b,N,j,mi(ae));return Sn&&(Ln.urlHandlingStrategy=Sn),Rr&&(Ln.routeReuseStrategy=Rr),Ln.titleStrategy=Ft??Ue,function w(C,D){C.errorHandler&&(D.errorHandler=C.errorHandler),C.malformedUriErrorHandler&&(D.malformedUriErrorHandler=C.malformedUriErrorHandler),C.onSameUrlNavigation&&(D.onSameUrlNavigation=C.onSameUrlNavigation),C.paramsInheritanceStrategy&&(D.paramsInheritanceStrategy=C.paramsInheritanceStrategy),C.relativeLinkResolution&&(D.relativeLinkResolution=C.relativeLinkResolution),C.urlUpdateStrategy&&(D.urlUpdateStrategy=C.urlUpdateStrategy),C.canceledNavigationResolution&&(D.canceledNavigationResolution=C.canceledNavigationResolution)}(ke,Ln),Ln}let te=(()=>{class C{constructor(b,N,j,ae,ke,Ue,Ft){this.rootComponentType=b,this.urlSerializer=N,this.rootContexts=j,this.location=ae,this.config=Ft,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Dt.x,this.errorHandler=ia,this.malformedUriErrorHandler=Cl,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,ee.of)(void 0),this.urlHandlingStrategy=new Ra,this.routeReuseStrategy=new At,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ke.get(fa),this.configLoader.onLoadEndListener=Zr=>this.triggerEvent(new En(Zr)),this.configLoader.onLoadStartListener=Zr=>this.triggerEvent(new Kt(Zr)),this.ngModule=ke.get(h.h0i),this.console=ke.get(h.c2e);const Ln=ke.get(h.R0b);this.isNgZoneEnabled=Ln instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(Ft),this.currentUrlTree=function jn(){return new jr(new zn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ri(this.currentUrlTree,this.rootComponentType),this.transitions=new Ve.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(b){const N=this.events;return b.pipe((0,tt.h)(j=>0!==j.id),(0,Rt.U)(j=>({...j,extractedUrl:this.urlHandlingStrategy.extract(j.rawUrl)})),(0,ht.w)(j=>{let ae=!1,ke=!1;return(0,ee.of)(j).pipe((0,It.b)(Ue=>{this.currentNavigation={id:Ue.id,initialUrl:Ue.rawUrl,extractedUrl:Ue.extractedUrl,trigger:Ue.source,extras:Ue.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ht.w)(Ue=>{const Ft=this.browserUrlTree.toString(),Sn=!this.navigated||Ue.extractedUrl.toString()!==Ft||Ft!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Sn)&&this.urlHandlingStrategy.shouldProcessUrl(Ue.rawUrl))return Be(Ue.source)&&(this.browserUrlTree=Ue.extractedUrl),(0,ee.of)(Ue).pipe((0,ht.w)(Ln=>{const Zr=this.transitions.getValue();return N.next(new Eo(Ln.id,this.serializeUrl(Ln.extractedUrl),Ln.source,Ln.restoredState)),Zr!==this.transitions.getValue()?Ot.E:Promise.resolve(Ln)}),function De(C,D,b,N){return(0,ht.w)(j=>function Vt(C,D,b,N,j){return new $e(C,D,b,N,j).apply()}(C,D,b,j.extractedUrl,N).pipe((0,Rt.U)(ae=>({...j,urlAfterRedirects:ae}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,It.b)(Ln=>{this.currentNavigation={...this.currentNavigation,finalUrl:Ln.urlAfterRedirects},j.urlAfterRedirects=Ln.urlAfterRedirects}),function xn(C,D,b,N,j,ae){return(0,ut.z)(ke=>function kt(C,D,b,N,j,ae,ke="emptyOnly",Ue="legacy"){return new Kn(C,D,b,N,j,ke,Ue,ae).recognize().pipe((0,ht.w)(Ft=>null===Ft?function Ut(C){return new We.y(D=>D.error(C))}(new Fe):(0,ee.of)(Ft)))}(C,D,b,ke.urlAfterRedirects,N.serialize(ke.urlAfterRedirects),N,j,ae).pipe((0,Rt.U)(Ue=>({...ke,targetSnapshot:Ue}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,It.b)(Ln=>{if(j.targetSnapshot=Ln.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Ln.extras.skipLocationChange){const oo=this.urlHandlingStrategy.merge(Ln.urlAfterRedirects,Ln.rawUrl);this.setBrowserUrl(oo,Ln)}this.browserUrlTree=Ln.urlAfterRedirects}const Zr=new hs(Ln.id,this.serializeUrl(Ln.extractedUrl),this.serializeUrl(Ln.urlAfterRedirects),Ln.targetSnapshot);N.next(Zr)}));if(Sn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Zr,extractedUrl:oo,source:Qs,restoredState:ps,extras:Do}=Ue,qo=new Eo(Zr,this.serializeUrl(oo),Qs,ps);N.next(qo);const Na=Ri(oo,this.rootComponentType).snapshot;return j={...Ue,targetSnapshot:Na,urlAfterRedirects:oo,extras:{...Do,skipLocationChange:!1,replaceUrl:!1}},(0,ee.of)(j)}return this.rawUrlTree=Ue.rawUrl,Ue.resolve(null),Ot.E}),(0,It.b)(Ue=>{const Ft=new ii(Ue.id,this.serializeUrl(Ue.extractedUrl),this.serializeUrl(Ue.urlAfterRedirects),Ue.targetSnapshot);this.triggerEvent(Ft)}),(0,Rt.U)(Ue=>j={...Ue,guards:Ro(Ue.targetSnapshot,Ue.currentSnapshot,this.rootContexts)}),function _(C,D){return(0,ut.z)(b=>{const{targetSnapshot:N,currentSnapshot:j,guards:{canActivateChecks:ae,canDeactivateChecks:ke}}=b;return 0===ke.length&&0===ae.length?(0,ee.of)({...b,guardsResult:!0}):function x(C,D,b,N){return(0,O.D)(C).pipe((0,ut.z)(j=>function He(C,D,b,N,j){const ae=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,ee.of)(!0);const ke=ae.map(Ue=>{const Ft=as(D)??j,Sn=Kr(Ue,Ft);return br(function ue(C){return C&&Si(C.canDeactivate)}(Sn)?Sn.canDeactivate(C,D,b,N):Ft.runInContext(()=>Sn(C,D,b,N))).pipe((0,jt.P)())});return(0,ee.of)(ke).pipe(p())}(j.component,j.route,b,D,N)),(0,jt.P)(j=>!0!==j,!0))}(ke,N,j,C).pipe((0,ut.z)(Ue=>Ue&&function Mi(C){return"boolean"==typeof C}(Ue)?function $(C,D,b,N){return(0,O.D)(D).pipe(Bt(j=>(0,St.z)(function le(C,D){return null!==C&&D&&D(new tr(C)),(0,ee.of)(!0)}(j.route.parent,N),function G(C,D){return null!==C&&D&&D(new di(C)),(0,ee.of)(!0)}(j.route,N),function he(C,D,b){const N=D[D.length-1],ae=D.slice(0,D.length-1).reverse().map(ke=>function Hi(C){const D=C.routeConfig?C.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:C,guards:D}:null}(ke)).filter(ke=>null!==ke).map(ke=>(0,dt.P)(()=>{const Ue=ke.guards.map(Ft=>{const Sn=as(ke.node)??b,Rr=Kr(Ft,Sn);return br(function L(C){return C&&Si(C.canActivateChild)}(Rr)?Rr.canActivateChild(N,C):Sn.runInContext(()=>Rr(N,C))).pipe((0,jt.P)())});return(0,ee.of)(Ue).pipe(p())}));return(0,ee.of)(ae).pipe(p())}(C,j.path,b),function Ne(C,D,b){const N=D.routeConfig?D.routeConfig.canActivate:null;if(!N||0===N.length)return(0,ee.of)(!0);const j=N.map(ae=>(0,dt.P)(()=>{const ke=as(D)??b,Ue=Kr(ae,ke);return br(function B(C){return C&&Si(C.canActivate)}(Ue)?Ue.canActivate(D,C):ke.runInContext(()=>Ue(D,C))).pipe((0,jt.P)())}));return(0,ee.of)(j).pipe(p())}(C,j.route,b))),(0,jt.P)(j=>!0!==j,!0))}(N,ae,C,D):(0,ee.of)(Ue)),(0,Rt.U)(Ue=>({...b,guardsResult:Ue})))})}(this.ngModule.injector,Ue=>this.triggerEvent(Ue)),(0,It.b)(Ue=>{if(j.guardsResult=Ue.guardsResult,Ni(Ue.guardsResult))throw _i(0,Ue.guardsResult);const Ft=new it(Ue.id,this.serializeUrl(Ue.extractedUrl),this.serializeUrl(Ue.urlAfterRedirects),Ue.targetSnapshot,!!Ue.guardsResult);this.triggerEvent(Ft)}),(0,tt.h)(Ue=>!!Ue.guardsResult||(this.restoreHistory(Ue),this.cancelNavigationTransition(Ue,"",3),!1)),Us(Ue=>{if(Ue.guards.canActivateChecks.length)return(0,ee.of)(Ue).pipe((0,It.b)(Ft=>{const Sn=new Je(Ft.id,this.serializeUrl(Ft.extractedUrl),this.serializeUrl(Ft.urlAfterRedirects),Ft.targetSnapshot);this.triggerEvent(Sn)}),(0,ht.w)(Ft=>{let Sn=!1;return(0,ee.of)(Ft).pipe(function ri(C,D){return(0,ut.z)(b=>{const{targetSnapshot:N,guards:{canActivateChecks:j}}=b;if(!j.length)return(0,ee.of)(b);let ae=0;return(0,O.D)(j).pipe(Bt(ke=>function As(C,D,b,N){const j=C.routeConfig,ae=C._resolve;return void 0!==j?.title&&!wr(j)&&(ae[dr]=j.title),function go(C,D,b,N){const j=function No(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}(C);if(0===j.length)return(0,ee.of)({});const ae={};return(0,O.D)(j).pipe((0,ut.z)(ke=>function an(C,D,b,N){const j=as(D)??N,ae=Kr(C,j);return br(ae.resolve?ae.resolve(D,b):j.runInContext(()=>ae(D,b)))}(C[ke],D,b,N).pipe((0,jt.P)(),(0,It.b)(Ue=>{ae[ke]=Ue}))),en(1),function Bn(C){return(0,Rt.U)(()=>C)}(ae),yn(ke=>ls(ke)?Ot.E:Oe(ke)))}(ae,C,D,N).pipe((0,Rt.U)(ke=>(C._resolvedData=ke,C.data=Qo(C,b).resolve,j&&wr(j)&&(C.data[dr]=j.title),null)))}(ke.route,N,C,D)),(0,It.b)(()=>ae++),en(1),(0,ut.z)(ke=>ae===j.length?(0,ee.of)(b):Ot.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,It.b)({next:()=>Sn=!0,complete:()=>{Sn||(this.restoreHistory(Ft),this.cancelNavigationTransition(Ft,"",2))}}))}),(0,It.b)(Ft=>{const Sn=new mt(Ft.id,this.serializeUrl(Ft.extractedUrl),this.serializeUrl(Ft.urlAfterRedirects),Ft.targetSnapshot);this.triggerEvent(Sn)}))}),Us(Ue=>{const Ft=Sn=>{const Rr=[];Sn.routeConfig?.loadComponent&&!Sn.routeConfig._loadedComponent&&Rr.push(this.configLoader.loadComponent(Sn.routeConfig).pipe((0,It.b)(Ln=>{Sn.component=Ln}),(0,Rt.U)(()=>{})));for(const Ln of Sn.children)Rr.push(...Ft(Ln));return Rr};return rt(Ft(Ue.targetSnapshot.root)).pipe((0,Ht.d)(),(0,yt.q)(1))}),Us(()=>this.afterPreactivation()),(0,Rt.U)(Ue=>{const Ft=function Ki(C,D,b){const N=Zi(C,D._root,b?b._root:void 0);return new ks(N,D)}(this.routeReuseStrategy,Ue.targetSnapshot,Ue.currentRouterState);return j={...Ue,targetRouterState:Ft}}),(0,It.b)(Ue=>{this.currentUrlTree=Ue.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ue.urlAfterRedirects,Ue.rawUrl),this.routerState=Ue.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ue.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ue),this.browserUrlTree=Ue.urlAfterRedirects)}),((C,D,b)=>(0,Rt.U)(N=>(new nn(D,N.targetRouterState,N.currentRouterState,b).activate(C),N)))(this.rootContexts,this.routeReuseStrategy,Ue=>this.triggerEvent(Ue)),(0,It.b)({next(){ae=!0},complete(){ae=!0}}),Un(()=>{ae||ke||this.cancelNavigationTransition(j,"",1),this.currentNavigation?.id===j.id&&(this.currentNavigation=null)}),yn(Ue=>{if(ke=!0,wo(Ue)){Ns(Ue)||(this.navigated=!0,this.restoreHistory(j,!0));const Ft=new uo(j.id,this.serializeUrl(j.extractedUrl),Ue.message,Ue.cancellationCode);if(N.next(Ft),Ns(Ue)){const Sn=this.urlHandlingStrategy.merge(Ue.url,this.rawUrlTree),Rr={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Be(j.source)};this.scheduleNavigation(Sn,"imperative",null,Rr,{resolve:j.resolve,reject:j.reject,promise:j.promise})}else j.resolve(!1)}else{this.restoreHistory(j,!0);const Ft=new ds(j.id,this.serializeUrl(j.extractedUrl),Ue,j.targetSnapshot??void 0);N.next(Ft);try{j.resolve(this.errorHandler(Ue))}catch(Sn){j.reject(Sn)}}return Ot.E}))}))}resetRootComponentType(b){this.rootComponentType=b,this.routerState.root.component=this.rootComponentType}setTransition(b){this.transitions.next({...this.transitions.value,...b})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const N="popstate"===b.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{const j={replaceUrl:!0},ae=b.state?.navigationId?b.state:null;if(ae){const Ue={...ae};delete Ue.navigationId,delete Ue.\u0275routerPageId,0!==Object.keys(Ue).length&&(j.state=Ue)}const ke=this.parseUrl(b.url);this.scheduleNavigation(ke,N,ae,j)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(b){this.events.next(b)}resetConfig(b){this.config=b.map(io),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,N={}){const{relativeTo:j,queryParams:ae,fragment:ke,queryParamsHandling:Ue,preserveFragment:Ft}=N,Sn=j||this.routerState.root,Rr=Ft?this.currentUrlTree.fragment:ke;let Ln=null;switch(Ue){case"merge":Ln={...this.currentUrlTree.queryParams,...ae};break;case"preserve":Ln=this.currentUrlTree.queryParams;break;default:Ln=ae||null}return null!==Ln&&(Ln=this.removeEmptyProps(Ln)),ns(Sn,this.currentUrlTree,b,Ln,Rr??null)}navigateByUrl(b,N={skipLocationChange:!1}){const j=Ni(b)?b:this.parseUrl(b),ae=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(ae,"imperative",null,N)}navigate(b,N={skipLocationChange:!1}){return function me(C){for(let D=0;D<C.length;D++){if(null==C[D])throw new h.vHH(4008,false)}}(b),this.navigateByUrl(this.createUrlTree(b,N),N)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let N;try{N=this.urlSerializer.parse(b)}catch(j){N=this.malformedUriErrorHandler(j,this.urlSerializer,b)}return N}isActive(b,N){let j;if(j=!0===N?{...K}:!1===N?{...v}:N,Ni(b))return zr(this.currentUrlTree,b,j);const ae=this.parseUrl(b);return zr(this.currentUrlTree,ae,j)}removeEmptyProps(b){return Object.keys(b).reduce((N,j)=>{const ae=b[j];return null!=ae&&(N[j]=ae),N},{})}processNavigations(){this.navigations.subscribe(b=>{this.navigated=!0,this.lastSuccessfulId=b.id,this.currentPageId=b.targetPageId,this.events.next(new Ps(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),b.resolve(!0)},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)})}scheduleNavigation(b,N,j,ae,ke){if(this.disposed)return Promise.resolve(!1);let Ue,Ft,Sn;ke?(Ue=ke.resolve,Ft=ke.reject,Sn=ke.promise):Sn=new Promise((Zr,oo)=>{Ue=Zr,Ft=oo});const Rr=++this.navigationId;let Ln;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(j=this.location.getState()),Ln=j&&j.\u0275routerPageId?j.\u0275routerPageId:ae.replaceUrl||ae.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Ln=0,this.setTransition({id:Rr,targetPageId:Ln,source:N,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:b,extras:ae,resolve:Ue,reject:Ft,promise:Sn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Sn.catch(Zr=>Promise.reject(Zr))}setBrowserUrl(b,N){const j=this.urlSerializer.serialize(b),ae={...N.extras.state,...this.generateNgRouterState(N.id,N.targetPageId)};this.location.isCurrentPathEqualTo(j)||N.extras.replaceUrl?this.location.replaceState(j,"",ae):this.location.go(j,"",ae)}restoreHistory(b,N=!1){if("computed"===this.canceledNavigationResolution){const j=this.currentPageId-b.targetPageId;"popstate"!==b.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===j?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===j&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(j)}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(b,N,j){const ae=new uo(b.id,this.serializeUrl(b.extractedUrl),N,j);this.triggerEvent(ae),b.resolve(!1)}generateNgRouterState(b,N){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:N}:{navigationId:b}}}return C.\u0275fac=function(b){h.$Z()},C.\u0275prov=h.Yz7({token:C,factory:function(){return R()},providedIn:"root"}),C})();function Be(C){return"imperative"!==C}let Et=(()=>{class C{constructor(b,N,j){this.router=b,this.route=N,this.locationStrategy=j,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Dt.x,this.subscription=b.events.subscribe(ae=>{ae instanceof Ps&&this.updateTargetUrlAndHref()})}set preserveFragment(b){this._preserveFragment=(0,h.D6c)(b)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(b){this._skipLocationChange=(0,h.D6c)(b)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(b){this._replaceUrl=(0,h.D6c)(b)}get replaceUrl(){return this._replaceUrl}set routerLink(b){this.commands=null!=b?Array.isArray(b)?b:[b]:null}ngOnChanges(b){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(b,N,j,ae,ke){return!!(0!==b||N||j||ae||ke||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return C.\u0275fac=function(b){return new(b||C)(h.Y36(te),h.Y36(Xi),h.Y36(pt.S$))},C.\u0275dir=h.lG2({type:C,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(b,N){1&b&&h.NdJ("click",function(ae){return N.onClick(ae.button,ae.ctrlKey,ae.shiftKey,ae.altKey,ae.metaKey)}),2&b&&h.uIk("target",N.target)("href",N.href,h.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),C})();class gn{}let hr=(()=>{class C{constructor(b,N,j,ae,ke){this.router=b,this.injector=j,this.preloadingStrategy=ae,this.loader=ke}setUpPreloading(){this.subscription=this.router.events.pipe((0,tt.h)(b=>b instanceof Ps),Bt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,N){const j=[];for(const ae of N){ae.providers&&!ae._injector&&(ae._injector=(0,h.MMx)(ae.providers,b,`Route: ${ae.path}`));const ke=ae._injector??b,Ue=ae._loadedInjector??ke;ae.loadChildren&&!ae._loadedRoutes&&void 0===ae.canLoad||ae.loadComponent&&!ae._loadedComponent?j.push(this.preloadConfig(ke,ae)):(ae.children||ae._loadedRoutes)&&j.push(this.processRoutes(Ue,ae.children??ae._loadedRoutes))}return(0,O.D)(j).pipe((0,ei.J)())}preloadConfig(b,N){return this.preloadingStrategy.preload(N,()=>{let j;j=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(b,N):(0,ee.of)(null);const ae=j.pipe((0,ut.z)(ke=>null===ke?(0,ee.of)(void 0):(N._loadedRoutes=ke.routes,N._loadedInjector=ke.injector,this.processRoutes(ke.injector??b,ke.routes))));if(N.loadComponent&&!N._loadedComponent){const ke=this.loader.loadComponent(N);return(0,O.D)([ae,ke]).pipe((0,ei.J)())}return ae})}}return C.\u0275fac=function(b){return new(b||C)(h.LFG(te),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(gn),h.LFG(fa))},C.\u0275prov=h.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const rr=new h.OlP("");let bi=(()=>{class C{constructor(b,N,j={}){this.router=b,this.viewportScroller=N,this.options=j,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},j.scrollPositionRestoration=j.scrollPositionRestoration||"disabled",j.anchorScrolling=j.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(b=>{b instanceof Eo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Ps&&(this.lastId=b.id,this.scheduleScrollEvent(b,this.router.parseUrl(b.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(b=>{b instanceof to&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,N){this.router.triggerEvent(new to(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return C.\u0275fac=function(b){h.$Z()},C.\u0275prov=h.Yz7({token:C,factory:C.\u0275fac}),C})();function _s(C,D){return{\u0275kind:C,\u0275providers:D}}function Ea(C){return[{provide:va,multi:!0,useValue:C}]}function Bs(){const C=(0,h.f3M)(h.zs3);return D=>{const b=C.get(h.z2F);if(D!==b.components[0])return;const N=C.get(te),j=C.get(pa);1===C.get(yo)&&N.initialNavigation(),C.get(Io,null,h.XFs.Optional)?.setUpPreloading(),C.get(rr,null,h.XFs.Optional)?.init(),N.resetRootComponentType(b.componentTypes[0]),j.closed||(j.next(),j.unsubscribe())}}const pa=new h.OlP("",{factory:()=>new Dt.x}),yo=new h.OlP("",{providedIn:"root",factory:()=>1});const Io=new h.OlP("");function Co(C){return _s(0,[{provide:Io,useExisting:hr},{provide:gn,useExisting:C}])}const fr=new h.OlP("ROUTER_FORROOT_GUARD"),Br=[pt.Ye,{provide:Wn,useClass:zt},{provide:te,useFactory:R},_r,{provide:Xi,useFactory:function vs(C){return C.routerState.root},deps:[te]},fa];function Yi(){return new h.PXZ("Router",te)}let Ys=(()=>{class C{constructor(b){}static forRoot(b,N){return{ngModule:C,providers:[Br,[],Ea(b),{provide:fr,useFactory:ba,deps:[[te,new h.FiY,new h.tp0]]},{provide:Di,useValue:N||{}},N?.useHash?{provide:pt.S$,useClass:pt.Do}:{provide:pt.S$,useClass:pt.b0},{provide:rr,useFactory:()=>{const C=(0,h.f3M)(te),D=(0,h.f3M)(pt.EM),b=(0,h.f3M)(Di);return b.scrollOffset&&D.setOffset(b.scrollOffset),new bi(C,D,b)}},N?.preloadingStrategy?Co(N.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:Yi},N?.initialNavigation?ma(N):[],[{provide:js,useFactory:Bs},{provide:h.tb,multi:!0,useExisting:js}]]}}static forChild(b){return{ngModule:C,providers:[Ea(b)]}}}return C.\u0275fac=function(b){return new(b||C)(h.LFG(fr,8))},C.\u0275mod=h.oAB({type:C}),C.\u0275inj=h.cJS({imports:[qs]}),C})();function ba(C){return"guarded"}function ma(C){return["disabled"===C.initialNavigation?_s(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const D=(0,h.f3M)(te);return()=>{D.setUpLocationChangeListener()}}},{provide:yo,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?_s(2,[{provide:yo,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:D=>{const b=D.get(pt.V_,Promise.resolve());let N=!1;return()=>b.then(()=>new Promise(ae=>{const ke=D.get(te),Ue=D.get(pa);(function j(ae){D.get(te).events.pipe((0,tt.h)(Ue=>Ue instanceof Ps||Ue instanceof uo||Ue instanceof ds),(0,Rt.U)(Ue=>Ue instanceof Ps||Ue instanceof uo&&(0===Ue.code||1===Ue.code)&&null),(0,tt.h)(Ue=>null!==Ue),(0,yt.q)(1)).subscribe(()=>{ae()})})(()=>{ae(!0),N=!0}),ke.afterPreactivation=()=>(ae(!0),N||Ue.closed?(0,ee.of)(void 0):Ue),ke.initialNavigation()}))}}]).\u0275providers:[]]}const js=new h.OlP("")},3942:(_n,at,H)=>{"use strict";H.d(at,{Z:()=>et});var h=H(2090),O=H(4859),ee=H(9681),Ve=H(1877);class ze{constructor(St,dt){this._delegate=St,this.firebase=dt,(0,ee._addComponent)(St,new O.wA("app-compat",()=>this,"PUBLIC")),this.container=St.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(St){this._delegate.automaticDataCollectionEnabled=St}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(St=>{this._delegate.checkDestroyed(),St()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ee.deleteApp)(this._delegate)))}_getService(St,dt=ee._DEFAULT_ENTRY_NAME){var pn;this._delegate.checkDestroyed();const on=this._delegate.container.getProvider(St);return!on.isInitialized()&&"EXPLICIT"===(null===(pn=on.getComponent())||void 0===pn?void 0:pn.instantiationMode)&&on.initialize(),on.getImmediate({identifier:dt})}_removeServiceInstance(St,dt=ee._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(St).clearInstance(dt)}_addComponent(St){(0,ee._addComponent)(this._delegate,St)}_addOrOverwriteComponent(St){(0,ee._addOrOverwriteComponent)(this._delegate,St)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ze=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),de=function Qe(){const Qt=function Ge(Qt){const St={},dt={__esModule:!0,initializeApp:function Oe(qe,lt={}){const Dt=ee.initializeApp(qe,lt);if((0,h.r3)(St,Dt.name))return St[Dt.name];const pt=new Qt(Dt,dt);return St[Dt.name]=pt,pt},app:on,registerVersion:ee.registerVersion,setLogLevel:ee.setLogLevel,onLog:ee.onLog,apps:null,SDK_VERSION:ee.SDK_VERSION,INTERNAL:{registerComponent:function Tt(qe){const lt=qe.name,Dt=lt.replace("-compat","");if(ee._registerComponent(qe)&&"PUBLIC"===qe.type){const pt=(Rt=on())=>{if("function"!=typeof Rt[Dt])throw Ze.create("invalid-app-argument",{appName:lt});return Rt[Dt]()};void 0!==qe.serviceProps&&(0,h.ZB)(pt,qe.serviceProps),dt[Dt]=pt,Qt.prototype[Dt]=function(...Rt){return this._getService.bind(this,lt).apply(this,qe.multipleInstances?Rt:[])}}return"PUBLIC"===qe.type?dt[Dt]:null},removeApp:function pn(qe){delete St[qe]},useAsService:function Wt(qe,lt){return"serverAuth"===lt?null:lt},modularAPIs:ee}};function on(qe){if(!(0,h.r3)(St,qe=qe||ee._DEFAULT_ENTRY_NAME))throw Ze.create("no-app",{appName:qe});return St[qe]}return dt.default=dt,Object.defineProperty(dt,"apps",{get:function Ot(){return Object.keys(St).map(qe=>St[qe])}}),on.App=Qt,dt}(ze);return Qt.INTERNAL=Object.assign(Object.assign({},Qt.INTERNAL),{createFirebaseNamespace:Qe,extendNamespace:function St(dt){(0,h.ZB)(Qt,dt)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Qt}(),_e=new Ve.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){_e.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Qt=self.firebase.SDK_VERSION;Qt&&Qt.indexOf("LITE")>=0&&_e.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const et=de;!function rt(Qt){(0,ee.registerVersion)("@firebase/app-compat","0.2.3",Qt)}()},9681:(_n,at,H)=>{"use strict";H.r(at),H.d(at,{FirebaseError:()=>Ve.ZR,SDK_VERSION:()=>ci,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>Ar,_addOrOverwriteComponent:()=>en,_apps:()=>Nn,_clearComponents:()=>mn,_components:()=>yn,_getProvider:()=>Ht,_registerComponent:()=>qt,_removeServiceInstance:()=>Lt,deleteApp:()=>xr,getApp:()=>dr,getApps:()=>ti,initializeApp:()=>Jn,onLog:()=>yr,registerVersion:()=>gi,setLogLevel:()=>Dr});var h=H(5861),O=H(4859),ee=H(1877),Ve=H(2090),ze=H(8766);class We{constructor(Gt){this.container=Gt}getPlatformInfoString(){return this.container.getProviders().map(wn=>{if(function Ze(vn){return"VERSION"===vn.getComponent()?.type}(wn)){const sr=wn.getImmediate();return`${sr.library}/${sr.version}`}return null}).filter(wn=>wn).join(" ")}}const Ge="@firebase/app",de=new ee.Yd("@firebase/app"),Bt="[DEFAULT]",It={[Ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Nn=new Map,yn=new Map;function Ar(vn,Gt){try{vn.container.addComponent(Gt)}catch(wn){de.debug(`Component ${Gt.name} failed to register with FirebaseApp ${vn.name}`,wn)}}function en(vn,Gt){vn.container.addOrOverwriteComponent(Gt)}function qt(vn){const Gt=vn.name;if(yn.has(Gt))return de.debug(`There were multiple attempts to register component ${Gt}.`),!1;yn.set(Gt,vn);for(const wn of Nn.values())Ar(wn,vn);return!0}function Ht(vn,Gt){const wn=vn.container.getProvider("heartbeat").getImmediate({optional:!0});return wn&&wn.triggerHeartbeat(),vn.container.getProvider(Gt)}function Lt(vn,Gt,wn=Bt){Ht(vn,Gt).clearInstance(wn)}function mn(){yn.clear()}const Un=new Ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ei{constructor(Gt,wn,sr){this._isDeleted=!1,this._options=Object.assign({},Gt),this._config=Object.assign({},wn),this._name=wn.name,this._automaticDataCollectionEnabled=wn.automaticDataCollectionEnabled,this._container=sr,this.container.addComponent(new O.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Gt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Gt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Gt){this._isDeleted=Gt}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}const ci="9.17.1";function Jn(vn,Gt={}){let wn=vn;"object"!=typeof Gt&&(Gt={name:Gt});const sr=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},Gt),Wn=sr.name;if("string"!=typeof Wn||!Wn)throw Un.create("bad-app-name",{appName:String(Wn)});if(wn||(wn=(0,Ve.aH)()),!wn)throw Un.create("no-options");const zt=Nn.get(Wn);if(zt){if((0,Ve.vZ)(wn,zt.options)&&(0,Ve.vZ)(sr,zt.config))return zt;throw Un.create("duplicate-app",{appName:Wn})}const Le=new O.H0(Wn);for(const Ye of yn.values())Le.addComponent(Ye);const Re=new ei(wn,sr,Le);return Nn.set(Wn,Re),Re}function dr(vn=Bt){const Gt=Nn.get(vn);if(!Gt&&vn===Bt)return Jn();if(!Gt)throw Un.create("no-app",{appName:vn});return Gt}function ti(){return Array.from(Nn.values())}function xr(vn){return bn.apply(this,arguments)}function bn(){return(bn=(0,h.Z)(function*(vn){const Gt=vn.name;Nn.has(Gt)&&(Nn.delete(Gt),yield Promise.all(vn.container.getProviders().map(wn=>wn.delete())),vn.isDeleted=!0)})).apply(this,arguments)}function gi(vn,Gt,wn){var sr;let Wn=null!==(sr=It[vn])&&void 0!==sr?sr:vn;wn&&(Wn+=`-${wn}`);const zt=Wn.match(/\s|\//),Le=Gt.match(/\s|\//);if(zt||Le){const Re=[`Unable to register library "${Wn}" with version "${Gt}":`];return zt&&Re.push(`library name "${Wn}" contains illegal characters (whitespace or "/")`),zt&&Le&&Re.push("and"),Le&&Re.push(`version name "${Gt}" contains illegal characters (whitespace or "/")`),void de.warn(Re.join(" "))}qt(new O.wA(`${Wn}-version`,()=>({library:Wn,version:Gt}),"VERSION"))}function yr(vn,Gt){if(null!==vn&&"function"!=typeof vn)throw Un.create("invalid-log-argument");(0,ee.Am)(vn,Gt)}function Dr(vn){(0,ee.Ub)(vn)}const yi="firebase-heartbeat-store";let cn=null;function br(){return cn||(cn=(0,ze.X3)("firebase-heartbeat-database",1,{upgrade:(vn,Gt)=>{0===Gt&&vn.createObjectStore(yi)}}).catch(vn=>{throw Un.create("idb-open",{originalErrorMessage:vn.message})})),cn}function jn(){return(jn=(0,h.Z)(function*(vn){try{return(yield br()).transaction(yi).objectStore(yi).get(zr(vn))}catch(Gt){if(Gt instanceof Ve.ZR)de.warn(Gt.message);else{const wn=Un.create("idb-get",{originalErrorMessage:Gt?.message});de.warn(wn.message)}}})).apply(this,arguments)}function ar(vn,Gt){return si.apply(this,arguments)}function si(){return(si=(0,h.Z)(function*(vn,Gt){try{const sr=(yield br()).transaction(yi,"readwrite");return yield sr.objectStore(yi).put(Gt,zr(vn)),sr.done}catch(wn){if(wn instanceof Ve.ZR)de.warn(wn.message);else{const sr=Un.create("idb-set",{originalErrorMessage:wn?.message});de.warn(sr.message)}}})).apply(this,arguments)}function zr(vn){return`${vn.name}!${vn.options.appId}`}class Pi{constructor(Gt){this.container=Gt,this._heartbeatsCache=null;const wn=this.container.getProvider("app").getImmediate();this._storage=new Qn(wn),this._heartbeatsCachePromise=this._storage.read().then(sr=>(this._heartbeatsCache=sr,sr))}triggerHeartbeat(){var Gt=this;return(0,h.Z)(function*(){const sr=Gt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wn=lr();if(null===Gt._heartbeatsCache&&(Gt._heartbeatsCache=yield Gt._heartbeatsCachePromise),Gt._heartbeatsCache.lastSentHeartbeatDate!==Wn&&!Gt._heartbeatsCache.heartbeats.some(zt=>zt.date===Wn))return Gt._heartbeatsCache.heartbeats.push({date:Wn,agent:sr}),Gt._heartbeatsCache.heartbeats=Gt._heartbeatsCache.heartbeats.filter(zt=>{const Le=new Date(zt.date).valueOf();return Date.now()-Le<=2592e6}),Gt._storage.overwrite(Gt._heartbeatsCache)})()}getHeartbeatsHeader(){var Gt=this;return(0,h.Z)(function*(){if(null===Gt._heartbeatsCache&&(yield Gt._heartbeatsCachePromise),null===Gt._heartbeatsCache||0===Gt._heartbeatsCache.heartbeats.length)return"";const wn=lr(),{heartbeatsToSend:sr,unsentEntries:Wn}=function Pn(vn,Gt=1024){const wn=[];let sr=vn.slice();for(const Wn of vn){const zt=wn.find(Le=>Le.agent===Wn.agent);if(zt){if(zt.dates.push(Wn.date),jr(wn)>Gt){zt.dates.pop();break}}else if(wn.push({agent:Wn.agent,dates:[Wn.date]}),jr(wn)>Gt){wn.pop();break}sr=sr.slice(1)}return{heartbeatsToSend:wn,unsentEntries:sr}}(Gt._heartbeatsCache.heartbeats),zt=(0,Ve.L)(JSON.stringify({version:2,heartbeats:sr}));return Gt._heartbeatsCache.lastSentHeartbeatDate=wn,Wn.length>0?(Gt._heartbeatsCache.heartbeats=Wn,yield Gt._storage.overwrite(Gt._heartbeatsCache)):(Gt._heartbeatsCache.heartbeats=[],Gt._storage.overwrite(Gt._heartbeatsCache)),zt})()}}function lr(){return(new Date).toISOString().substring(0,10)}class Qn{constructor(Gt){this.app=Gt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,Ve.hl)()&&(0,Ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Gt=this;return(0,h.Z)(function*(){return(yield Gt._canUseIndexedDBPromise)&&(yield function Dn(vn){return jn.apply(this,arguments)}(Gt.app))||{heartbeats:[]}})()}overwrite(Gt){var wn=this;return(0,h.Z)(function*(){var sr;if(yield wn._canUseIndexedDBPromise){const zt=yield wn.read();return ar(wn.app,{lastSentHeartbeatDate:null!==(sr=Gt.lastSentHeartbeatDate)&&void 0!==sr?sr:zt.lastSentHeartbeatDate,heartbeats:Gt.heartbeats})}})()}add(Gt){var wn=this;return(0,h.Z)(function*(){var sr;if(yield wn._canUseIndexedDBPromise){const zt=yield wn.read();return ar(wn.app,{lastSentHeartbeatDate:null!==(sr=Gt.lastSentHeartbeatDate)&&void 0!==sr?sr:zt.lastSentHeartbeatDate,heartbeats:[...zt.heartbeats,...Gt.heartbeats]})}})()}}function jr(vn){return(0,Ve.L)(JSON.stringify({version:2,heartbeats:vn})).length}!function zn(vn){qt(new O.wA("platform-logger",Gt=>new We(Gt),"PRIVATE")),qt(new O.wA("heartbeat",Gt=>new Pi(Gt),"PRIVATE")),gi(Ge,"0.9.3",vn),gi(Ge,"0.9.3","esm2017"),gi("fire-js","")}("")},4859:(_n,at,H)=>{"use strict";H.d(at,{H0:()=>Ge,wA:()=>ee});var h=H(5861),O=H(2090);class ee{constructor(de,_e,Pe){this.name=de,this.instanceFactory=_e,this.type=Pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(de){return this.instantiationMode=de,this}setMultipleInstances(de){return this.multipleInstances=de,this}setServiceProps(de){return this.serviceProps=de,this}setInstanceCreatedCallback(de){return this.onInstanceCreated=de,this}}const Ve="[DEFAULT]";class ze{constructor(de,_e){this.name=de,this.container=_e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(de){const _e=this.normalizeInstanceIdentifier(de);if(!this.instancesDeferred.has(_e)){const Pe=new O.BH;if(this.instancesDeferred.set(_e,Pe),this.isInitialized(_e)||this.shouldAutoInitialize())try{const ft=this.getOrInitializeService({instanceIdentifier:_e});ft&&Pe.resolve(ft)}catch{}}return this.instancesDeferred.get(_e).promise}getImmediate(de){var _e;const Pe=this.normalizeInstanceIdentifier(de?.identifier),ft=null!==(_e=de?.optional)&&void 0!==_e&&_e;if(!this.isInitialized(Pe)&&!this.shouldAutoInitialize()){if(ft)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Pe})}catch(rt){if(ft)return null;throw rt}}getComponent(){return this.component}setComponent(de){if(de.name!==this.name)throw Error(`Mismatching Component ${de.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=de,this.shouldAutoInitialize()){if(function Ze(Qe){return"EAGER"===Qe.instantiationMode}(de))try{this.getOrInitializeService({instanceIdentifier:Ve})}catch{}for(const[_e,Pe]of this.instancesDeferred.entries()){const ft=this.normalizeInstanceIdentifier(_e);try{const rt=this.getOrInitializeService({instanceIdentifier:ft});Pe.resolve(rt)}catch{}}}}clearInstance(de=Ve){this.instancesDeferred.delete(de),this.instancesOptions.delete(de),this.instances.delete(de)}delete(){var de=this;return(0,h.Z)(function*(){const _e=Array.from(de.instances.values());yield Promise.all([..._e.filter(Pe=>"INTERNAL"in Pe).map(Pe=>Pe.INTERNAL.delete()),..._e.filter(Pe=>"_delete"in Pe).map(Pe=>Pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(de=Ve){return this.instances.has(de)}getOptions(de=Ve){return this.instancesOptions.get(de)||{}}initialize(de={}){const{options:_e={}}=de,Pe=this.normalizeInstanceIdentifier(de.instanceIdentifier);if(this.isInitialized(Pe))throw Error(`${this.name}(${Pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ft=this.getOrInitializeService({instanceIdentifier:Pe,options:_e});for(const[rt,et]of this.instancesDeferred.entries())Pe===this.normalizeInstanceIdentifier(rt)&&et.resolve(ft);return ft}onInit(de,_e){var Pe;const ft=this.normalizeInstanceIdentifier(_e),rt=null!==(Pe=this.onInitCallbacks.get(ft))&&void 0!==Pe?Pe:new Set;rt.add(de),this.onInitCallbacks.set(ft,rt);const et=this.instances.get(ft);return et&&de(et,ft),()=>{rt.delete(de)}}invokeOnInitCallbacks(de,_e){const Pe=this.onInitCallbacks.get(_e);if(Pe)for(const ft of Pe)try{ft(de,_e)}catch{}}getOrInitializeService({instanceIdentifier:de,options:_e={}}){let Pe=this.instances.get(de);if(!Pe&&this.component&&(Pe=this.component.instanceFactory(this.container,{instanceIdentifier:(Qe=de,Qe===Ve?void 0:Qe),options:_e}),this.instances.set(de,Pe),this.instancesOptions.set(de,_e),this.invokeOnInitCallbacks(Pe,de),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,de,Pe)}catch{}var Qe;return Pe||null}normalizeInstanceIdentifier(de=Ve){return this.component?this.component.multipleInstances?de:Ve:de}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ge{constructor(de){this.name=de,this.providers=new Map}addComponent(de){const _e=this.getProvider(de.name);if(_e.isComponentSet())throw new Error(`Component ${de.name} has already been registered with ${this.name}`);_e.setComponent(de)}addOrOverwriteComponent(de){this.getProvider(de.name).isComponentSet()&&this.providers.delete(de.name),this.addComponent(de)}getProvider(de){if(this.providers.has(de))return this.providers.get(de);const _e=new ze(de,this);return this.providers.set(de,_e),_e}getProviders(){return Array.from(this.providers.values())}}},1877:(_n,at,H)=>{"use strict";H.d(at,{Am:()=>Qe,Ub:()=>Ge,Yd:()=>Ze,in:()=>O});const h=[];var O=(()=>{return(de=O||(O={}))[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",O;var de})();const ee={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},Ve=O.INFO,ze={[O.DEBUG]:"log",[O.VERBOSE]:"log",[O.INFO]:"info",[O.WARN]:"warn",[O.ERROR]:"error"},We=(de,_e,...Pe)=>{if(_e<de.logLevel)return;const ft=(new Date).toISOString(),rt=ze[_e];if(!rt)throw new Error(`Attempted to log a message with an invalid logType (value: ${_e})`);console[rt](`[${ft}]  ${de.name}:`,...Pe)};class Ze{constructor(_e){this.name=_e,this._logLevel=Ve,this._logHandler=We,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(_e){if(!(_e in O))throw new TypeError(`Invalid value "${_e}" assigned to \`logLevel\``);this._logLevel=_e}setLogLevel(_e){this._logLevel="string"==typeof _e?ee[_e]:_e}get logHandler(){return this._logHandler}set logHandler(_e){if("function"!=typeof _e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=_e}get userLogHandler(){return this._userLogHandler}set userLogHandler(_e){this._userLogHandler=_e}debug(..._e){this._userLogHandler&&this._userLogHandler(this,O.DEBUG,..._e),this._logHandler(this,O.DEBUG,..._e)}log(..._e){this._userLogHandler&&this._userLogHandler(this,O.VERBOSE,..._e),this._logHandler(this,O.VERBOSE,..._e)}info(..._e){this._userLogHandler&&this._userLogHandler(this,O.INFO,..._e),this._logHandler(this,O.INFO,..._e)}warn(..._e){this._userLogHandler&&this._userLogHandler(this,O.WARN,..._e),this._logHandler(this,O.WARN,..._e)}error(..._e){this._userLogHandler&&this._userLogHandler(this,O.ERROR,..._e),this._logHandler(this,O.ERROR,..._e)}}function Ge(de){h.forEach(_e=>{_e.setLogLevel(de)})}function Qe(de,_e){for(const Pe of h){let ft=null;_e&&_e.level&&(ft=ee[_e.level]),Pe.userLogHandler=null===de?null:(rt,et,...Qt)=>{const St=Qt.map(dt=>{if(null==dt)return null;if("string"==typeof dt)return dt;if("number"==typeof dt||"boolean"==typeof dt)return dt.toString();if(dt instanceof Error)return dt.message;try{return JSON.stringify(dt)}catch{return null}}).filter(dt=>dt).join(" ");et>=(ft??rt.logLevel)&&de({level:O[et].toLowerCase(),message:St,args:Qt,type:rt.name})}}}},259:(_n,at,H)=>{"use strict";H.d(at,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=H(9681);(0,h.registerVersion)("firebase","9.17.1","app")},9260:(_n,at,H)=>{"use strict";H.d(at,{Z:()=>h.Z});var h=H(3942);h.Z.registerVersion("firebase","9.17.1","app-compat")},9568:(_n,at,H)=>{"use strict";H.r(at);var h=H(5861),O=H(3942),ee=H(2722),Ve=H(2090),Ze=(H(9681),H(1877),H(4859));function Ge(){return window}function _e(){return(_e=(0,h.Z)(function*(Te,ie,Ie){var ot;const{BuildInfo:$t}=Ge();(0,ee.ap)(ie.sessionId,"AuthEvent did not contain a session ID");const Tn=yield dt(ie.sessionId),un={};return(0,ee.aq)()?un.ibi=$t.packageName:(0,ee.ar)()?un.apn=$t.packageName:(0,ee.as)(Te,"operation-not-supported-in-this-environment"),$t.displayName&&(un.appDisplayName=$t.displayName),un.sessionId=Tn,(0,ee.at)(Te,Ie,ie.type,void 0,null!==(ot=ie.eventId)&&void 0!==ot?ot:void 0,un)})).apply(this,arguments)}function ft(){return(ft=(0,h.Z)(function*(Te){const{BuildInfo:ie}=Ge(),Ie={};(0,ee.aq)()?Ie.iosBundleId=ie.packageName:(0,ee.ar)()?Ie.androidPackageName=ie.packageName:(0,ee.as)(Te,"operation-not-supported-in-this-environment"),yield(0,ee.au)(Te,Ie)})).apply(this,arguments)}function Qt(){return(Qt=(0,h.Z)(function*(Te,ie,Ie){const{cordova:ot}=Ge();let $t=()=>{};try{yield new Promise((Tn,un)=>{let xe=null;function we(){var bt;Tn();const In=null===(bt=ot.plugins.browsertab)||void 0===bt?void 0:bt.close;"function"==typeof In&&In(),"function"==typeof Ie?.close&&Ie.close()}function Ce(){xe||(xe=window.setTimeout(()=>{un((0,ee.aw)(Te,"redirect-cancelled-by-user"))},2e3))}function st(){"visible"===document?.visibilityState&&Ce()}ie.addPassiveListener(we),document.addEventListener("resume",Ce,!1),(0,ee.ar)()&&document.addEventListener("visibilitychange",st,!1),$t=()=>{ie.removePassiveListener(we),document.removeEventListener("resume",Ce,!1),document.removeEventListener("visibilitychange",st,!1),xe&&window.clearTimeout(xe)}})}finally{$t()}})).apply(this,arguments)}function dt(Te){return pn.apply(this,arguments)}function pn(){return(pn=(0,h.Z)(function*(Te){const ie=on(Te),Ie=yield crypto.subtle.digest("SHA-256",ie);return Array.from(new Uint8Array(Ie)).map($t=>$t.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function on(Te){if((0,ee.ap)(/[0-9a-zA-Z]+/.test(Te),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Te);const ie=new ArrayBuffer(Te.length),Ie=new Uint8Array(ie);for(let ot=0;ot<Te.length;ot++)Ie[ot]=Te.charCodeAt(ot);return Ie}class Ot extends ee.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ie=>{this.resolveInialized=ie})}addPassiveListener(ie){this.passiveListeners.add(ie)}removePassiveListener(ie){this.passiveListeners.delete(ie)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ie){return this.resolveInialized(),this.passiveListeners.forEach(Ie=>Ie(ie)),super.onEvent(ie)}initialized(){var ie=this;return(0,h.Z)(function*(){yield ie.initPromise})()}}function qe(Te){return lt.apply(this,arguments)}function lt(){return(lt=(0,h.Z)(function*(Te){const ie=yield Rt()._get(ht(Te));return ie&&(yield Rt()._remove(ht(Te))),ie})).apply(this,arguments)}function pt(){const Te=[],ie="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Ie=0;Ie<20;Ie++){const ot=Math.floor(Math.random()*ie.length);Te.push(ie.charAt(ot))}return Te.join("")}function Rt(){return(0,ee.az)(ee.b)}function ht(Te){return(0,ee.aA)("authEvent",Te.config.apiKey,Te.name)}function tt(Te){if(!Te?.includes("?"))return{};const[ie,...Ie]=Te.split("?");return(0,Ve.zd)(Ie.join("?"))}function It(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,ee.aw)("no-auth-event")}}function qt(){var Te;return(null===(Te=self?.location)||void 0===Te?void 0:Te.protocol)||null}function Lt(Te=(0,Ve.z$)()){return!("file:"!==qt()&&"ionic:"!==qt()&&"capacitor:"!==qt()||!Te.toLowerCase().match(/iphone|ipad|ipod|android/))}function ci(){try{const Te=self.localStorage,ie=ee.aI();if(Te)return Te.setItem(ie,"1"),Te.removeItem(ie),!function ei(Te=(0,Ve.z$)()){return function Bn(){return(0,Ve.w1)()&&11===document?.documentMode}()||function Un(Te=(0,Ve.z$)()){return/Edge\/\d+/.test(Te)}(Te)}()||(0,Ve.hl)()}catch{return Jn()&&(0,Ve.hl)()}return!1}function Jn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function dr(){return(function Ht(){return"http:"===qt()||"https:"===qt()}()||(0,Ve.ru)()||Lt())&&!function mn(){return(0,Ve.b$)()||(0,Ve.UG)()}()&&ci()&&!Jn()}function ti(){return Lt()&&typeof document<"u"}function bn(){return(bn=(0,h.Z)(function*(){return!!ti()&&new Promise(Te=>{const ie=setTimeout(()=>{Te(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ie),Te(!0)})})})).apply(this,arguments)}const yr={LOCAL:"local",NONE:"none",SESSION:"session"},Dr=ee.ax,mi="persistence";function yi(Te){return cn.apply(this,arguments)}function cn(){return(cn=(0,h.Z)(function*(Te){yield Te._initializationPromise;const ie=Dn(),Ie=ee.aA(mi,Te.config.apiKey,Te.name);ie&&ie.setItem(Ie,Te._getPersistence())})).apply(this,arguments)}function Dn(){var Te;try{return(null===(Te=function gi(){return typeof window<"u"?window:null}())||void 0===Te?void 0:Te.sessionStorage)||null}catch{return null}}const jn=ee.ax;class ar{constructor(){this.browserResolver=ee.az(ee.k),this.cordovaResolver=ee.az(class jt{constructor(){this._redirectPersistence=ee.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ee.aB,this._overrideRedirectResult=ee.aC}_initialize(ie){var Ie=this;return(0,h.Z)(function*(){const ot=ie._key();let $t=Ie.eventManagers.get(ot);return $t||($t=new Ot(ie),Ie.eventManagers.set(ot,$t),Ie.attachCallbackListeners(ie,$t)),$t})()}_openPopup(ie){(0,ee.as)(ie,"operation-not-supported-in-this-environment")}_openRedirect(ie,Ie,ot,$t){var Tn=this;return(0,h.Z)(function*(){!function St(Te){var ie,Ie,ot,$t,Tn,un,xe,we,Ce,st;const bt=Ge();(0,ee.ax)("function"==typeof(null===(ie=bt?.universalLinks)||void 0===ie?void 0:ie.subscribe),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,ee.ax)(typeof(null===(Ie=bt?.BuildInfo)||void 0===Ie?void 0:Ie.packageName)<"u",Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,ee.ax)("function"==typeof(null===(Tn=null===($t=null===(ot=bt?.cordova)||void 0===ot?void 0:ot.plugins)||void 0===$t?void 0:$t.browsertab)||void 0===Tn?void 0:Tn.openUrl),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ee.ax)("function"==typeof(null===(we=null===(xe=null===(un=bt?.cordova)||void 0===un?void 0:un.plugins)||void 0===xe?void 0:xe.browsertab)||void 0===we?void 0:we.isAvailable),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ee.ax)("function"==typeof(null===(st=null===(Ce=bt?.cordova)||void 0===Ce?void 0:Ce.InAppBrowser)||void 0===st?void 0:st.open),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ie);const un=yield Tn._initialize(ie);yield un.initialized(),un.resetRedirect(),(0,ee.aD)(),yield Tn._originValidation(ie);const xe=function Tt(Te,ie,Ie=null){return{type:ie,eventId:Ie,urlResponse:null,sessionId:pt(),postBody:null,tenantId:Te.tenantId,error:(0,ee.aw)(Te,"no-auth-event")}}(ie,ot,$t);yield function Wt(Te,ie){return Rt()._set(ht(Te),ie)}(ie,xe);const we=yield function de(Te,ie,Ie){return _e.apply(this,arguments)}(ie,xe,Ie),Ce=yield function rt(Te){const{cordova:ie}=Ge();return new Promise(Ie=>{ie.plugins.browsertab.isAvailable(ot=>{let $t=null;ot?ie.plugins.browsertab.openUrl(Te):$t=ie.InAppBrowser.open(Te,(0,ee.av)()?"_blank":"_system","location=yes"),Ie($t)})})}(we);return function et(Te,ie,Ie){return Qt.apply(this,arguments)}(ie,un,Ce)})()}_isIframeWebStorageSupported(ie,Ie){throw new Error("Method not implemented.")}_originValidation(ie){const Ie=ie._key();return this.originValidationPromises[Ie]||(this.originValidationPromises[Ie]=function Pe(Te){return ft.apply(this,arguments)}(ie)),this.originValidationPromises[Ie]}attachCallbackListeners(ie,Ie){const{universalLinks:ot,handleOpenURL:$t,BuildInfo:Tn}=Ge(),un=setTimeout((0,h.Z)(function*(){yield qe(ie),Ie.onEvent(It())}),500),xe=function(){var st=(0,h.Z)(function*(bt){clearTimeout(un);const In=yield qe(ie);let Hn=null;In&&bt?.url&&(Hn=function Dt(Te,ie){var Ie,ot;const $t=function Me(Te){const ie=tt(Te),Ie=ie.link?decodeURIComponent(ie.link):void 0,ot=tt(Ie).link,$t=ie.deep_link_id?decodeURIComponent(ie.deep_link_id):void 0;return tt($t).link||$t||ot||Ie||Te}(ie);if($t.includes("/__/auth/callback")){const Tn=tt($t),un=Tn.firebaseError?function yt(Te){try{return JSON.parse(Te)}catch{return null}}(decodeURIComponent(Tn.firebaseError)):null,xe=null===(ot=null===(Ie=un?.code)||void 0===Ie?void 0:Ie.split("auth/"))||void 0===ot?void 0:ot[1],we=xe?(0,ee.aw)(xe):null;return we?{type:Te.type,eventId:Te.eventId,tenantId:Te.tenantId,error:we,urlResponse:null,sessionId:null,postBody:null}:{type:Te.type,eventId:Te.eventId,tenantId:Te.tenantId,sessionId:Te.sessionId,urlResponse:$t,postBody:null}}return null}(In,bt.url)),Ie.onEvent(Hn||It())});return function(In){return st.apply(this,arguments)}}();typeof ot<"u"&&"function"==typeof ot.subscribe&&ot.subscribe(null,xe);const we=$t,Ce=`${Tn.packageName.toLowerCase()}://`;Ge().handleOpenURL=function(){var st=(0,h.Z)(function*(bt){if(bt.toLowerCase().startsWith(Ce)&&xe({url:bt}),"function"==typeof we)try{we(bt)}catch(In){console.error(In)}});return function(bt){return st.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ee.a,this._completeRedirectFn=ee.aB,this._overrideRedirectResult=ee.aC}_initialize(ie){var Ie=this;return(0,h.Z)(function*(){return yield Ie.selectUnderlyingResolver(),Ie.assertedUnderlyingResolver._initialize(ie)})()}_openPopup(ie,Ie,ot,$t){var Tn=this;return(0,h.Z)(function*(){return yield Tn.selectUnderlyingResolver(),Tn.assertedUnderlyingResolver._openPopup(ie,Ie,ot,$t)})()}_openRedirect(ie,Ie,ot,$t){var Tn=this;return(0,h.Z)(function*(){return yield Tn.selectUnderlyingResolver(),Tn.assertedUnderlyingResolver._openRedirect(ie,Ie,ot,$t)})()}_isIframeWebStorageSupported(ie,Ie){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ie,Ie)}_originValidation(ie){return this.assertedUnderlyingResolver._originValidation(ie)}get _shouldInitProactively(){return ti()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return jn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ie=this;return(0,h.Z)(function*(){if(ie.underlyingResolver)return;const Ie=yield function xr(){return bn.apply(this,arguments)}();ie.underlyingResolver=Ie?ie.cordovaResolver:ie.browserResolver})()}}function si(Te){return Te.unwrap()}function Wr(Te){return Pi(Te)}function Pi(Te){const{_tokenResponse:ie}=Te instanceof Ve.ZR?Te.customData:Te;if(!ie)return null;if(!(Te instanceof Ve.ZR)&&"temporaryProof"in ie&&"phoneNumber"in ie)return ee.P.credentialFromResult(Te);const Ie=ie.providerId;if(!Ie||Ie===ee.o.PASSWORD)return null;let ot;switch(Ie){case ee.o.GOOGLE:ot=ee.Q;break;case ee.o.FACEBOOK:ot=ee.N;break;case ee.o.GITHUB:ot=ee.T;break;case ee.o.TWITTER:ot=ee.W;break;default:const{oauthIdToken:$t,oauthAccessToken:Tn,oauthTokenSecret:un,pendingToken:xe,nonce:we}=ie;return Tn||un||$t||xe?xe?Ie.startsWith("saml.")?ee.aL._create(Ie,xe):ee.J._fromParams({providerId:Ie,signInMethod:Ie,pendingToken:xe,idToken:$t,accessToken:Tn}):new ee.U(Ie).credential({idToken:$t,accessToken:Tn,rawNonce:we}):null}return Te instanceof Ve.ZR?ot.credentialFromError(Te):ot.credentialFromResult(Te)}function lr(Te,ie){return ie.catch(Ie=>{throw Ie instanceof Ve.ZR&&function nr(Te,ie){var Ie;const ot=null===(Ie=ie.customData)||void 0===Ie?void 0:Ie._tokenResponse;if("auth/multi-factor-auth-required"===ie?.code)ie.resolver=new jr(Te,ee.an(Te,ie));else if(ot){const $t=Pi(ie),Tn=ie;$t&&(Tn.credential=$t,Tn.tenantId=ot.tenantId||void 0,Tn.email=ot.email||void 0,Tn.phoneNumber=ot.phoneNumber||void 0)}}(Te,Ie),Ie}).then(Ie=>{const $t=Ie.user;return{operationType:Ie.operationType,credential:Wr(Ie),additionalUserInfo:ee.al(Ie),user:zn.getOrCreate($t)}})}function Pn(Te,ie){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,h.Z)(function*(Te,ie){const Ie=yield ie;return{verificationId:Ie.verificationId,confirm:ot=>lr(Te,Ie.confirm(ot))}})).apply(this,arguments)}class jr{constructor(ie,Ie){this.resolver=Ie,this.auth=function zr(Te){return Te.wrapped()}(ie)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ie){return lr(si(this.auth),this.resolver.resolveSignIn(ie))}}class zn{constructor(ie){this._delegate=ie,this.multiFactor=ee.ao(ie)}static getOrCreate(ie){return zn.USER_MAP.has(ie)||zn.USER_MAP.set(ie,new zn(ie)),zn.USER_MAP.get(ie)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ie){return this._delegate.getIdTokenResult(ie)}getIdToken(ie){return this._delegate.getIdToken(ie)}linkAndRetrieveDataWithCredential(ie){return this.linkWithCredential(ie)}linkWithCredential(ie){var Ie=this;return(0,h.Z)(function*(){return lr(Ie.auth,ee.Z(Ie._delegate,ie))})()}linkWithPhoneNumber(ie,Ie){var ot=this;return(0,h.Z)(function*(){return Pn(ot.auth,ee.l(ot._delegate,ie,Ie))})()}linkWithPopup(ie){var Ie=this;return(0,h.Z)(function*(){return lr(Ie.auth,ee.d(Ie._delegate,ie,ar))})()}linkWithRedirect(ie){var Ie=this;return(0,h.Z)(function*(){return yield yi(ee.aE(Ie.auth)),ee.g(Ie._delegate,ie,ar)})()}reauthenticateAndRetrieveDataWithCredential(ie){return this.reauthenticateWithCredential(ie)}reauthenticateWithCredential(ie){var Ie=this;return(0,h.Z)(function*(){return lr(Ie.auth,ee._(Ie._delegate,ie))})()}reauthenticateWithPhoneNumber(ie,Ie){return Pn(this.auth,ee.r(this._delegate,ie,Ie))}reauthenticateWithPopup(ie){return lr(this.auth,ee.e(this._delegate,ie,ar))}reauthenticateWithRedirect(ie){var Ie=this;return(0,h.Z)(function*(){return yield yi(ee.aE(Ie.auth)),ee.h(Ie._delegate,ie,ar)})()}sendEmailVerification(ie){return ee.ab(this._delegate,ie)}unlink(ie){var Ie=this;return(0,h.Z)(function*(){return yield ee.ak(Ie._delegate,ie),Ie})()}updateEmail(ie){return ee.ag(this._delegate,ie)}updatePassword(ie){return ee.ah(this._delegate,ie)}updatePhoneNumber(ie){return ee.u(this._delegate,ie)}updateProfile(ie){return ee.af(this._delegate,ie)}verifyBeforeUpdateEmail(ie,Ie){return ee.ac(this._delegate,ie,Ie)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zn.USER_MAP=new WeakMap;const vn=ee.ax;let Gt=(()=>{class Te{constructor(Ie,ot){if(this.app=Ie,ot.isInitialized())return this._delegate=ot.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:$t}=Ie.options;vn($t,"invalid-api-key",{appName:Ie.name}),vn($t,"invalid-api-key",{appName:Ie.name});const Tn=typeof window<"u"?ar:void 0;this._delegate=ot.initialize({options:{persistence:sr($t,Ie.name),popupRedirectResolver:Tn}}),this._delegate._updateErrorMap(ee.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Ie){this._delegate.languageCode=Ie}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Ie){this._delegate.tenantId=Ie}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Ie,ot){ee.G(this._delegate,Ie,ot)}applyActionCode(Ie){return ee.a2(this._delegate,Ie)}checkActionCode(Ie){return ee.a3(this._delegate,Ie)}confirmPasswordReset(Ie,ot){return ee.a1(this._delegate,Ie,ot)}createUserWithEmailAndPassword(Ie,ot){var $t=this;return(0,h.Z)(function*(){return lr($t._delegate,ee.a5($t._delegate,Ie,ot))})()}fetchProvidersForEmail(Ie){return this.fetchSignInMethodsForEmail(Ie)}fetchSignInMethodsForEmail(Ie){return ee.aa(this._delegate,Ie)}isSignInWithEmailLink(Ie){return ee.a8(this._delegate,Ie)}getRedirectResult(){var Ie=this;return(0,h.Z)(function*(){vn(dr(),Ie._delegate,"operation-not-supported-in-this-environment");const ot=yield ee.j(Ie._delegate,ar);return ot?lr(Ie._delegate,Promise.resolve(ot)):{credential:null,user:null}})()}addFrameworkForLogging(Ie){!function Nn(Te,ie){(0,ee.aE)(Te)._logFramework(ie)}(this._delegate,Ie)}onAuthStateChanged(Ie,ot,$t){const{next:Tn,error:un,complete:xe}=wn(Ie,ot,$t);return this._delegate.onAuthStateChanged(Tn,un,xe)}onIdTokenChanged(Ie,ot,$t){const{next:Tn,error:un,complete:xe}=wn(Ie,ot,$t);return this._delegate.onIdTokenChanged(Tn,un,xe)}sendSignInLinkToEmail(Ie,ot){return ee.a7(this._delegate,Ie,ot)}sendPasswordResetEmail(Ie,ot){return ee.a0(this._delegate,Ie,ot||void 0)}setPersistence(Ie){var ot=this;return(0,h.Z)(function*(){let $t;switch(function zs(Te,ie){Dr(Object.values(yr).includes(ie),Te,"invalid-persistence-type"),(0,Ve.b$)()?Dr(ie!==yr.SESSION,Te,"unsupported-persistence-type"):(0,Ve.UG)()?Dr(ie===yr.NONE,Te,"unsupported-persistence-type"):Jn()?Dr(ie===yr.NONE||ie===yr.LOCAL&&(0,Ve.hl)(),Te,"unsupported-persistence-type"):Dr(ie===yr.NONE||ci(),Te,"unsupported-persistence-type")}(ot._delegate,Ie),Ie){case yr.SESSION:$t=ee.a;break;case yr.LOCAL:$t=(yield ee.az(ee.i)._isAvailable())?ee.i:ee.b;break;case yr.NONE:$t=ee.L;break;default:return ee.as("argument-error",{appName:ot._delegate.name})}return ot._delegate.setPersistence($t)})()}signInAndRetrieveDataWithCredential(Ie){return this.signInWithCredential(Ie)}signInAnonymously(){return lr(this._delegate,ee.X(this._delegate))}signInWithCredential(Ie){return lr(this._delegate,ee.Y(this._delegate,Ie))}signInWithCustomToken(Ie){return lr(this._delegate,ee.$(this._delegate,Ie))}signInWithEmailAndPassword(Ie,ot){return lr(this._delegate,ee.a6(this._delegate,Ie,ot))}signInWithEmailLink(Ie,ot){return lr(this._delegate,ee.a9(this._delegate,Ie,ot))}signInWithPhoneNumber(Ie,ot){return Pn(this._delegate,ee.s(this._delegate,Ie,ot))}signInWithPopup(Ie){var ot=this;return(0,h.Z)(function*(){return vn(dr(),ot._delegate,"operation-not-supported-in-this-environment"),lr(ot._delegate,ee.c(ot._delegate,Ie,ar))})()}signInWithRedirect(Ie){var ot=this;return(0,h.Z)(function*(){return vn(dr(),ot._delegate,"operation-not-supported-in-this-environment"),yield yi(ot._delegate),ee.f(ot._delegate,Ie,ar)})()}updateCurrentUser(Ie){return this._delegate.updateCurrentUser(Ie)}verifyPasswordResetCode(Ie){return ee.a4(this._delegate,Ie)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Te.Persistence=yr,Te})();function wn(Te,ie,Ie){let ot=Te;"function"!=typeof Te&&({next:ot,error:ie,complete:Ie}=Te);const $t=ot;return{next:un=>$t(un&&zn.getOrCreate(un)),error:ie,complete:Ie}}function sr(Te,ie){const Ie=function br(Te,ie){const Ie=Dn();if(!Ie)return[];const ot=ee.aA(mi,Te,ie);switch(Ie.getItem(ot)){case yr.NONE:return[ee.L];case yr.LOCAL:return[ee.i,ee.a];case yr.SESSION:return[ee.a];default:return[]}}(Te,ie);if(typeof self<"u"&&!Ie.includes(ee.i)&&Ie.push(ee.i),typeof window<"u")for(const ot of[ee.b,ee.a])Ie.includes(ot)||Ie.push(ot);return Ie.includes(ee.L)||Ie.push(ee.L),Ie}class Wn{constructor(){this.providerId="phone",this._delegate=new ee.P(si(O.Z.auth()))}static credential(ie,Ie){return ee.P.credential(ie,Ie)}verifyPhoneNumber(ie,Ie){return this._delegate.verifyPhoneNumber(ie,Ie)}unwrap(){return this._delegate}}Wn.PHONE_SIGN_IN_METHOD=ee.P.PHONE_SIGN_IN_METHOD,Wn.PROVIDER_ID=ee.P.PROVIDER_ID;const zt=ee.ax;class Le{constructor(ie,Ie,ot=O.Z.app()){var $t;zt(null===($t=ot.options)||void 0===$t?void 0:$t.apiKey,"invalid-api-key",{appName:ot.name}),this._delegate=new ee.R(ie,Ie,ot.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ye(Te){Te.INTERNAL.registerComponent(new Ze.wA("auth-compat",ie=>{const Ie=ie.getProvider("app-compat").getImmediate(),ot=ie.getProvider("auth");return new Gt(Ie,ot)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ee.A.EMAIL_SIGNIN,PASSWORD_RESET:ee.A.PASSWORD_RESET,RECOVER_EMAIL:ee.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ee.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ee.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ee.A.VERIFY_EMAIL}},EmailAuthProvider:ee.M,FacebookAuthProvider:ee.N,GithubAuthProvider:ee.T,GoogleAuthProvider:ee.Q,OAuthProvider:ee.U,SAMLAuthProvider:ee.V,PhoneAuthProvider:Wn,PhoneMultiFactorGenerator:ee.m,RecaptchaVerifier:Le,TwitterAuthProvider:ee.W,Auth:Gt,AuthCredential:ee.H,Error:Ve.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Te.registerVersion("@firebase/auth-compat","0.3.3")}(O.Z)},8766:(_n,at,H)=>{"use strict";H.d(at,{Lj:()=>Oe,X3:()=>on});var h=H(5861);let ee,Ve;const Ze=new WeakMap,Ge=new WeakMap,Qe=new WeakMap,de=new WeakMap,_e=new WeakMap;let rt={get(lt,Dt,pt){if(lt instanceof IDBTransaction){if("done"===Dt)return Ge.get(lt);if("objectStoreNames"===Dt)return lt.objectStoreNames||Qe.get(lt);if("store"===Dt)return pt.objectStoreNames[1]?void 0:pt.objectStore(pt.objectStoreNames[0])}return dt(lt[Dt])},set:(lt,Dt,pt)=>(lt[Dt]=pt,!0),has:(lt,Dt)=>lt instanceof IDBTransaction&&("done"===Dt||"store"===Dt)||Dt in lt};function St(lt){return"function"==typeof lt?function Qt(lt){return lt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function We(){return Ve||(Ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(lt)?function(...Dt){return lt.apply(pn(this),Dt),dt(Ze.get(this))}:function(...Dt){return dt(lt.apply(pn(this),Dt))}:function(Dt,...pt){const Rt=lt.call(pn(this),Dt,...pt);return Qe.set(Rt,Dt.sort?Dt.sort():[Dt]),dt(Rt)}}(lt):(lt instanceof IDBTransaction&&function ft(lt){if(Ge.has(lt))return;const Dt=new Promise((pt,Rt)=>{const ht=()=>{lt.removeEventListener("complete",yt),lt.removeEventListener("error",Me),lt.removeEventListener("abort",Me)},yt=()=>{pt(),ht()},Me=()=>{Rt(lt.error||new DOMException("AbortError","AbortError")),ht()};lt.addEventListener("complete",yt),lt.addEventListener("error",Me),lt.addEventListener("abort",Me)});Ge.set(lt,Dt)}(lt),((lt,Dt)=>Dt.some(pt=>lt instanceof pt))(lt,function ze(){return ee||(ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(lt,rt):lt)}function dt(lt){if(lt instanceof IDBRequest)return function Pe(lt){const Dt=new Promise((pt,Rt)=>{const ht=()=>{lt.removeEventListener("success",yt),lt.removeEventListener("error",Me)},yt=()=>{pt(dt(lt.result)),ht()},Me=()=>{Rt(lt.error),ht()};lt.addEventListener("success",yt),lt.addEventListener("error",Me)});return Dt.then(pt=>{pt instanceof IDBCursor&&Ze.set(pt,lt)}).catch(()=>{}),_e.set(Dt,lt),Dt}(lt);if(de.has(lt))return de.get(lt);const Dt=St(lt);return Dt!==lt&&(de.set(lt,Dt),_e.set(Dt,lt)),Dt}const pn=lt=>_e.get(lt);function on(lt,Dt,{blocked:pt,upgrade:Rt,blocking:ht,terminated:yt}={}){const Me=indexedDB.open(lt,Dt),tt=dt(Me);return Rt&&Me.addEventListener("upgradeneeded",ut=>{Rt(dt(Me.result),ut.oldVersion,ut.newVersion,dt(Me.transaction))}),pt&&Me.addEventListener("blocked",()=>pt()),tt.then(ut=>{yt&&ut.addEventListener("close",()=>yt()),ht&&ut.addEventListener("versionchange",()=>ht())}).catch(()=>{}),tt}function Oe(lt,{blocked:Dt}={}){const pt=indexedDB.deleteDatabase(lt);return Dt&&pt.addEventListener("blocked",()=>Dt()),dt(pt).then(()=>{})}const Ot=["get","getKey","getAll","getAllKeys","count"],Tt=["put","add","delete","clear"],Wt=new Map;function qe(lt,Dt){if(!(lt instanceof IDBDatabase)||Dt in lt||"string"!=typeof Dt)return;if(Wt.get(Dt))return Wt.get(Dt);const pt=Dt.replace(/FromIndex$/,""),Rt=Dt!==pt,ht=Tt.includes(pt);if(!(pt in(Rt?IDBIndex:IDBObjectStore).prototype)||!ht&&!Ot.includes(pt))return;const yt=function(){var Me=(0,h.Z)(function*(tt,...ut){const jt=this.transaction(tt,ht?"readwrite":"readonly");let Bt=jt.store;return Rt&&(Bt=Bt.index(ut.shift())),(yield Promise.all([Bt[pt](...ut),ht&&jt.done]))[0]});return function(ut){return Me.apply(this,arguments)}}();return Wt.set(Dt,yt),yt}!function et(lt){rt=lt(rt)}(lt=>({...lt,get:(Dt,pt,Rt)=>qe(Dt,pt)||lt.get(Dt,pt,Rt),has:(Dt,pt)=>!!qe(Dt,pt)||lt.has(Dt,pt)}))},1:(_n,at,H)=>{"use strict";H.d(at,{e$:()=>ut,CT:()=>jt});var h=H(4650),O=H(6895),ee=H(8996),Ve=H(9646),ze=H(4408),We=H(727);const Ze={schedule(qt){let Ht=requestAnimationFrame,Lt=cancelAnimationFrame;const{delegate:mn}=Ze;mn&&(Ht=mn.requestAnimationFrame,Lt=mn.cancelAnimationFrame);const Bn=Ht(Un=>{Lt=void 0,qt(Un)});return new We.w0(()=>Lt?.(Bn))},requestAnimationFrame(...qt){const{delegate:Ht}=Ze;return(Ht?.requestAnimationFrame||requestAnimationFrame)(...qt)},cancelAnimationFrame(...qt){const{delegate:Ht}=Ze;return(Ht?.cancelAnimationFrame||cancelAnimationFrame)(...qt)},delegate:void 0};var Qe=H(7565);const _e=new class de extends Qe.v{flush(Ht){this._active=!0;const Lt=this._scheduled;this._scheduled=void 0;const{actions:mn}=this;let Bn;Ht=Ht||mn.shift();do{if(Bn=Ht.execute(Ht.state,Ht.delay))break}while((Ht=mn[0])&&Ht.id===Lt&&mn.shift());if(this._active=!1,Bn){for(;(Ht=mn[0])&&Ht.id===Lt&&mn.shift();)Ht.unsubscribe();throw Bn}}}(class Ge extends ze.o{constructor(Ht,Lt){super(Ht,Lt),this.scheduler=Ht,this.work=Lt}requestAsyncId(Ht,Lt,mn=0){return null!==mn&&mn>0?super.requestAsyncId(Ht,Lt,mn):(Ht.actions.push(this),Ht._scheduled||(Ht._scheduled=Ze.requestAnimationFrame(()=>Ht.flush(void 0))))}recycleAsyncId(Ht,Lt,mn=0){var Bn;if(null!=mn?mn>0:this.delay>0)return super.recycleAsyncId(Ht,Lt,mn);const{actions:Un}=Ht;null!=Lt&&(null===(Bn=Un[Un.length-1])||void 0===Bn?void 0:Bn.id)!==Lt&&(Ze.cancelAnimationFrame(Lt),Ht._scheduled=void 0)}});var ft=H(7579),rt=H(1135),et=H(9770),Qt=H(9751),St=H(4004),dt=H(8505),pn=H(3151),on=H(5363),Oe=H(9300),Ot=H(3900),Tt=H(4482),Wt=H(5403),qe=H(8421),lt=H(5032);const pt=["container"],Rt=new h.OlP("LottieOptions");let yt=(()=>{class qt{constructor(Lt,mn){this.ngZone=Lt,this.options=mn,this.player$=function ht(qt,Ht){const Lt=qt();return(Lt instanceof Promise?(0,ee.D)(Lt).pipe((0,St.U)(Bn=>Bn.default||Bn)):(0,Ve.of)(Lt)).pipe((0,dt.b)(Bn=>Bn.useWebWorker(Ht)),(0,pn.d)({bufferSize:1,refCount:!0}))}(this.options.player,this.options.useWebWorker).pipe((0,on.Q)(_e))}loadAnimation(Lt){return this.player$.pipe((0,St.U)(mn=>this.createAnimationItem(mn,Lt)))}resolveOptions(Lt,mn){return Object.assign({container:mn,renderer:"svg",loop:!0,autoplay:!0},Lt)}createAnimationItem(Lt,mn){return this.ngZone.runOutsideAngular(()=>Lt.loadAnimation(mn))}}return qt.\u0275fac=function(Lt){return new(Lt||qt)(h.LFG(h.R0b),h.LFG(Rt))},qt.\u0275prov=h.Yz7({token:qt,factory:qt.\u0275fac,providedIn:"root"}),qt})(),Me=(()=>{class qt{constructor(Lt,mn,Bn){this.ngZone=Lt,this.platformId=mn,this.animationLoader=Bn,this.options=null,this.containerClass=null,this.styles=null,this.animationCreated=this.getAnimationItem(),this.complete=this.awaitAnimationItemAndStartListening("complete"),this.loopComplete=this.awaitAnimationItemAndStartListening("loopComplete"),this.enterFrame=this.awaitAnimationItemAndStartListening("enterFrame"),this.segmentStart=this.awaitAnimationItemAndStartListening("segmentStart"),this.configReady=this.awaitAnimationItemAndStartListening("config_ready"),this.dataReady=this.awaitAnimationItemAndStartListening("data_ready"),this.domLoaded=this.awaitAnimationItemAndStartListening("DOMLoaded"),this.destroy=this.awaitAnimationItemAndStartListening("destroy"),this.error=this.awaitAnimationItemAndStartListening("error"),this.destroy$=new ft.x,this.loadAnimation$=new ft.x,this.animationItem$=new rt.X(null),this.setupLoadAnimationListener()}ngOnDestroy(){this.destroy$.next(),this.destroyAnimation()}loadAnimation(Lt,mn){this.ngZone.runOutsideAngular(()=>this.loadAnimation$.next([Lt,mn]))}getAnimationItem(){return(0,et.P)(()=>this.animationItem$).pipe((0,Oe.h)(Lt=>null!==Lt))}awaitAnimationItemAndStartListening(Lt){return this.getAnimationItem().pipe((0,Ot.w)(mn=>new Qt.y(Bn=>{this.ngZone.runOutsideAngular(()=>{mn.addEventListener(Lt,Un=>{this.ngZone.runOutsideAngular(()=>{Bn.next(Un)})})})})))}setupLoadAnimationListener(){this.loadAnimation$.pipe((0,Oe.h)(([mn])=>(0,O.NF)(this.platformId)&&void 0!==mn.options)).pipe((0,Ot.w)(([mn,Bn])=>(this.destroyAnimation(),this.animationLoader.loadAnimation(this.animationLoader.resolveOptions(mn.options.currentValue,Bn)))),function Dt(qt){return(0,Tt.e)((Ht,Lt)=>{(0,qe.Xf)(qt).subscribe((0,Wt.x)(Lt,()=>Lt.complete(),lt.Z)),!Lt.closed&&Ht.subscribe(Lt)})}(this.destroy$)).subscribe(mn=>{this.ngZone.run(()=>this.animationItem$.next(mn))})}destroyAnimation(){const Lt=this.animationItem$.getValue();null!==Lt&&(Lt.destroy(),this.animationItem$.next(null))}}return qt.\u0275fac=function(Lt){return new(Lt||qt)(h.Y36(h.R0b),h.Y36(h.Lbi),h.Y36(yt))},qt.\u0275dir=h.lG2({type:qt,selectors:[["","lottie",""]],inputs:{options:"options",containerClass:"containerClass",styles:"styles"},outputs:{animationCreated:"animationCreated",complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"configReady",dataReady:"dataReady",domLoaded:"domLoaded",destroy:"destroy",error:"error"}}),qt})(),ut=(()=>{class qt extends Me{constructor(Lt,mn,Bn){super(Lt,mn,Bn),this.width=null,this.height=null,this.container=null}ngOnChanges(Lt){super.loadAnimation(Lt,this.container.nativeElement)}}return qt.\u0275fac=function(Lt){return new(Lt||qt)(h.Y36(h.R0b),h.Y36(h.Lbi),h.Y36(yt))},qt.\u0275cmp=h.Xpm({type:qt,selectors:[["ng-lottie"]],viewQuery:function(Lt,mn){if(1&Lt&&h.Gf(pt,7),2&Lt){let Bn;h.iGM(Bn=h.CRH())&&(mn.container=Bn.first)}},inputs:{width:"width",height:"height"},standalone:!0,features:[h.qOj,h.TTD,h.jDz],decls:2,vars:6,consts:[[3,"ngStyle","ngClass"],["container",""]],template:function(Lt,mn){1&Lt&&h._UZ(0,"div",0,1),2&Lt&&(h.Udp("width",mn.width||"100%")("height",mn.height||"100%"),h.Q6J("ngStyle",mn.styles)("ngClass",mn.containerClass))},dependencies:[O.ez,O.mk,O.PC],encapsulation:2,changeDetection:0}),qt})(),jt=(()=>{class qt{static forRoot(Lt){return{ngModule:qt,providers:[{provide:Rt,useValue:Lt}]}}}return qt.\u0275fac=function(Lt){return new(Lt||qt)},qt.\u0275mod=h.oAB({type:qt}),qt.\u0275inj=h.cJS({imports:[ut]}),qt})()},5861:(_n,at,H)=>{"use strict";function h(ee,Ve,ze,We,Ze,Ge,Qe){try{var de=ee[Ge](Qe),_e=de.value}catch(Pe){return void ze(Pe)}de.done?Ve(_e):Promise.resolve(_e).then(We,Ze)}function O(ee){return function(){var Ve=this,ze=arguments;return new Promise(function(We,Ze){var Ge=ee.apply(Ve,ze);function Qe(_e){h(Ge,We,Ze,Qe,de,"next",_e)}function de(_e){h(Ge,We,Ze,Qe,de,"throw",_e)}Qe(void 0)})}}H.d(at,{Z:()=>O})}},_n=>{_n(_n.s=46)}]);